<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
    <title>
         Observatory &ndash; Codelibrary 
    </title>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-41201218-21"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-41201218-21');
    </script>

    
    

    
    
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css"/>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/instantsearch.css@7.3.1/themes/algolia-min.css"
          integrity="sha256-HB49n/BZjuqiCtQQf49OdZn63XuKFaxcIHWf0HNKte8="
          crossorigin="anonymous">

    
    <link rel="stylesheet"
          type="text/css"
          href="/scss/main.css" />
    <link rel="icon"
          type="image/png"
          sizes="32x32"
          href="/favicon-32x32.png">
    <link rel="icon"
          type="image/png"
          sizes="16x16"
          href="/favicon-16x16.png">
    <link rel="shortcut icon"
          href="/favicon.ico">
</head>

<body>

<nav class="navbar is-fixed-top"
     role="navigation"
     aria-label="Main navigation">
    <div class="navbar-brand">
        <button class="navbar-burger burger"
                type="button"
                data-target="sidebarNavbar"
                aria-controls="sidebarNavbar"
                aria-expanded="false"
                aria-label="Main menu">
            Menu
        </button>
        <a class="navbar-item"
           href="/"
           title="Back to the homepage">
            <img src="/img/ods-logo-helphub.svg"
                 alt="Helphub Logo"/>
        </a>
        <button class="navbar-burger burger"
                type="button"
                data-target="helphubNavbar"
                aria-controls="helphubNavbar"
                aria-expanded="false"
                aria-label="Help Hub Menu">
            Help Hub
        </button>
    </div>
    <div class="navbar-menu"
         id="helphubNavbar">
        <div class="navbar-start">
            <a class="navbar-item"
               href="https://help.opendatasoft.com/">
                Help Hub
            </a>
            <a class="navbar-item"
               href="https://help.opendatasoft.com/platform/en/">
                User guide
            </a>
            <a class="navbar-item is-active"
               href="https://codelibrary.opendatasoft.com">
                Code Library
            </a>
            <a class="navbar-item"
               href="https://help.opendatasoft.com/faq-glossary/en/">
                FAQ
            </a>
            <a class="navbar-item"
               href="https://help.opendatasoft.com/widgets/">
                Widgets
            </a>
            <a class="navbar-item"
               href="https://help.opendatasoft.com/en/apis/">
                APIs
            </a>
            <a class="navbar-item"
               href="https://academy.opendatasoft.com/page/homepage">
                Academy
            </a>
        </div>
    </div>
</nav>

<div class="columns is-desktop codelibrary">
    <div class="column is-narrow">
    <aside class="sidebar menu"
       id="sidebarNavbar">
    <div class="sidebar-content">
        <div id="algolia-box"></div>
        <div id="algolia-results"></div>

        
        
        <ul class="menu-list">
            <li>
                <a class="sidebar-subtitle"
                   href="https://codelibrary.opendatasoft.com">
                    Home
                </a>
            </li>
            
              
                
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
              <li>
                  <a href="/components/"
                     class="sidebar-subtitle">
                      Components
                      
                        <span class="tag pill is-size-7 is-rounded is-info">2</span>
                      
                  </a>
              </li>
              
            
              
              <li>
                  <a class="sidebar-subtitle " href="/page-templates/">
                  Page templates
                  </a>
                  <ul>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/dashboard/">
                              <div>
                                Dashboard template
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/datastory/">
                              <div>
                                Data Story
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/fullscreen-map/">
                              <div>
                                Fullscreen map with filters
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/home-1/">
                              <div>
                                Home page 1
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/home-2/">
                              <div>
                                Home page 2
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/home-3/">
                              <div>
                                Home page 3
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/light-dashboard/">
                              <div>
                                Light Dashboard
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/listing-generator/">
                              <div>
                                Listing generator
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/map-refine/">
                              <div>
                                Map &amp; Refine
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/map-listing/">
                              <div>
                                Map Listing Generator
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="is-active" href="https://codelibrary.opendatasoft.com/page-templates/observatory/">
                              <div>
                                Observatory
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/regional-covid/">
                              <div>
                                Regional COVID-19 Dashboard
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/timeline/">
                              <div>
                                Timeline
                                
                                
                              </div>
                            </a>
                        </li>
                      
                  </ul>
              </li>
              
            
              
                
                
                  
                  
                
                  
                  
                
                  
                  
                
              <li>
                  <a href="/portal-themes/"
                     class="sidebar-subtitle">
                      Portal themes
                      
                  </a>
              </li>
              
            
              
                
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
              <li>
                  <a href="/widget-tricks/"
                     class="sidebar-subtitle">
                      Widget tricks
                      
                        <span class="tag pill is-size-7 is-rounded is-info">5</span>
                      
                  </a>
              </li>
              
            
        </ul>
        <p class="menu-label">
            Tags
        </p>
        <div class="tags">
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/aggregation/">
                aggregation
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/chart/">
                chart
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/date/">
                date
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/display/">
                display
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/filter/">
                filter
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/geo/">
                geo
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/gtfs/">
                gtfs
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/list/">
                list
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/map/">
                map
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/navigation/">
                navigation
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/ods-aggregation/">
                ods-aggregation
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/ods-analysis/">
                ods-analysis
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/ods-maps/">
                ods-maps
            </a>
            
        </div>
    </div>
</aside>

    </div>
    <div class="column codelibrary-content">
    
  <section>
    <div class="content-header container is-max-desktop mb-5">
      <div class="content">
        <h1>Page Templates - Observatory</h1>
        
      </div>
    </div>
    
    <div class="container">
      <div class="box box-example">
        <h2 class="title is-2">
          The demographic observatory
          
          <a class="is-link" href="#the-demographic-observatory">
            <span class="icon">
              <img src="/img/fas-link.svg" />
            </span>
          </a>
        </h2>
        
        <p>Analytic view with KPIs and charts, map view with multiple data layers</p>

        


<div class="codepen">
    
    
    

    <form id="form-the-demographic-observatory"
          action="https://codepen.io/pen/define"
          method="POST"
          target="_blank">
        <input type="hidden"
               name="data"
               value='{
               "title": "New Pen!",
               "head": &#34;\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.css\&#34;\u003e\n\n\u003c!-- ODS Platform CSS - must be hosted on static : WIP --\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://codelibrary.opendatasoft.com/css/theme.css\&#34;\u003e\n\n\u003cscript src=\&#34;//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;//cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.0/angular.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;//cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.8.2/angular-sanitize.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/angular-i18n/1.8.2/angular-locale_fr.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.js\&#34;\u003e\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;https://codelibrary.opendatasoft.com/js/platform-filters.js\&#34;\u003e\u003c/script\u003e\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;https://codelibrary.opendatasoft.com/js/ods-catalog-card.js\&#34;\u003e\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34;\u003e\n    angular.module(&#39;ods-widgets&#39;).config(function (ODSWidgetsConfigProvider) {\n        ODSWidgetsConfigProvider.setConfig({\n            \&#34;defaultDomain\&#34;: \&#34;https://userclub.opendatasoft.com/\&#34;,\n            \&#34;basemaps\&#34;: [\n                {\n                    \&#34;provider\&#34;: \&#34;jawg.light\&#34;,\n                    \&#34;label\&#34;: \&#34;Jawg Light\&#34;,\n                    \&#34;jawg_apikey\&#34;: \&#34;opendatasoft-community\&#34;\n                },\n                {\n                    \&#34;provider\&#34;: \&#34;jawg.streets\&#34;,\n                    \&#34;label\&#34;: \&#34;Jawg Streets\&#34;,\n                    \&#34;jawg_apikey\&#34;: \&#34;opendatasoft-community\&#34;,\n                    \&#34;id\&#34;: \&#34;streets\&#34;\n                }\n            ],\n            \&#34;themes\&#34;: {\n                &#39;default&#39;: {\n                    &#39;url&#39;: &#39;/img/ods.svg&#39;\n                },\n                &#39;Santé&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/doctors.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Culture, Patrimoine&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/culture.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Éducation, Formation, Recherche, Enseignement&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/college.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Environment&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/leaf.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Transports, Déplacements&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/train_station.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Aménagement du territoire, Urbanisme, Bâtiments, Équipements, Logement&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/townplanning.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Économie, Business, PME, Développement économique, Emploi&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/economy.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Administration, Gouvernement, Finances publiques, Citoyenneté&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/administration.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Justice, Sécurité, Police, Crime&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/court.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Sport, Loisirs&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/soccer.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Hébergement, Restauration&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/accommodation.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Services, Social&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/social.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Checklist&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/copyshop.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Usages&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/bike.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                }\n            },\n            \&#34;mapPrependAttribution\&#34;: \&#34;Jawg apikey NOT suitable for production\&#34;\n        });\n    });\n\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34;\u003e\n    document.addEventListener(\&#34;DOMContentLoaded\&#34;, function () {\n        document.querySelectorAll(&#39;a[href=\&#34;#\&#34;]&#39;).forEach((el) =\u003e {\n            el.addEventListener(&#39;click&#39;, (event) =\u003e {\n                event.preventDefault();\n            });\n        })\n    });\n\u003c/script\u003e\n&#34;,
               "editors": 110,
               "html": &#34;\u003cdiv ng-app=\&#34;ods-widgets\&#34;\u003e\n\u003cdiv class=\&#34;observatory\&#34; ng-init=\&#34;values.modalswitchstatus = false\&#34;\u003e\n    \u003cdiv class=\&#34;backdrop\&#34;\n         ng-click=\&#34;values.modalswitchstatus = !values.modalswitchstatus\&#34;\n         ng-class=\&#34;{&#39;backdrop-active&#39;:values.modalswitchstatus}\&#34;\u003e\n    \u003c/div\u003e\n\n    \u003cdiv class=\&#34;container\&#34;\u003e\n        \u003cods-dataset-context context=\&#34;ctx1,ctx2,ctx3\&#34;\n                             ctx1-dataset=\&#34;buildingref-france-bpe-all-geolocated\&#34;\n                             ctx1-parameters=\&#34;{&#39;disjunctive.epci_name&#39;:true}\&#34;\n                             ctx1-domain=\&#34;public\&#34;\n                             ctx2-dataset=\&#34;buildingref-france-bpe-all-geolocated\&#34;\n                             ctx2-parameters=\&#34;{&#39;disjunctive.epci_name&#39;:true,&#39;refine.category&#39;:&#39;Services aux particuliers&#39;}\&#34;\n                             ctx2-domain=\&#34;public\&#34;\n                             ctx3-dataset=\&#34;buildingref-france-bpe-all-geolocated\&#34;\n                             ctx3-parameters=\&#34;{&#39;disjunctive.epci_name&#39;:true,&#39;refine.category&#39;:&#39;Santé&#39;}\&#34;\n                             ctx3-domain=\&#34;public\&#34;\u003e\n\n            \u003c!-- Analyses --\u003e\n            \u003cspan ods-aggregation=\&#34;agg\&#34;\n                  ods-aggregation-context=\&#34;ctx1\&#34;\n                  ods-aggregation-function=\&#34;COUNT\&#34;\u003e\n          {{ values.nbequip = agg ; &#39;&#39; }}\n        \u003c/span\u003e\n            \u003cspan ods-aggregation=\&#34;services\&#34;\n                  ods-aggregation-context=\&#34;ctx2\&#34;\n                  ods-aggregation-function=\&#34;COUNT\&#34;\u003e\n          {{ values.services = services ; &#39;&#39; }}\n        \u003c/span\u003e\n            \u003cspan ods-aggregation=\&#34;sante\&#34;\n                  ods-aggregation-context=\&#34;ctx3\&#34;\n                  ods-aggregation-function=\&#34;COUNT\&#34;\u003e\n          {{ values.sante = sante ; &#39;&#39; }}\n        \u003c/span\u003e\n\n\n            \u003c!-- THE RIGHT MODAL --\u003e\n            \u003cdiv class=\&#34;rightmodal\&#34;\u003e\n                \u003cdiv class=\&#34;cl-modal\&#34;\n                     ng-class=\&#34;{&#39;cl-modal-active&#39;:values.modalswitchstatus}\&#34;\u003e\n                    \u003cdiv class=\&#34;cl-modal__rightside\&#34;\u003e\n                        \u003cdiv class=\&#34;cl-modal__header\&#34;\n                             ng-click=\&#34;values.modalswitchstatus = !values.modalswitchstatus\&#34;\u003e\n                            \u003ca href=\&#34;#\&#34;\n                               class=\&#34;closebtn\&#34;\u003e\n                                Fermer \u003ci class=\&#34;fa fa-times-circle\&#34; aria-hidden=\&#34;true\&#34;\u003e\u003c/i\u003e\n                            \u003c/a\u003e\n                        \u003c/div\u003e\n                        \u003cdiv class=\&#34;cl-modal__content\&#34;\u003e\n                            \u003cods-facets context=\&#34;ctx1\&#34;\u003e\n                                \u003ch3\u003e\n                                    Région\n                                \u003c/h3\u003e\n                                \u003cods-facet name=\&#34;reg_name\&#34; refine-also=\&#34;[ctx2,ctx3]\&#34;\u003e\u003c/ods-facet\u003e\n                                \u003ch3\u003e\n                                    Département\n                                \u003c/h3\u003e\n                                \u003cods-facet name=\&#34;dep_name\&#34; refine-also=\&#34;[ctx2,ctx3]\&#34;\u003e\u003c/ods-facet\u003e\n                                \u003ch3\u003e\n                                    Code DROM\n                                \u003c/h3\u003e\n                                \u003cods-facet name=\&#34;com_arm_area_code\&#34; refine-also=\&#34;[ctx2,ctx3]\&#34;\u003e\u003c/ods-facet\u003e\n                                \u003ch3\u003e\n                                    EPCI\n                                \u003c/h3\u003e\n                                \u003cods-facet name=\&#34;epci_name\&#34; refine-also=\&#34;[ctx2,ctx3]\&#34;\u003e\u003c/ods-facet\u003e\n                            \u003c/ods-facets\u003e\n                        \u003c/div\u003e\n                        \u003cdiv class=\&#34;cl-modal__footer\&#34;\u003e\n                            \u003cdiv\u003e\n                            \u003c/div\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n\n            \u003cdiv class=\&#34;level\&#34;\u003e\n                \u003cdiv class=\&#34;level-left\&#34;\u003e\n                    \u003ch1 class=\&#34;titre\&#34;\u003e\n                        Un modèle d&#39;observation des équipements en France\n                    \u003c/h1\u003e\n                    \u003cdiv class=\&#34;edito\&#34;\u003e\n                        \u003cp\u003eBien que ... \u003cq\u003eIl n&#39;y a pas de modèle pour qui cherche ce qu&#39;il n&#39;a jamais vu.\u003c/q\u003e Paul\n                            Éluard\n                        \u003c/p\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\&#34;level-right\&#34;\u003e\n                    \u003cbutton ng-click=\&#34;values.modalswitchstatus = !values.modalswitchstatus\&#34;\u003e\n                        \u003csvg xmlns=\&#34;http://www.w3.org/2000/svg\&#34; width=\&#34;24\&#34; height=\&#34;24\&#34; viewBox=\&#34;0 0 24 24\&#34; fill=\&#34;none\&#34;\n                             stroke=\&#34;currentColor\&#34; stroke-width=\&#34;2\&#34; stroke-linecap=\&#34;round\&#34; stroke-linejoin=\&#34;round\&#34;\n                             class=\&#34;feather feather-filter\&#34;\u003e\n                            \u003cpolygon points=\&#34;22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\&#34;\u003e\u003c/polygon\u003e\n                        \u003c/svg\u003e\n                        Filtrer les données\n                    \u003c/button\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n\n            \u003cdiv id=\&#34;resume\&#34;\u003e\n                \u003cp\u003e\n                    L&#39;objectif de la Base Permanente des Équipements (BPE) est de proposer annuellement une base\n                    d&#39;équipements géolocalisés construite à partir de sources administratives diverses.\n                \u003c/p\u003e\n                \u003cp\u003e\n                    La classification des équipements en gammes a pour objectif de réunir des équipements qui présentent\n                    des logiques d&#39;implantation voisines, en ce sens qu&#39;ils sont fréquemment présents dans les mêmes\n                    communes. Ces regroupements permettent d&#39;élaborer des indicateurs synthétiques reflétant\n                    l&#39;organisation hiérarchisée des territoires en termes de services à la population.\n                \u003c/p\u003e\n                \u003cp\u003e\n                    Les gammes d’équipements sont actualisées chaque année pour une nouvelle version de la Base\n                    Permanente des Équipements. En effet, d’une part de nouveaux équipements peuvent être introduits\n                    dans la base et, d’autre part, l’implantation des équipements dans les communes peut être modifiée,\n                    tout cela pouvant avoir des conséquences sur la composition des gammes.\n                \u003c/p\u003e\n            \u003c/div\u003e\n\n            \u003cods-filter-summary context=\&#34;ctx1\&#34;\u003e\n                {{ refinements }}\n            \u003c/ods-filter-summary\u003e\n\n            \u003cdiv class=\&#34;row\&#34;\u003e\n                \u003cdiv class=\&#34;box col-md-6\&#34;\u003e\n                    \u003cdiv class=\&#34;grey-box half-box\&#34;\u003e\n                        \u003ch2 class=\&#34;title\&#34;\u003e\n                            Nombre d&#39;équipements en 2019\n                        \u003c/h2\u003e\n                        \u003ch3 class=\&#34;description\&#34;\u003e\n                            Données INSEE issu de la BPE (Base permanente des équipements)\n                        \u003c/h3\u003e\n                        \u003cp class=\&#34;kpi\&#34;\u003e\n                            {{ values.nbequip | number }}\n                        \u003c/p\u003e\n                        \u003cdiv class=\&#34;kpi-footer\&#34;\u003e\n                            \u003cspan class=\&#34;kpi-footer-date\&#34;\u003e{{ ctx1.dataset.metas.data_processed | date }}\u003c/span\u003e\n                            \u003ca href=\&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}\&#34;\n                               title=\&#34;{{ ctx1.dataset.metas.title }}\&#34;\n                               class=\&#34;kpi-footer-source\&#34;\u003eSource \u003ci class=\&#34;fa fa-long-arrow-right\&#34;\n                                                                   aria-hidden=\&#34;true\&#34;\u003e\u003c/i\u003e\n                            \u003c/a\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cdiv ng-if=\&#34;!ctx1.parameters[&#39;refine.reg_name&#39;]\&#34;\n                     class=\&#34;box col-md-6\&#34;\u003e\n                    \u003cdiv class=\&#34;grey-box half-box\&#34;\u003e\n                        \u003ch2 class=\&#34;title\&#34;\u003e\n                            Top 5 Région\n                        \u003c/h2\u003e\n                        \u003ch3 class=\&#34;description\&#34;\u003e\n                            Nombre d&#39;équipements des 5 régions les mieux équipées\n                        \u003c/h3\u003e\n                        \u003cods-chart single-y-axis=\&#34;true\&#34; scientific-display=\&#34;true\&#34; display-legend=\&#34;false\&#34;\n                                   labels-x-length=\&#34;20\&#34; align-month=\&#34;false\&#34;\u003e\n                            \u003cods-chart-query context=\&#34;ctx1\&#34; field-x=\&#34;reg_name\&#34; maxpoints=\&#34;5\&#34; sort=\&#34;serie1-1\&#34;\u003e\n                                \u003cods-chart-serie chart-type=\&#34;bar\&#34; function-y=\&#34;COUNT\&#34; color=\&#34;#000000\&#34;\n                                                 scientific-display=\&#34;true\&#34;\u003e\n                                \u003c/ods-chart-serie\u003e\n                            \u003c/ods-chart-query\u003e\n                        \u003c/ods-chart\u003e\n                        \u003cdiv class=\&#34;kpi-footer\&#34;\u003e\n                            \u003cspan class=\&#34;kpi-footer-date\&#34;\u003e{{ ctx1.dataset.metas.data_processed | date }}\u003c/span\u003e\n                            \u003ca href=\&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}\&#34;\n                               title=\&#34;{{ ctx1.dataset.metas.title }}\&#34;\n                               class=\&#34;kpi-footer-source\&#34;\u003eSource \u003ci class=\&#34;fa fa-long-arrow-right\&#34;\n                                                                   aria-hidden=\&#34;true\&#34;\u003e\u003c/i\u003e\n                            \u003c/a\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cdiv ng-if=\&#34;ctx1.parameters[&#39;refine.reg_name&#39;]\&#34;\n                     class=\&#34;box col-md-6\&#34;\u003e\n                    \u003cdiv class=\&#34;grey-box half-box\&#34;\u003e\n                        \u003ch2 class=\&#34;title\&#34;\u003e\n                            Top 5 Département\n                        \u003c/h2\u003e\n                        \u003ch3 class=\&#34;description\&#34;\u003e\n                            Nombre d&#39;équipements des 5 départements les mieux équipées\n                        \u003c/h3\u003e\n                        \u003cods-chart single-y-axis=\&#34;true\&#34; scientific-display=\&#34;true\&#34; display-legend=\&#34;false\&#34;\n                                   labels-x-length=\&#34;20\&#34; align-month=\&#34;false\&#34;\u003e\n                            \u003cods-chart-query context=\&#34;ctx1\&#34; field-x=\&#34;dep_name\&#34; maxpoints=\&#34;5\&#34; sort=\&#34;serie1-1\&#34;\u003e\n                                \u003cods-chart-serie chart-type=\&#34;bar\&#34; function-y=\&#34;COUNT\&#34; color=\&#34;#000000\&#34;\n                                                 scientific-display=\&#34;true\&#34;\u003e\n                                \u003c/ods-chart-serie\u003e\n                            \u003c/ods-chart-query\u003e\n                        \u003c/ods-chart\u003e\n                        \u003cdiv class=\&#34;kpi-footer\&#34;\u003e\n                            \u003cspan class=\&#34;kpi-footer-date\&#34;\u003e{{ ctx1.dataset.metas.data_processed | date }}\u003c/span\u003e\n                            \u003ca href=\&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}\&#34;\n                               title=\&#34;{{ ctx1.dataset.metas.title }}\&#34;\n                               class=\&#34;kpi-footer-source\&#34;\u003eSource \u003ci class=\&#34;fa fa-long-arrow-right\&#34;\n                                                                   aria-hidden=\&#34;true\&#34;\u003e\u003c/i\u003e\n                            \u003c/a\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\&#34;row\&#34;\u003e\n                \u003cdiv class=\&#34;box col-md-12\&#34;\u003e\n                    \u003cdiv class=\&#34;grey-box\&#34;\u003e\n                        \u003ch2 class=\&#34;title\&#34;\u003e\n                            Répartis en grandes catégories\n                        \u003c/h2\u003e\n                        \u003ch3 class=\&#34;description\&#34;\u003e\n                            La Base Permanente des Équipements est réparti en 7 grands domaines : services aux\n                            particuliers ; commerces ; enseignement ; santé ; transports et déplacements ; sports,\n                            loisirs et culture ; tourisme.\n                        \u003c/h3\u003e\n                        \u003cods-chart labels-x-length=\&#34;30\&#34; align-month=\&#34;true\&#34;\u003e\n                            \u003cods-chart-query context=\&#34;ctx1\&#34; field-x=\&#34;category\&#34; maxpoints=\&#34;0\&#34; sort=\&#34;serie1-1\&#34;\n                                             category-colors=\&#34;{&#39;Services aux particuliers&#39;:&#39;#D8D8DD&#39;,&#39;Santé&#39;:&#39;#D1F1FF&#39;,&#39;Commerces&#39;:&#39;#CCEFC2&#39;,&#39;Sports, loisirs et culture&#39;:&#39;#E5E2A7&#39;,&#39;Enseignement&#39;:&#39;#E9D9FF&#39;,&#39;Transports et déplacements&#39;:&#39;#FFFFFF&#39;,&#39;Tourisme&#39;:&#39;#F4C5C8&#39;}\&#34;\u003e\n                                \u003cods-chart-serie chart-type=\&#34;treemap\&#34; function-y=\&#34;COUNT\&#34; color=\&#34;range-PiYG\&#34;\n                                                 scientific-display=\&#34;false\&#34;\u003e\n                                \u003c/ods-chart-serie\u003e\n                            \u003c/ods-chart-query\u003e\n                        \u003c/ods-chart\u003e\n                        \u003cdiv class=\&#34;kpi-footer\&#34;\u003e\n                            \u003cspan class=\&#34;kpi-footer-date\&#34;\u003e{{ ctx1.dataset.metas.data_processed | date }}\u003c/span\u003e\n                            \u003ca href=\&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}\&#34;\n                               title=\&#34;{{ ctx1.dataset.metas.title }}\&#34;\n                               class=\&#34;kpi-footer-source\&#34;\u003eSource \u003ci class=\&#34;fa fa-long-arrow-right\&#34;\n                                                                   aria-hidden=\&#34;true\&#34;\u003e\u003c/i\u003e\n                            \u003c/a\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n\n            \u003ch2\u003e\n                Observons ses deux principales catégories\n            \u003c/h2\u003e\n            \u003cdiv class=\&#34;row\&#34;\u003e\n                \u003cdiv class=\&#34;box col-md-6\&#34;\u003e\n                    \u003cdiv class=\&#34;grey-box half-box colored services\&#34;\u003e\n                        \u003ch2 class=\&#34;title\&#34;\u003e\n                            Les Services aux particuliers\n                        \u003c/h2\u003e\n                        \u003ch3 class=\&#34;description\&#34;\u003e\n                            qui représentent\n                        \u003c/h3\u003e\n                        \u003cp class=\&#34;kpi\&#34;\u003e\n                            {{ (values.services / values.nbequip * 100) | number : 1 }} %\n                        \u003c/p\u003e\n                        \u003cdiv class=\&#34;kpi-footer\&#34;\u003e\n                            \u003cspan class=\&#34;kpi-footer-date\&#34;\u003e{{ ctx1.dataset.metas.data_processed | date }}\u003c/span\u003e\n                            \u003ca href=\&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}\&#34;\n                               title=\&#34;{{ ctx1.dataset.metas.title }}\&#34;\n                               class=\&#34;kpi-footer-source\&#34;\u003eSource \u003ci class=\&#34;fa fa-long-arrow-right\&#34;\n                                                                   aria-hidden=\&#34;true\&#34;\u003e\u003c/i\u003e\n                            \u003c/a\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\&#34;box col-md-6\&#34;\u003e\n                    \u003cdiv class=\&#34;grey-box half-box colored sante\&#34;\u003e\n                        \u003ch2 class=\&#34;title\&#34;\u003e\n                            et la Santé\n                        \u003c/h2\u003e\n                        \u003ch3 class=\&#34;description\&#34;\u003e\n                            qui représente\n                        \u003c/h3\u003e\n                        \u003cp class=\&#34;kpi\&#34;\u003e\n                            {{ (values.sante / values.nbequip * 100) | number : 1 }} %\n                        \u003c/p\u003e\n                        \u003cdiv class=\&#34;kpi-footer\&#34;\u003e\n                            \u003cspan class=\&#34;kpi-footer-date\&#34;\u003e{{ ctx1.dataset.metas.data_processed | date }}\u003c/span\u003e\n                            \u003ca href=\&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}\&#34;\n                               title=\&#34;{{ ctx1.dataset.metas.title }}\&#34;\n                               class=\&#34;kpi-footer-source\&#34;\u003eSource \u003ci class=\&#34;fa fa-long-arrow-right\&#34;\n                                                                   aria-hidden=\&#34;true\&#34;\u003e\u003c/i\u003e\n                            \u003c/a\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\&#34;row\&#34;\u003e\n                \u003cdiv class=\&#34;box col-md-6\&#34;\u003e\n                    \u003cdiv class=\&#34;grey-box colored services\&#34;\u003e\n                        \u003ch2 class=\&#34;title\&#34;\u003e\n                            Principaux équipement de services aux particuliers\n                        \u003c/h2\u003e\n                        \u003ch3 class=\&#34;description\&#34;\u003e\n                            Description du TOP 20 de cette catégorie\n                        \u003c/h3\u003e\n                        \u003cods-chart labels-x-length=\&#34;40\&#34; align-month=\&#34;true\&#34;\u003e\n                            \u003cods-chart-query context=\&#34;ctx2\&#34; field-x=\&#34;equipment_name\&#34; maxpoints=\&#34;20\&#34; sort=\&#34;serie1-1\&#34;\u003e\n                                \u003cods-chart-serie chart-type=\&#34;bar\&#34; function-y=\&#34;COUNT\&#34; color=\&#34;#D8D8DD\&#34;\n                                                 scientific-display=\&#34;true\&#34; label-y=\&#34;Nb. équipements\&#34;\u003e\n                                \u003c/ods-chart-serie\u003e\n                            \u003c/ods-chart-query\u003e\n                        \u003c/ods-chart\u003e\n                        \u003cdiv class=\&#34;kpi-footer\&#34;\u003e\n                            \u003cspan class=\&#34;kpi-footer-date\&#34;\u003e{{ ctx1.dataset.metas.data_processed | date }}\u003c/span\u003e\n                            \u003ca href=\&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}\&#34;\n                               title=\&#34;{{ ctx1.dataset.metas.title }}\&#34;\n                               class=\&#34;kpi-footer-source\&#34;\u003eSource \u003ci class=\&#34;fa fa-long-arrow-right\&#34;\n                                                                   aria-hidden=\&#34;true\&#34;\u003e\u003c/i\u003e\n                            \u003c/a\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\&#34;box col-md-6\&#34;\u003e\n                    \u003cdiv class=\&#34;grey-box colored sante\&#34;\u003e\n                        \u003ch2 class=\&#34;title\&#34;\u003e\n                            Principaux équipements de Santé\n                        \u003c/h2\u003e\n                        \u003ch3 class=\&#34;description\&#34;\u003e\n                            Description du TOP 20 de cette catégorie\n                        \u003c/h3\u003e\n                        \u003cods-chart labels-x-length=\&#34;40\&#34; align-month=\&#34;true\&#34;\u003e\n                            \u003cods-chart-query context=\&#34;ctx3\&#34; field-x=\&#34;equipment_name\&#34; maxpoints=\&#34;20\&#34; sort=\&#34;serie1-1\&#34;\u003e\n                                \u003cods-chart-serie chart-type=\&#34;bar\&#34; function-y=\&#34;COUNT\&#34; color=\&#34;#D1F1FF\&#34;\n                                                 scientific-display=\&#34;true\&#34; label-y=\&#34;Nb. équipements\&#34;\u003e\n                                \u003c/ods-chart-serie\u003e\n                            \u003c/ods-chart-query\u003e\n                        \u003c/ods-chart\u003e\n                        \u003cdiv class=\&#34;kpi-footer\&#34;\u003e\n                            \u003cspan class=\&#34;kpi-footer-date\&#34;\u003e{{ ctx1.dataset.metas.data_processed | date }}\u003c/span\u003e\n                            \u003ca href=\&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}\&#34;\n                               title=\&#34;{{ ctx1.dataset.metas.title }}\&#34;\n                               class=\&#34;kpi-footer-source\&#34;\u003eSource \u003ci class=\&#34;fa fa-long-arrow-right\&#34;\n                                                                   aria-hidden=\&#34;true\&#34;\u003e\u003c/i\u003e\n                            \u003c/a\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n\n        \u003c/ods-dataset-context\u003e\n\n    \u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e&#34;,
               "css": &#34;:root {\n    /* change values by the size of the header \u0026 the footer to make the modal fit your page properly */\n    --header-size: 20px;\n    --footer-size: 20px;\n    --modal-margin: calc(var(--header-size) &#43; var(--footer-size));\n}\n\n/* ALL PAGE CONTAINER */\n.observatory {\n    background-color: #F6F8FB !important;\n    /* prerequisite for full height modal bar */\n    position: relative;\n    /* prevent the page to be shrinked if the content is less than the browser height, force a minimal height */\n    min-height: calc(100vh - var(--modal-margin));\n}\n\n.level {\n    margin: 70px 0 40px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\nbutton {\n    background-color: black;\n    color: white;\n    line-height: 36px;\n    padding: 0 13px;\n    border-radius: 100000px;\n    font-size: 1.1em;\n    border: 1px solid #142e7b;\n    display: flex;\n    align-items: center;\n    min-width: max-content;\n}\nbutton svg {\n    margin-right: 6px;\n}\nbutton:hover {\n    opacity: 0.65;\n}\n.level button {\n    margin-top: 13px;\n}\n@media screen and (min-width: 768px) {\n    .level {\n        justify-content: space-between;\n        flex-direction: row;\n    }\n    .level button {\n        margin-top: 0;\n    }\n}\n\n\nh1 .smaller {\n    font-size: 0.5em;\n}\nh2 .smaller {\n    font-size: 0.8em;\n}\n.ods-box {\n    border-radius: 0px;\n}\n.titre {\n    font-size: 37px;\n    margin: 26px 0 6px;\n}\n.edito {\n    margin: 0;\n    font-size: 19px;\n}\n.edito q {\n    font-style: italic;\n}\n#resume {\n    text-align: justify;\n    font-size: 1.1em;\n    line-height: 1.8em;\n}\n\n.row ~ h2 {\n    font-size: 2em;\n    margin: 26px 0;\n}\n/* BOX */\n.box {\n    padding-left: 12.5px;\n    padding-right: 12.5px;\n}\n.grey-box {\n    position: relative;\n    background: white;\n    border-radius: 6px;\n    padding: 20px;\n    margin-bottom: 25px;\n    height: 453px;\n}\n.grey-box.half-box {\n    height: 213.5px;\n}\n.grey-box.colored:before {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 9px;\n    content: &#39;&#39;;\n}\n.grey-box.colored.services:before {\n    background-color: #D8D8DD;\n}\n.grey-box.colored.sante:before {\n    background-color: #D1F1FF;\n}\n\n\n\n/* BOX CONTENT */\n.title {\n    font-size: 1.2em;\n    margin: 0 auto 6px;\n}\n.description {\n    margin: 0 auto;\n    color: #565656;\n    font-size: 1em;\n    font-weight: 400;\n}\n.kpi {\n    color: black;\n    font-size: 2.2em;\n    margin-top: 35px;\n    font-weight: 500;\n    text-align: center;\n}\n.kpi-footer {\n    font-size: 0.8em;\n}\n.kpi-footer-date {\n    position: absolute;\n    bottom: 6px;\n    left: 13px;\n}\na.kpi-footer-source {\n    position: absolute;\n    bottom: 6px;\n    right: 13px;\n    color: black;\n    text-decoration: underline;\n}\na.kpi-footer-source {\n    color: blue;\n}\na.kpi-footer-source:hover {\n    opacity: 0.65;\n}\n/* BOX Title Line */\nh2.grey-box {\n    height: 70px;\n    font-size: 1.3em;\n    display: flex;\n    align-items: center;\n}\n/* CHARTS */\n.ods-chart {\n    min-height: inherit;\n}\n.grey-box .ods-chart {\n    height: 350px;\n}\n.grey-box.half-box .ods-chart {\n    height: 130px;\n}\n.odswidget-charts {\n    margin-top: 10px;\n}\n.odswidget-table {\n    height: 338px;\n    margin-top: 10px;\n}\nrect.highcharts-background {\n    fill: transparent !important;\n}\n\n\n\n\n\n/** FILTER SUMMARY */\nul.odswidget.odswidget-filter-summary {\n    font-size: 1.2em;\n    margin: 15px 0;\n    position: relative;\n}\n@media (min-width: 420px) {\n    ul.odswidget.odswidget-filter-summary {\n        display: flex;\n        flex-wrap: wrap;\n        align-items: center;\n    }\n}\nli.odswidget-filter-summary__active-filter:first-child {\n    margin-left: 110px;\n}\nli.odswidget-filter-summary__active-filter:first-child:before {\n    content: &#39;Filtres actifs: &#39;;\n    font-weight: 600;\n    line-height: 1.8em;\n    position: absolute;\n    left: 0;\n}\n\nli.odswidget-filter-summary__active-filter,\nli.odswidget-filter-summary__clear-all {\n    border-radius: 3px;\n    margin: 2px 4px;\n    padding: 0;\n}\nli.odswidget-filter-summary__active-filter {\n    background-color: #f3f3f3;\n}\nli.odswidget-filter-summary__active-filter-label {\n    font-size: 1rem;\n}\na.odswidget-filter-summary__active-filter-link,\na.odswidget-clear-all-filters {\n    border-left: none;\n    margin: 0;\n    padding: 2px 4px 2px 2px;\n    display: flex;\n    align-items: center;\n}\na.odswidget-clear-all-filters {\n    align-items: center;\n}\na.odswidget-clear-all-filters i {\n    margin-right: 3px;\n}\n\n\n\n/* BACKDROP (black screen when modal active) */\n.backdrop {\n    visibility: hidden;\n    opacity: 0;\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    z-index: 900;\n    background-color: #000;\n    cursor: default;\n    -webkit-transition: visibility .5s,opacity .5s;\n    transition: visibility .5s,opacity .5s;\n}\n.backdrop-active {\n    visibility: visible;\n    opacity: .6; /* make a more or less darker backdrop, 1:totally dark, 0:totally transparent (invisibile) */\n}\n/* MODAL */\n/* The modal is composed of 2 parts:\nthe leftside, that is the banner that is always visible, and contains an icon on top to click and actiavte the modal\nthe right side, that contains filters, searchbar, charts etc... that is not visible, activated on demand\nthe modal default size (width) is 57px, it correspond to the leftside width */\n.cl-modal {\n    display: flex;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    width: 0;\n    background-color: white;\n    z-index: 1000;\n    overflow: hidden; /* Disable horizontal scroll */\n    transition: ease-in 0.3s;\n}\n.cl-modal-active {\n    width: 400px; /* size of the modal when active */\n}\n/* specific because charts are loaded inside */\n.cl-modal__content {\n    width: 400px;\n}\n@media (max-width: 420px) {\n    .cl-modal-active {\n        width: 100%;\n    }\n    .cl-modal__content {\n        width: 100vw;\n    }\n}\n\n/* SHOW/HIDE SIDE */\n.cl-modal__rightside {\n    display: flex;\n    flex-direction: column;\n    border-left: solid 1px lightgrey;\n}\n.cl-modal__header,\n.cl-modal__footer {\n    min-height: 35px;\n    background-color: white;\n    padding: 0 10px;\n    display: flex;\n    align-items: center;\n    justify-content: start;\n    opacity: 0;\n    transition: opacity 0s;\n}\n.cl-modal-active .cl-modal__header, .cl-modal-active .cl-modal__footer {\n    opacity: 1;\n    transition-delay: 0.3s;\n}\n/* CONTENT OF THE MODAL */\n/* HEADER / UPPER PART */\n.cl-modal__header {\n    border-bottom: 1px solid lightgrey;\n}\n/* FOOTER / LOWER PART (optionnal) */\n.cl-modal__footer {\n    border-top: 1px solid lightgrey;\n}\n/* THEN THE MIDDLE / CONTENT */\n.cl-modal__content {\n    height: 100%;\n    overflow-y: auto;\n    padding: 25px;\n    opacity: 0;\n    transition: opacity 0s;\n}\n/* WARNING ! This part is very important : it renders the content only after the end of the openning of the modal\nie. when the modal is resized, nothing is visible, after 0.3s of resizing, it&#39;s displays the content\nthis trick is very important to avoid the browser the resize all the content during the modal opening */\n.cl-modal-active .cl-modal__content {\n    opacity: 1;\n    transition-delay: 0.3s;\n}\n&#34; }'>
    </form>
</div>

<div class="ods-content">
    <section class="box box-live-example">
      <iframe id="iframe-the-demographic-observatory"
              width="100%" height="100%"
              src="about:blank"
              srcdoc="
        <head>&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.css&#34;&gt;

&lt;!-- ODS Platform CSS - must be hosted on static : WIP --&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://codelibrary.opendatasoft.com/css/theme.css&#34;&gt;

&lt;script src=&#34;//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;//cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.0/angular.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;//cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.8.2/angular-sanitize.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/angular-i18n/1.8.2/angular-locale_fr.min.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.js&#34;&gt;&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34; src=&#34;https://codelibrary.opendatasoft.com/js/platform-filters.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;https://codelibrary.opendatasoft.com/js/ods-catalog-card.js&#34;&gt;&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
    angular.module(&#39;ods-widgets&#39;).config(function (ODSWidgetsConfigProvider) {
        ODSWidgetsConfigProvider.setConfig({
            &#34;defaultDomain&#34;: &#34;https://userclub.opendatasoft.com/&#34;,
            &#34;basemaps&#34;: [
                {
                    &#34;provider&#34;: &#34;jawg.light&#34;,
                    &#34;label&#34;: &#34;Jawg Light&#34;,
                    &#34;jawg_apikey&#34;: &#34;opendatasoft-community&#34;
                },
                {
                    &#34;provider&#34;: &#34;jawg.streets&#34;,
                    &#34;label&#34;: &#34;Jawg Streets&#34;,
                    &#34;jawg_apikey&#34;: &#34;opendatasoft-community&#34;,
                    &#34;id&#34;: &#34;streets&#34;
                }
            ],
            &#34;themes&#34;: {
                &#39;default&#39;: {
                    &#39;url&#39;: &#39;/img/ods.svg&#39;
                },
                &#39;Santé&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/doctors.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Culture, Patrimoine&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/culture.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Éducation, Formation, Recherche, Enseignement&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/college.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Environment&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/leaf.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Transports, Déplacements&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/train_station.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Aménagement du territoire, Urbanisme, Bâtiments, Équipements, Logement&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/townplanning.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Économie, Business, PME, Développement économique, Emploi&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/economy.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Administration, Gouvernement, Finances publiques, Citoyenneté&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/administration.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Justice, Sécurité, Police, Crime&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/court.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Sport, Loisirs&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/soccer.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Hébergement, Restauration&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/accommodation.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Services, Social&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/social.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Checklist&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/copyshop.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Usages&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/bike.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                }
            },
            &#34;mapPrependAttribution&#34;: &#34;Jawg apikey NOT suitable for production&#34;
        });
    });
&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
    document.addEventListener(&#34;DOMContentLoaded&#34;, function () {
        document.querySelectorAll(&#39;a[href=&#34;#&#34;]&#39;).forEach((el) =&gt; {
            el.addEventListener(&#39;click&#39;, (event) =&gt; {
                event.preventDefault();
            });
        })
    });
&lt;/script&gt;

        </head>
        <body>
        <div ng-app='ods-widgets'>
            &lt;div class=&#34;observatory&#34; ng-init=&#34;values.modalswitchstatus = false&#34;&gt;
    &lt;div class=&#34;backdrop&#34;
         ng-click=&#34;values.modalswitchstatus = !values.modalswitchstatus&#34;
         ng-class=&#34;{&#39;backdrop-active&#39;:values.modalswitchstatus}&#34;&gt;
    &lt;/div&gt;

    &lt;div class=&#34;container&#34;&gt;
        &lt;ods-dataset-context context=&#34;ctx1,ctx2,ctx3&#34;
                             ctx1-dataset=&#34;buildingref-france-bpe-all-geolocated&#34;
                             ctx1-parameters=&#34;{&#39;disjunctive.epci_name&#39;:true}&#34;
                             ctx1-domain=&#34;public&#34;
                             ctx2-dataset=&#34;buildingref-france-bpe-all-geolocated&#34;
                             ctx2-parameters=&#34;{&#39;disjunctive.epci_name&#39;:true,&#39;refine.category&#39;:&#39;Services aux particuliers&#39;}&#34;
                             ctx2-domain=&#34;public&#34;
                             ctx3-dataset=&#34;buildingref-france-bpe-all-geolocated&#34;
                             ctx3-parameters=&#34;{&#39;disjunctive.epci_name&#39;:true,&#39;refine.category&#39;:&#39;Santé&#39;}&#34;
                             ctx3-domain=&#34;public&#34;&gt;

            &lt;!-- Analyses --&gt;
            &lt;span ods-aggregation=&#34;agg&#34;
                  ods-aggregation-context=&#34;ctx1&#34;
                  ods-aggregation-function=&#34;COUNT&#34;&gt;
          {{ values.nbequip = agg ; &#39;&#39; }}
        &lt;/span&gt;
            &lt;span ods-aggregation=&#34;services&#34;
                  ods-aggregation-context=&#34;ctx2&#34;
                  ods-aggregation-function=&#34;COUNT&#34;&gt;
          {{ values.services = services ; &#39;&#39; }}
        &lt;/span&gt;
            &lt;span ods-aggregation=&#34;sante&#34;
                  ods-aggregation-context=&#34;ctx3&#34;
                  ods-aggregation-function=&#34;COUNT&#34;&gt;
          {{ values.sante = sante ; &#39;&#39; }}
        &lt;/span&gt;


            &lt;!-- THE RIGHT MODAL --&gt;
            &lt;div class=&#34;rightmodal&#34;&gt;
                &lt;div class=&#34;cl-modal&#34;
                     ng-class=&#34;{&#39;cl-modal-active&#39;:values.modalswitchstatus}&#34;&gt;
                    &lt;div class=&#34;cl-modal__rightside&#34;&gt;
                        &lt;div class=&#34;cl-modal__header&#34;
                             ng-click=&#34;values.modalswitchstatus = !values.modalswitchstatus&#34;&gt;
                            &lt;a href=&#34;#&#34;
                               class=&#34;closebtn&#34;&gt;
                                Fermer &lt;i class=&#34;fa fa-times-circle&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                        &lt;div class=&#34;cl-modal__content&#34;&gt;
                            &lt;ods-facets context=&#34;ctx1&#34;&gt;
                                &lt;h3&gt;
                                    Région
                                &lt;/h3&gt;
                                &lt;ods-facet name=&#34;reg_name&#34; refine-also=&#34;[ctx2,ctx3]&#34;&gt;&lt;/ods-facet&gt;
                                &lt;h3&gt;
                                    Département
                                &lt;/h3&gt;
                                &lt;ods-facet name=&#34;dep_name&#34; refine-also=&#34;[ctx2,ctx3]&#34;&gt;&lt;/ods-facet&gt;
                                &lt;h3&gt;
                                    Code DROM
                                &lt;/h3&gt;
                                &lt;ods-facet name=&#34;com_arm_area_code&#34; refine-also=&#34;[ctx2,ctx3]&#34;&gt;&lt;/ods-facet&gt;
                                &lt;h3&gt;
                                    EPCI
                                &lt;/h3&gt;
                                &lt;ods-facet name=&#34;epci_name&#34; refine-also=&#34;[ctx2,ctx3]&#34;&gt;&lt;/ods-facet&gt;
                            &lt;/ods-facets&gt;
                        &lt;/div&gt;
                        &lt;div class=&#34;cl-modal__footer&#34;&gt;
                            &lt;div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class=&#34;level&#34;&gt;
                &lt;div class=&#34;level-left&#34;&gt;
                    &lt;h1 class=&#34;titre&#34;&gt;
                        Un modèle d&#39;observation des équipements en France
                    &lt;/h1&gt;
                    &lt;div class=&#34;edito&#34;&gt;
                        &lt;p&gt;Bien que ... &lt;q&gt;Il n&#39;y a pas de modèle pour qui cherche ce qu&#39;il n&#39;a jamais vu.&lt;/q&gt; Paul
                            Éluard
                        &lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;level-right&#34;&gt;
                    &lt;button ng-click=&#34;values.modalswitchstatus = !values.modalswitchstatus&#34;&gt;
                        &lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; width=&#34;24&#34; height=&#34;24&#34; viewBox=&#34;0 0 24 24&#34; fill=&#34;none&#34;
                             stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;
                             class=&#34;feather feather-filter&#34;&gt;
                            &lt;polygon points=&#34;22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3&#34;&gt;&lt;/polygon&gt;
                        &lt;/svg&gt;
                        Filtrer les données
                    &lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;div id=&#34;resume&#34;&gt;
                &lt;p&gt;
                    L&#39;objectif de la Base Permanente des Équipements (BPE) est de proposer annuellement une base
                    d&#39;équipements géolocalisés construite à partir de sources administratives diverses.
                &lt;/p&gt;
                &lt;p&gt;
                    La classification des équipements en gammes a pour objectif de réunir des équipements qui présentent
                    des logiques d&#39;implantation voisines, en ce sens qu&#39;ils sont fréquemment présents dans les mêmes
                    communes. Ces regroupements permettent d&#39;élaborer des indicateurs synthétiques reflétant
                    l&#39;organisation hiérarchisée des territoires en termes de services à la population.
                &lt;/p&gt;
                &lt;p&gt;
                    Les gammes d’équipements sont actualisées chaque année pour une nouvelle version de la Base
                    Permanente des Équipements. En effet, d’une part de nouveaux équipements peuvent être introduits
                    dans la base et, d’autre part, l’implantation des équipements dans les communes peut être modifiée,
                    tout cela pouvant avoir des conséquences sur la composition des gammes.
                &lt;/p&gt;
            &lt;/div&gt;

            &lt;ods-filter-summary context=&#34;ctx1&#34;&gt;
                {{ refinements }}
            &lt;/ods-filter-summary&gt;

            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box half-box&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Nombre d&#39;équipements en 2019
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            Données INSEE issu de la BPE (Base permanente des équipements)
                        &lt;/h3&gt;
                        &lt;p class=&#34;kpi&#34;&gt;
                            {{ values.nbequip | number }}
                        &lt;/p&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div ng-if=&#34;!ctx1.parameters[&#39;refine.reg_name&#39;]&#34;
                     class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box half-box&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Top 5 Région
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            Nombre d&#39;équipements des 5 régions les mieux équipées
                        &lt;/h3&gt;
                        &lt;ods-chart single-y-axis=&#34;true&#34; scientific-display=&#34;true&#34; display-legend=&#34;false&#34;
                                   labels-x-length=&#34;20&#34; align-month=&#34;false&#34;&gt;
                            &lt;ods-chart-query context=&#34;ctx1&#34; field-x=&#34;reg_name&#34; maxpoints=&#34;5&#34; sort=&#34;serie1-1&#34;&gt;
                                &lt;ods-chart-serie chart-type=&#34;bar&#34; function-y=&#34;COUNT&#34; color=&#34;#000000&#34;
                                                 scientific-display=&#34;true&#34;&gt;
                                &lt;/ods-chart-serie&gt;
                            &lt;/ods-chart-query&gt;
                        &lt;/ods-chart&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div ng-if=&#34;ctx1.parameters[&#39;refine.reg_name&#39;]&#34;
                     class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box half-box&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Top 5 Département
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            Nombre d&#39;équipements des 5 départements les mieux équipées
                        &lt;/h3&gt;
                        &lt;ods-chart single-y-axis=&#34;true&#34; scientific-display=&#34;true&#34; display-legend=&#34;false&#34;
                                   labels-x-length=&#34;20&#34; align-month=&#34;false&#34;&gt;
                            &lt;ods-chart-query context=&#34;ctx1&#34; field-x=&#34;dep_name&#34; maxpoints=&#34;5&#34; sort=&#34;serie1-1&#34;&gt;
                                &lt;ods-chart-serie chart-type=&#34;bar&#34; function-y=&#34;COUNT&#34; color=&#34;#000000&#34;
                                                 scientific-display=&#34;true&#34;&gt;
                                &lt;/ods-chart-serie&gt;
                            &lt;/ods-chart-query&gt;
                        &lt;/ods-chart&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;box col-md-12&#34;&gt;
                    &lt;div class=&#34;grey-box&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Répartis en grandes catégories
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            La Base Permanente des Équipements est réparti en 7 grands domaines : services aux
                            particuliers ; commerces ; enseignement ; santé ; transports et déplacements ; sports,
                            loisirs et culture ; tourisme.
                        &lt;/h3&gt;
                        &lt;ods-chart labels-x-length=&#34;30&#34; align-month=&#34;true&#34;&gt;
                            &lt;ods-chart-query context=&#34;ctx1&#34; field-x=&#34;category&#34; maxpoints=&#34;0&#34; sort=&#34;serie1-1&#34;
                                             category-colors=&#34;{&#39;Services aux particuliers&#39;:&#39;#D8D8DD&#39;,&#39;Santé&#39;:&#39;#D1F1FF&#39;,&#39;Commerces&#39;:&#39;#CCEFC2&#39;,&#39;Sports, loisirs et culture&#39;:&#39;#E5E2A7&#39;,&#39;Enseignement&#39;:&#39;#E9D9FF&#39;,&#39;Transports et déplacements&#39;:&#39;#FFFFFF&#39;,&#39;Tourisme&#39;:&#39;#F4C5C8&#39;}&#34;&gt;
                                &lt;ods-chart-serie chart-type=&#34;treemap&#34; function-y=&#34;COUNT&#34; color=&#34;range-PiYG&#34;
                                                 scientific-display=&#34;false&#34;&gt;
                                &lt;/ods-chart-serie&gt;
                            &lt;/ods-chart-query&gt;
                        &lt;/ods-chart&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;h2&gt;
                Observons ses deux principales catégories
            &lt;/h2&gt;
            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box half-box colored services&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Les Services aux particuliers
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            qui représentent
                        &lt;/h3&gt;
                        &lt;p class=&#34;kpi&#34;&gt;
                            {{ (values.services / values.nbequip * 100) | number : 1 }} %
                        &lt;/p&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box half-box colored sante&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            et la Santé
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            qui représente
                        &lt;/h3&gt;
                        &lt;p class=&#34;kpi&#34;&gt;
                            {{ (values.sante / values.nbequip * 100) | number : 1 }} %
                        &lt;/p&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box colored services&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Principaux équipement de services aux particuliers
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            Description du TOP 20 de cette catégorie
                        &lt;/h3&gt;
                        &lt;ods-chart labels-x-length=&#34;40&#34; align-month=&#34;true&#34;&gt;
                            &lt;ods-chart-query context=&#34;ctx2&#34; field-x=&#34;equipment_name&#34; maxpoints=&#34;20&#34; sort=&#34;serie1-1&#34;&gt;
                                &lt;ods-chart-serie chart-type=&#34;bar&#34; function-y=&#34;COUNT&#34; color=&#34;#D8D8DD&#34;
                                                 scientific-display=&#34;true&#34; label-y=&#34;Nb. équipements&#34;&gt;
                                &lt;/ods-chart-serie&gt;
                            &lt;/ods-chart-query&gt;
                        &lt;/ods-chart&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box colored sante&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Principaux équipements de Santé
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            Description du TOP 20 de cette catégorie
                        &lt;/h3&gt;
                        &lt;ods-chart labels-x-length=&#34;40&#34; align-month=&#34;true&#34;&gt;
                            &lt;ods-chart-query context=&#34;ctx3&#34; field-x=&#34;equipment_name&#34; maxpoints=&#34;20&#34; sort=&#34;serie1-1&#34;&gt;
                                &lt;ods-chart-serie chart-type=&#34;bar&#34; function-y=&#34;COUNT&#34; color=&#34;#D1F1FF&#34;
                                                 scientific-display=&#34;true&#34; label-y=&#34;Nb. équipements&#34;&gt;
                                &lt;/ods-chart-serie&gt;
                            &lt;/ods-chart-query&gt;
                        &lt;/ods-chart&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;

        &lt;/ods-dataset-context&gt;

    &lt;/div&gt;
&lt;/div&gt;

        </div>
        <style type='text/css'>
            :root {
    /* change values by the size of the header &amp; the footer to make the modal fit your page properly */
    --header-size: 20px;
    --footer-size: 20px;
    --modal-margin: calc(var(--header-size) &#43; var(--footer-size));
}

/* ALL PAGE CONTAINER */
.observatory {
    background-color: #F6F8FB !important;
    /* prerequisite for full height modal bar */
    position: relative;
    /* prevent the page to be shrinked if the content is less than the browser height, force a minimal height */
    min-height: calc(100vh - var(--modal-margin));
}

.level {
    margin: 70px 0 40px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}
button {
    background-color: black;
    color: white;
    line-height: 36px;
    padding: 0 13px;
    border-radius: 100000px;
    font-size: 1.1em;
    border: 1px solid #142e7b;
    display: flex;
    align-items: center;
    min-width: max-content;
}
button svg {
    margin-right: 6px;
}
button:hover {
    opacity: 0.65;
}
.level button {
    margin-top: 13px;
}
@media screen and (min-width: 768px) {
    .level {
        justify-content: space-between;
        flex-direction: row;
    }
    .level button {
        margin-top: 0;
    }
}


h1 .smaller {
    font-size: 0.5em;
}
h2 .smaller {
    font-size: 0.8em;
}
.ods-box {
    border-radius: 0px;
}
.titre {
    font-size: 37px;
    margin: 26px 0 6px;
}
.edito {
    margin: 0;
    font-size: 19px;
}
.edito q {
    font-style: italic;
}
#resume {
    text-align: justify;
    font-size: 1.1em;
    line-height: 1.8em;
}

.row ~ h2 {
    font-size: 2em;
    margin: 26px 0;
}
/* BOX */
.box {
    padding-left: 12.5px;
    padding-right: 12.5px;
}
.grey-box {
    position: relative;
    background: white;
    border-radius: 6px;
    padding: 20px;
    margin-bottom: 25px;
    height: 453px;
}
.grey-box.half-box {
    height: 213.5px;
}
.grey-box.colored:before {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 9px;
    content: &#39;&#39;;
}
.grey-box.colored.services:before {
    background-color: #D8D8DD;
}
.grey-box.colored.sante:before {
    background-color: #D1F1FF;
}



/* BOX CONTENT */
.title {
    font-size: 1.2em;
    margin: 0 auto 6px;
}
.description {
    margin: 0 auto;
    color: #565656;
    font-size: 1em;
    font-weight: 400;
}
.kpi {
    color: black;
    font-size: 2.2em;
    margin-top: 35px;
    font-weight: 500;
    text-align: center;
}
.kpi-footer {
    font-size: 0.8em;
}
.kpi-footer-date {
    position: absolute;
    bottom: 6px;
    left: 13px;
}
a.kpi-footer-source {
    position: absolute;
    bottom: 6px;
    right: 13px;
    color: black;
    text-decoration: underline;
}
a.kpi-footer-source {
    color: blue;
}
a.kpi-footer-source:hover {
    opacity: 0.65;
}
/* BOX Title Line */
h2.grey-box {
    height: 70px;
    font-size: 1.3em;
    display: flex;
    align-items: center;
}
/* CHARTS */
.ods-chart {
    min-height: inherit;
}
.grey-box .ods-chart {
    height: 350px;
}
.grey-box.half-box .ods-chart {
    height: 130px;
}
.odswidget-charts {
    margin-top: 10px;
}
.odswidget-table {
    height: 338px;
    margin-top: 10px;
}
rect.highcharts-background {
    fill: transparent !important;
}





/** FILTER SUMMARY */
ul.odswidget.odswidget-filter-summary {
    font-size: 1.2em;
    margin: 15px 0;
    position: relative;
}
@media (min-width: 420px) {
    ul.odswidget.odswidget-filter-summary {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
    }
}
li.odswidget-filter-summary__active-filter:first-child {
    margin-left: 110px;
}
li.odswidget-filter-summary__active-filter:first-child:before {
    content: &#39;Filtres actifs: &#39;;
    font-weight: 600;
    line-height: 1.8em;
    position: absolute;
    left: 0;
}

li.odswidget-filter-summary__active-filter,
li.odswidget-filter-summary__clear-all {
    border-radius: 3px;
    margin: 2px 4px;
    padding: 0;
}
li.odswidget-filter-summary__active-filter {
    background-color: #f3f3f3;
}
li.odswidget-filter-summary__active-filter-label {
    font-size: 1rem;
}
a.odswidget-filter-summary__active-filter-link,
a.odswidget-clear-all-filters {
    border-left: none;
    margin: 0;
    padding: 2px 4px 2px 2px;
    display: flex;
    align-items: center;
}
a.odswidget-clear-all-filters {
    align-items: center;
}
a.odswidget-clear-all-filters i {
    margin-right: 3px;
}



/* BACKDROP (black screen when modal active) */
.backdrop {
    visibility: hidden;
    opacity: 0;
    position: absolute;
    height: 100%;
    width: 100%;
    z-index: 900;
    background-color: #000;
    cursor: default;
    -webkit-transition: visibility .5s,opacity .5s;
    transition: visibility .5s,opacity .5s;
}
.backdrop-active {
    visibility: visible;
    opacity: .6; /* make a more or less darker backdrop, 1:totally dark, 0:totally transparent (invisibile) */
}
/* MODAL */
/* The modal is composed of 2 parts:
the leftside, that is the banner that is always visible, and contains an icon on top to click and actiavte the modal
the right side, that contains filters, searchbar, charts etc... that is not visible, activated on demand
the modal default size (width) is 57px, it correspond to the leftside width */
.cl-modal {
    display: flex;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: 0;
    background-color: white;
    z-index: 1000;
    overflow: hidden; /* Disable horizontal scroll */
    transition: ease-in 0.3s;
}
.cl-modal-active {
    width: 400px; /* size of the modal when active */
}
/* specific because charts are loaded inside */
.cl-modal__content {
    width: 400px;
}
@media (max-width: 420px) {
    .cl-modal-active {
        width: 100%;
    }
    .cl-modal__content {
        width: 100vw;
    }
}

/* SHOW/HIDE SIDE */
.cl-modal__rightside {
    display: flex;
    flex-direction: column;
    border-left: solid 1px lightgrey;
}
.cl-modal__header,
.cl-modal__footer {
    min-height: 35px;
    background-color: white;
    padding: 0 10px;
    display: flex;
    align-items: center;
    justify-content: start;
    opacity: 0;
    transition: opacity 0s;
}
.cl-modal-active .cl-modal__header, .cl-modal-active .cl-modal__footer {
    opacity: 1;
    transition-delay: 0.3s;
}
/* CONTENT OF THE MODAL */
/* HEADER / UPPER PART */
.cl-modal__header {
    border-bottom: 1px solid lightgrey;
}
/* FOOTER / LOWER PART (optionnal) */
.cl-modal__footer {
    border-top: 1px solid lightgrey;
}
/* THEN THE MIDDLE / CONTENT */
.cl-modal__content {
    height: 100%;
    overflow-y: auto;
    padding: 25px;
    opacity: 0;
    transition: opacity 0s;
}
/* WARNING ! This part is very important : it renders the content only after the end of the openning of the modal
ie. when the modal is resized, nothing is visible, after 0.3s of resizing, it&#39;s displays the content
this trick is very important to avoid the browser the resize all the content during the modal opening */
.cl-modal-active .cl-modal__content {
    opacity: 1;
    transition-delay: 0.3s;
}

        </style>
        </body>
        ">
      </iframe>
    </section>

    <section class="box box-code js-tabs">
        <nav class="level is-flex">
            <div class="level-left">
                <div class="level-item">
                    <ul class="buttons has-addons js-tablist">
                        <li class="button is-secondary is-outlined js-tablist__item">
                            <a class="js-tablist__link"
                               href="#code-the-demographic-observatory-html-content">
                                HTML
                            </a>
                        </li>
                        
                        <li class="button is-secondary is-outlined js-tablist__item">
                            <a class="js-tablist__link"
                               href="#code-the-demographic-observatory-css-content">
                                CSS
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </div>
            <div class="level-right mt-0">
                <a class="button is-secondary is-outlined edit-on-codepen has-tooltip-left"
                   data-tooltip="Edit on CodePen"
                   target="_blank"
                   aria-role="link"
                   rel="noopener"
                   title="Edit on CodePen, open a new tab"
                   onclick="document.getElementById('form-the-demographic-observatory').submit()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-edit">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                </a>
            </div>
        </nav>

        <div class="tab-content">
            <div class="js-tabcontent"
                 id="code-the-demographic-observatory-html-content">
                <div class="highlight">
                    <pre class="language-html" data-lang="html"><code>&lt;div class=&#34;observatory&#34; ng-init=&#34;values.modalswitchstatus = false&#34;&gt;
    &lt;div class=&#34;backdrop&#34;
         ng-click=&#34;values.modalswitchstatus = !values.modalswitchstatus&#34;
         ng-class=&#34;{&#39;backdrop-active&#39;:values.modalswitchstatus}&#34;&gt;
    &lt;/div&gt;

    &lt;div class=&#34;container&#34;&gt;
        &lt;ods-dataset-context context=&#34;ctx1,ctx2,ctx3&#34;
                             ctx1-dataset=&#34;buildingref-france-bpe-all-geolocated&#34;
                             ctx1-parameters=&#34;{&#39;disjunctive.epci_name&#39;:true}&#34;
                             ctx1-domain=&#34;public&#34;
                             ctx2-dataset=&#34;buildingref-france-bpe-all-geolocated&#34;
                             ctx2-parameters=&#34;{&#39;disjunctive.epci_name&#39;:true,&#39;refine.category&#39;:&#39;Services aux particuliers&#39;}&#34;
                             ctx2-domain=&#34;public&#34;
                             ctx3-dataset=&#34;buildingref-france-bpe-all-geolocated&#34;
                             ctx3-parameters=&#34;{&#39;disjunctive.epci_name&#39;:true,&#39;refine.category&#39;:&#39;Santé&#39;}&#34;
                             ctx3-domain=&#34;public&#34;&gt;

            &lt;!-- Analyses --&gt;
            &lt;span ods-aggregation=&#34;agg&#34;
                  ods-aggregation-context=&#34;ctx1&#34;
                  ods-aggregation-function=&#34;COUNT&#34;&gt;
          {{ values.nbequip = agg ; &#39;&#39; }}
        &lt;/span&gt;
            &lt;span ods-aggregation=&#34;services&#34;
                  ods-aggregation-context=&#34;ctx2&#34;
                  ods-aggregation-function=&#34;COUNT&#34;&gt;
          {{ values.services = services ; &#39;&#39; }}
        &lt;/span&gt;
            &lt;span ods-aggregation=&#34;sante&#34;
                  ods-aggregation-context=&#34;ctx3&#34;
                  ods-aggregation-function=&#34;COUNT&#34;&gt;
          {{ values.sante = sante ; &#39;&#39; }}
        &lt;/span&gt;


            &lt;!-- THE RIGHT MODAL --&gt;
            &lt;div class=&#34;rightmodal&#34;&gt;
                &lt;div class=&#34;cl-modal&#34;
                     ng-class=&#34;{&#39;cl-modal-active&#39;:values.modalswitchstatus}&#34;&gt;
                    &lt;div class=&#34;cl-modal__rightside&#34;&gt;
                        &lt;div class=&#34;cl-modal__header&#34;
                             ng-click=&#34;values.modalswitchstatus = !values.modalswitchstatus&#34;&gt;
                            &lt;a href=&#34;#&#34;
                               class=&#34;closebtn&#34;&gt;
                                Fermer &lt;i class=&#34;fa fa-times-circle&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                        &lt;div class=&#34;cl-modal__content&#34;&gt;
                            &lt;ods-facets context=&#34;ctx1&#34;&gt;
                                &lt;h3&gt;
                                    Région
                                &lt;/h3&gt;
                                &lt;ods-facet name=&#34;reg_name&#34; refine-also=&#34;[ctx2,ctx3]&#34;&gt;&lt;/ods-facet&gt;
                                &lt;h3&gt;
                                    Département
                                &lt;/h3&gt;
                                &lt;ods-facet name=&#34;dep_name&#34; refine-also=&#34;[ctx2,ctx3]&#34;&gt;&lt;/ods-facet&gt;
                                &lt;h3&gt;
                                    Code DROM
                                &lt;/h3&gt;
                                &lt;ods-facet name=&#34;com_arm_area_code&#34; refine-also=&#34;[ctx2,ctx3]&#34;&gt;&lt;/ods-facet&gt;
                                &lt;h3&gt;
                                    EPCI
                                &lt;/h3&gt;
                                &lt;ods-facet name=&#34;epci_name&#34; refine-also=&#34;[ctx2,ctx3]&#34;&gt;&lt;/ods-facet&gt;
                            &lt;/ods-facets&gt;
                        &lt;/div&gt;
                        &lt;div class=&#34;cl-modal__footer&#34;&gt;
                            &lt;div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class=&#34;level&#34;&gt;
                &lt;div class=&#34;level-left&#34;&gt;
                    &lt;h1 class=&#34;titre&#34;&gt;
                        Un modèle d&#39;observation des équipements en France
                    &lt;/h1&gt;
                    &lt;div class=&#34;edito&#34;&gt;
                        &lt;p&gt;Bien que ... &lt;q&gt;Il n&#39;y a pas de modèle pour qui cherche ce qu&#39;il n&#39;a jamais vu.&lt;/q&gt; Paul
                            Éluard
                        &lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;level-right&#34;&gt;
                    &lt;button ng-click=&#34;values.modalswitchstatus = !values.modalswitchstatus&#34;&gt;
                        &lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; width=&#34;24&#34; height=&#34;24&#34; viewBox=&#34;0 0 24 24&#34; fill=&#34;none&#34;
                             stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;
                             class=&#34;feather feather-filter&#34;&gt;
                            &lt;polygon points=&#34;22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3&#34;&gt;&lt;/polygon&gt;
                        &lt;/svg&gt;
                        Filtrer les données
                    &lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;div id=&#34;resume&#34;&gt;
                &lt;p&gt;
                    L&#39;objectif de la Base Permanente des Équipements (BPE) est de proposer annuellement une base
                    d&#39;équipements géolocalisés construite à partir de sources administratives diverses.
                &lt;/p&gt;
                &lt;p&gt;
                    La classification des équipements en gammes a pour objectif de réunir des équipements qui présentent
                    des logiques d&#39;implantation voisines, en ce sens qu&#39;ils sont fréquemment présents dans les mêmes
                    communes. Ces regroupements permettent d&#39;élaborer des indicateurs synthétiques reflétant
                    l&#39;organisation hiérarchisée des territoires en termes de services à la population.
                &lt;/p&gt;
                &lt;p&gt;
                    Les gammes d’équipements sont actualisées chaque année pour une nouvelle version de la Base
                    Permanente des Équipements. En effet, d’une part de nouveaux équipements peuvent être introduits
                    dans la base et, d’autre part, l’implantation des équipements dans les communes peut être modifiée,
                    tout cela pouvant avoir des conséquences sur la composition des gammes.
                &lt;/p&gt;
            &lt;/div&gt;

            &lt;ods-filter-summary context=&#34;ctx1&#34;&gt;
                {{ refinements }}
            &lt;/ods-filter-summary&gt;

            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box half-box&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Nombre d&#39;équipements en 2019
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            Données INSEE issu de la BPE (Base permanente des équipements)
                        &lt;/h3&gt;
                        &lt;p class=&#34;kpi&#34;&gt;
                            {{ values.nbequip | number }}
                        &lt;/p&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div ng-if=&#34;!ctx1.parameters[&#39;refine.reg_name&#39;]&#34;
                     class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box half-box&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Top 5 Région
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            Nombre d&#39;équipements des 5 régions les mieux équipées
                        &lt;/h3&gt;
                        &lt;ods-chart single-y-axis=&#34;true&#34; scientific-display=&#34;true&#34; display-legend=&#34;false&#34;
                                   labels-x-length=&#34;20&#34; align-month=&#34;false&#34;&gt;
                            &lt;ods-chart-query context=&#34;ctx1&#34; field-x=&#34;reg_name&#34; maxpoints=&#34;5&#34; sort=&#34;serie1-1&#34;&gt;
                                &lt;ods-chart-serie chart-type=&#34;bar&#34; function-y=&#34;COUNT&#34; color=&#34;#000000&#34;
                                                 scientific-display=&#34;true&#34;&gt;
                                &lt;/ods-chart-serie&gt;
                            &lt;/ods-chart-query&gt;
                        &lt;/ods-chart&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div ng-if=&#34;ctx1.parameters[&#39;refine.reg_name&#39;]&#34;
                     class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box half-box&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Top 5 Département
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            Nombre d&#39;équipements des 5 départements les mieux équipées
                        &lt;/h3&gt;
                        &lt;ods-chart single-y-axis=&#34;true&#34; scientific-display=&#34;true&#34; display-legend=&#34;false&#34;
                                   labels-x-length=&#34;20&#34; align-month=&#34;false&#34;&gt;
                            &lt;ods-chart-query context=&#34;ctx1&#34; field-x=&#34;dep_name&#34; maxpoints=&#34;5&#34; sort=&#34;serie1-1&#34;&gt;
                                &lt;ods-chart-serie chart-type=&#34;bar&#34; function-y=&#34;COUNT&#34; color=&#34;#000000&#34;
                                                 scientific-display=&#34;true&#34;&gt;
                                &lt;/ods-chart-serie&gt;
                            &lt;/ods-chart-query&gt;
                        &lt;/ods-chart&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;box col-md-12&#34;&gt;
                    &lt;div class=&#34;grey-box&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Répartis en grandes catégories
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            La Base Permanente des Équipements est réparti en 7 grands domaines : services aux
                            particuliers ; commerces ; enseignement ; santé ; transports et déplacements ; sports,
                            loisirs et culture ; tourisme.
                        &lt;/h3&gt;
                        &lt;ods-chart labels-x-length=&#34;30&#34; align-month=&#34;true&#34;&gt;
                            &lt;ods-chart-query context=&#34;ctx1&#34; field-x=&#34;category&#34; maxpoints=&#34;0&#34; sort=&#34;serie1-1&#34;
                                             category-colors=&#34;{&#39;Services aux particuliers&#39;:&#39;#D8D8DD&#39;,&#39;Santé&#39;:&#39;#D1F1FF&#39;,&#39;Commerces&#39;:&#39;#CCEFC2&#39;,&#39;Sports, loisirs et culture&#39;:&#39;#E5E2A7&#39;,&#39;Enseignement&#39;:&#39;#E9D9FF&#39;,&#39;Transports et déplacements&#39;:&#39;#FFFFFF&#39;,&#39;Tourisme&#39;:&#39;#F4C5C8&#39;}&#34;&gt;
                                &lt;ods-chart-serie chart-type=&#34;treemap&#34; function-y=&#34;COUNT&#34; color=&#34;range-PiYG&#34;
                                                 scientific-display=&#34;false&#34;&gt;
                                &lt;/ods-chart-serie&gt;
                            &lt;/ods-chart-query&gt;
                        &lt;/ods-chart&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;h2&gt;
                Observons ses deux principales catégories
            &lt;/h2&gt;
            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box half-box colored services&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Les Services aux particuliers
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            qui représentent
                        &lt;/h3&gt;
                        &lt;p class=&#34;kpi&#34;&gt;
                            {{ (values.services / values.nbequip * 100) | number : 1 }} %
                        &lt;/p&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box half-box colored sante&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            et la Santé
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            qui représente
                        &lt;/h3&gt;
                        &lt;p class=&#34;kpi&#34;&gt;
                            {{ (values.sante / values.nbequip * 100) | number : 1 }} %
                        &lt;/p&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box colored services&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Principaux équipement de services aux particuliers
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            Description du TOP 20 de cette catégorie
                        &lt;/h3&gt;
                        &lt;ods-chart labels-x-length=&#34;40&#34; align-month=&#34;true&#34;&gt;
                            &lt;ods-chart-query context=&#34;ctx2&#34; field-x=&#34;equipment_name&#34; maxpoints=&#34;20&#34; sort=&#34;serie1-1&#34;&gt;
                                &lt;ods-chart-serie chart-type=&#34;bar&#34; function-y=&#34;COUNT&#34; color=&#34;#D8D8DD&#34;
                                                 scientific-display=&#34;true&#34; label-y=&#34;Nb. équipements&#34;&gt;
                                &lt;/ods-chart-serie&gt;
                            &lt;/ods-chart-query&gt;
                        &lt;/ods-chart&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;box col-md-6&#34;&gt;
                    &lt;div class=&#34;grey-box colored sante&#34;&gt;
                        &lt;h2 class=&#34;title&#34;&gt;
                            Principaux équipements de Santé
                        &lt;/h2&gt;
                        &lt;h3 class=&#34;description&#34;&gt;
                            Description du TOP 20 de cette catégorie
                        &lt;/h3&gt;
                        &lt;ods-chart labels-x-length=&#34;40&#34; align-month=&#34;true&#34;&gt;
                            &lt;ods-chart-query context=&#34;ctx3&#34; field-x=&#34;equipment_name&#34; maxpoints=&#34;20&#34; sort=&#34;serie1-1&#34;&gt;
                                &lt;ods-chart-serie chart-type=&#34;bar&#34; function-y=&#34;COUNT&#34; color=&#34;#D1F1FF&#34;
                                                 scientific-display=&#34;true&#34; label-y=&#34;Nb. équipements&#34;&gt;
                                &lt;/ods-chart-serie&gt;
                            &lt;/ods-chart-query&gt;
                        &lt;/ods-chart&gt;
                        &lt;div class=&#34;kpi-footer&#34;&gt;
                            &lt;span class=&#34;kpi-footer-date&#34;&gt;{{ ctx1.dataset.metas.data_processed | date }}&lt;/span&gt;
                            &lt;a href=&#34;{{ &#39;https://&#39; &#43; ctx1.dataset.metas.domain &#43; &#39;.opendatasoft.com/explore/dataset/&#39; &#43; ctx1.dataset.datasetid }}&#34;
                               title=&#34;{{ ctx1.dataset.metas.title }}&#34;
                               class=&#34;kpi-footer-source&#34;&gt;Source &lt;i class=&#34;fa fa-long-arrow-right&#34;
                                                                   aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;

        &lt;/ods-dataset-context&gt;

    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
                </div>
            </div>
            
            <div class="js-tabcontent"
                 id="code-the-demographic-observatory-css-content">
                <div class="highlight">
                    <pre class="language-css" data-lang="css"><code>:root {
    /* change values by the size of the header &amp; the footer to make the modal fit your page properly */
    --header-size: 20px;
    --footer-size: 20px;
    --modal-margin: calc(var(--header-size) &#43; var(--footer-size));
}

/* ALL PAGE CONTAINER */
.observatory {
    background-color: #F6F8FB !important;
    /* prerequisite for full height modal bar */
    position: relative;
    /* prevent the page to be shrinked if the content is less than the browser height, force a minimal height */
    min-height: calc(100vh - var(--modal-margin));
}

.level {
    margin: 70px 0 40px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}
button {
    background-color: black;
    color: white;
    line-height: 36px;
    padding: 0 13px;
    border-radius: 100000px;
    font-size: 1.1em;
    border: 1px solid #142e7b;
    display: flex;
    align-items: center;
    min-width: max-content;
}
button svg {
    margin-right: 6px;
}
button:hover {
    opacity: 0.65;
}
.level button {
    margin-top: 13px;
}
@media screen and (min-width: 768px) {
    .level {
        justify-content: space-between;
        flex-direction: row;
    }
    .level button {
        margin-top: 0;
    }
}


h1 .smaller {
    font-size: 0.5em;
}
h2 .smaller {
    font-size: 0.8em;
}
.ods-box {
    border-radius: 0px;
}
.titre {
    font-size: 37px;
    margin: 26px 0 6px;
}
.edito {
    margin: 0;
    font-size: 19px;
}
.edito q {
    font-style: italic;
}
#resume {
    text-align: justify;
    font-size: 1.1em;
    line-height: 1.8em;
}

.row ~ h2 {
    font-size: 2em;
    margin: 26px 0;
}
/* BOX */
.box {
    padding-left: 12.5px;
    padding-right: 12.5px;
}
.grey-box {
    position: relative;
    background: white;
    border-radius: 6px;
    padding: 20px;
    margin-bottom: 25px;
    height: 453px;
}
.grey-box.half-box {
    height: 213.5px;
}
.grey-box.colored:before {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 9px;
    content: &#39;&#39;;
}
.grey-box.colored.services:before {
    background-color: #D8D8DD;
}
.grey-box.colored.sante:before {
    background-color: #D1F1FF;
}



/* BOX CONTENT */
.title {
    font-size: 1.2em;
    margin: 0 auto 6px;
}
.description {
    margin: 0 auto;
    color: #565656;
    font-size: 1em;
    font-weight: 400;
}
.kpi {
    color: black;
    font-size: 2.2em;
    margin-top: 35px;
    font-weight: 500;
    text-align: center;
}
.kpi-footer {
    font-size: 0.8em;
}
.kpi-footer-date {
    position: absolute;
    bottom: 6px;
    left: 13px;
}
a.kpi-footer-source {
    position: absolute;
    bottom: 6px;
    right: 13px;
    color: black;
    text-decoration: underline;
}
a.kpi-footer-source {
    color: blue;
}
a.kpi-footer-source:hover {
    opacity: 0.65;
}
/* BOX Title Line */
h2.grey-box {
    height: 70px;
    font-size: 1.3em;
    display: flex;
    align-items: center;
}
/* CHARTS */
.ods-chart {
    min-height: inherit;
}
.grey-box .ods-chart {
    height: 350px;
}
.grey-box.half-box .ods-chart {
    height: 130px;
}
.odswidget-charts {
    margin-top: 10px;
}
.odswidget-table {
    height: 338px;
    margin-top: 10px;
}
rect.highcharts-background {
    fill: transparent !important;
}





/** FILTER SUMMARY */
ul.odswidget.odswidget-filter-summary {
    font-size: 1.2em;
    margin: 15px 0;
    position: relative;
}
@media (min-width: 420px) {
    ul.odswidget.odswidget-filter-summary {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
    }
}
li.odswidget-filter-summary__active-filter:first-child {
    margin-left: 110px;
}
li.odswidget-filter-summary__active-filter:first-child:before {
    content: &#39;Filtres actifs: &#39;;
    font-weight: 600;
    line-height: 1.8em;
    position: absolute;
    left: 0;
}

li.odswidget-filter-summary__active-filter,
li.odswidget-filter-summary__clear-all {
    border-radius: 3px;
    margin: 2px 4px;
    padding: 0;
}
li.odswidget-filter-summary__active-filter {
    background-color: #f3f3f3;
}
li.odswidget-filter-summary__active-filter-label {
    font-size: 1rem;
}
a.odswidget-filter-summary__active-filter-link,
a.odswidget-clear-all-filters {
    border-left: none;
    margin: 0;
    padding: 2px 4px 2px 2px;
    display: flex;
    align-items: center;
}
a.odswidget-clear-all-filters {
    align-items: center;
}
a.odswidget-clear-all-filters i {
    margin-right: 3px;
}



/* BACKDROP (black screen when modal active) */
.backdrop {
    visibility: hidden;
    opacity: 0;
    position: absolute;
    height: 100%;
    width: 100%;
    z-index: 900;
    background-color: #000;
    cursor: default;
    -webkit-transition: visibility .5s,opacity .5s;
    transition: visibility .5s,opacity .5s;
}
.backdrop-active {
    visibility: visible;
    opacity: .6; /* make a more or less darker backdrop, 1:totally dark, 0:totally transparent (invisibile) */
}
/* MODAL */
/* The modal is composed of 2 parts:
the leftside, that is the banner that is always visible, and contains an icon on top to click and actiavte the modal
the right side, that contains filters, searchbar, charts etc... that is not visible, activated on demand
the modal default size (width) is 57px, it correspond to the leftside width */
.cl-modal {
    display: flex;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: 0;
    background-color: white;
    z-index: 1000;
    overflow: hidden; /* Disable horizontal scroll */
    transition: ease-in 0.3s;
}
.cl-modal-active {
    width: 400px; /* size of the modal when active */
}
/* specific because charts are loaded inside */
.cl-modal__content {
    width: 400px;
}
@media (max-width: 420px) {
    .cl-modal-active {
        width: 100%;
    }
    .cl-modal__content {
        width: 100vw;
    }
}

/* SHOW/HIDE SIDE */
.cl-modal__rightside {
    display: flex;
    flex-direction: column;
    border-left: solid 1px lightgrey;
}
.cl-modal__header,
.cl-modal__footer {
    min-height: 35px;
    background-color: white;
    padding: 0 10px;
    display: flex;
    align-items: center;
    justify-content: start;
    opacity: 0;
    transition: opacity 0s;
}
.cl-modal-active .cl-modal__header, .cl-modal-active .cl-modal__footer {
    opacity: 1;
    transition-delay: 0.3s;
}
/* CONTENT OF THE MODAL */
/* HEADER / UPPER PART */
.cl-modal__header {
    border-bottom: 1px solid lightgrey;
}
/* FOOTER / LOWER PART (optionnal) */
.cl-modal__footer {
    border-top: 1px solid lightgrey;
}
/* THEN THE MIDDLE / CONTENT */
.cl-modal__content {
    height: 100%;
    overflow-y: auto;
    padding: 25px;
    opacity: 0;
    transition: opacity 0s;
}
/* WARNING ! This part is very important : it renders the content only after the end of the openning of the modal
ie. when the modal is resized, nothing is visible, after 0.3s of resizing, it&#39;s displays the content
this trick is very important to avoid the browser the resize all the content during the modal opening */
.cl-modal-active .cl-modal__content {
    opacity: 1;
    transition-delay: 0.3s;
}
</code></pre>
                </div>
            </div>
            
        </div>
    </section>
</div>

<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {
        var loopId = setInterval(() => {
            iframeId = "iframe-the-demographic-observatory";
            iframe = document.getElementById(iframeId);
             
            size =  null 
             
            if (iframe != undefined && iframe.contentWindow.document.body != undefined){
                scrollHeight = parseInt(iframe.contentWindow.document.body.scrollHeight);
                if (iframe.height == size) {
                    clearInterval(loopId);
                } else {
                    iframe.height = size > 1 ? size : scrollHeight;
                }
            }
        }, 1000);
    });
</script>


<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {
        var loopId = setInterval(() => {
            iframeId = "iframe-the-demographic-observatory";
            iframe = document.getElementById(iframeId);

            if (iframe != undefined && iframe.contentWindow.document.body != undefined){
                scrollHeight = parseInt(iframe.contentWindow.document.body.scrollHeight);
            }
        }, 1000);
    });
</script>

      </div>
    </div>
    
  </section>

    </div>
</div>

<footer class="footer">
    <a href="https://www.opendatasoft.com"
       class="footer-link"
       title="Opendatasoft website">
        <img src="/img/ods-logo.svg"
             class="footer-logo"
             alt="Opendatasoft logo"
        />
    </a>
    <span class="footer-copyright">
        &copy; Copyright 2020
    </span>
</footer>







<script>var process = { "env": { "NODE_ENV": "production" } }</script>
<script type="text/javascript"
        src="/index.min.721d8ddd610d7411f5b7be72e84b07596e4b0b12b88182289ee0b6706252588f.js"
        defer></script>

</body>
</html>
