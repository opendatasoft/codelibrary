<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
    <title>
         Regional COVID-19 Dashboard &ndash; Codelibrary 
    </title>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-41201218-21"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-41201218-21');
    </script>

    
    

    
    
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css"/>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/instantsearch.css@7.3.1/themes/algolia-min.css"
          integrity="sha256-HB49n/BZjuqiCtQQf49OdZn63XuKFaxcIHWf0HNKte8="
          crossorigin="anonymous">

    
    <link rel="stylesheet"
          type="text/css"
          href="/scss/main.css" />
    <link rel="icon"
          type="image/png"
          sizes="32x32"
          href="/favicon-32x32.png">
    <link rel="icon"
          type="image/png"
          sizes="16x16"
          href="/favicon-16x16.png">
    <link rel="shortcut icon"
          href="/favicon.ico">
</head>

<body>

<nav class="navbar is-fixed-top"
     role="navigation"
     aria-label="Main navigation">
    <div class="navbar-brand">
        <button class="navbar-burger burger"
                type="button"
                data-target="sidebarNavbar"
                aria-controls="sidebarNavbar"
                aria-expanded="false"
                aria-label="Main menu">
            Menu
        </button>
        <a class="navbar-item"
           href="/"
           title="Back to the homepage">
            <img src="/img/ods-logo-helphub.svg"
                 alt="Helphub Logo"/>
        </a>
        <button class="navbar-burger burger"
                type="button"
                data-target="helphubNavbar"
                aria-controls="helphubNavbar"
                aria-expanded="false"
                aria-label="Help Hub Menu">
            Help Hub
        </button>
    </div>
    <div class="navbar-menu"
         id="helphubNavbar">
        <div class="navbar-start">
            <a class="navbar-item"
               href="https://help.opendatasoft.com/">
                Help Hub
            </a>
            <a class="navbar-item"
               href="https://help.opendatasoft.com/platform/en/">
                User guide
            </a>
            <a class="navbar-item is-active"
               href="https://codelibrary.opendatasoft.com">
                Code Library
            </a>
            <a class="navbar-item"
               href="https://help.opendatasoft.com/faq-glossary/en/">
                FAQ
            </a>
            <a class="navbar-item"
               href="https://help.opendatasoft.com/widgets/">
                Widgets
            </a>
            <a class="navbar-item"
               href="https://help.opendatasoft.com/en/apis/">
                APIs
            </a>
            <a class="navbar-item"
               href="https://academy.opendatasoft.com/page/homepage">
                Academy
            </a>
        </div>
    </div>
</nav>

<div class="columns is-desktop codelibrary">
    <div class="column is-narrow">
    <aside class="sidebar"
       id="sidebarNavbar">
    
     <div class="sidebar-header">
       <div class="block">
         <ul class="menu-list">
           <p class="menu-label">On this page</p>
           <li>
             <a href="#">
               Top
             </a>
           </li>
           
           <li>
             <a href="#regional-covid-dashboard">
               Regional covid dashboard
             </a>
           </li>
           
         </ul>
       </div>
     </div>
     

        
        
        <ul class="menu-list">
          <div class="block">
            <div id="algolia-box"></div>
            <div id="algolia-results"></div>
          </div>
            <li>
                <a class="sidebar-subtitle"
                   href="https://codelibrary.opendatasoft.com">
                    Home
                </a>
            </li>
            
              
                
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
              <li>
                  <a href="/components/"
                     class="sidebar-subtitle">
                      Components
                      
                        <span class="tag pill is-size-7 is-rounded is-info">2</span>
                      
                  </a>
              </li>
              
            
              
                
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
              <li>
                  <a href="/generators/"
                     class="sidebar-subtitle">
                      Generators
                      
                        <span class="tag pill is-size-7 is-rounded is-info">1</span>
                      
                  </a>
              </li>
              
            
              
              <li>
                  <a class="sidebar-subtitle " href="/page-templates/">
                  Page templates
                  </a>
                  <ul>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/gtfs-custom-view/">
                              <div>
                                Gtfs Custom View
                                
                                
                                <span class="tag pill is-size-7 is-rounded is-info">
                                  1
                                </span>
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/dashboard/">
                              <div>
                                Dashboard template
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/datastory/">
                              <div>
                                Data Story
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/fullscreen-map/">
                              <div>
                                Fullscreen map with filters
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/home-1/">
                              <div>
                                Home page 1
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/home-2/">
                              <div>
                                Home page 2
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/home-3/">
                              <div>
                                Home page 3
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/light-dashboard/">
                              <div>
                                Light Dashboard
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/map-refine/">
                              <div>
                                Map &amp; Refine
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/observatory/">
                              <div>
                                Observatory
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="is-active" href="https://codelibrary.opendatasoft.com/page-templates/regional-covid/">
                              <div>
                                Regional COVID-19 Dashboard
                                
                                
                              </div>
                            </a>
                        </li>
                      
                        <li>
                            <a class="" href="https://codelibrary.opendatasoft.com/page-templates/timeline/">
                              <div>
                                Timeline
                                
                                
                              </div>
                            </a>
                        </li>
                      
                  </ul>
              </li>
              
            
              
                
                
                  
                  
                
                  
                  
                
                  
                  
                
              <li>
                  <a href="/portal-themes/"
                     class="sidebar-subtitle">
                      Portal themes
                      
                  </a>
              </li>
              
            
              
                
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
                  
                  
                
              <li>
                  <a href="/widget-tricks/"
                     class="sidebar-subtitle">
                      Widget tricks
                      
                        <span class="tag pill is-size-7 is-rounded is-info">2</span>
                      
                  </a>
              </li>
              
            
        </ul>
        <p class="menu-label">
            Tags
        </p>
        <div class="tags">
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/aggregation/">
                aggregation
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/chart/">
                chart
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/date/">
                date
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/display/">
                display
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/filter/">
                filter
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/geo/">
                geo
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/list/">
                list
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/map/">
                map
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/navigation/">
                navigation
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/ods-aggregation/">
                ods-aggregation
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/ods-analysis/">
                ods-analysis
            </a>
            
            <a class="tag" href="https://codelibrary.opendatasoft.com/tags/ods-maps/">
                ods-maps
            </a>
            
        </div>
</aside>

    </div>
    <div class="column codelibrary-content">
    
  <section>
    <div class="content-header container is-max-desktop mb-5">
      <div class="content">
        <h1>Page Templates - Regional COVID-19 Dashboard</h1>
        
      </div>
    </div>
    
    <div class="container">
      <div class="box box-example">
        <h2 class="title is-2" id="regional-covid-dashboard">
          Regional covid dashboard
          
          <a class="is-link anchor" href="#regional-covid-dashboard">
            <span class="icon">
              <img src="/img/fas-link.svg" />
            </span>
          </a>
        </h2>
        
        <p>A dedicated dashboard for local COVID-19 data.</p>

        


<div class="codepen">
    
    
    

    <form id="form-regional-covid-dashboard"
          action="https://codepen.io/pen/define"
          method="POST"
          target="_blank">
        <input type="hidden"
               name="data"
               value='{
               "title": "New Pen!",
               "head": &#34;\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.css\&#34;\u003e\n\n\u003c!-- ODS Platform CSS - must be hosted on static : WIP --\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://codelibrary.opendatasoft.com/css/theme.css\&#34;\u003e\n\n\u003cscript src=\&#34;//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;//cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.0/angular.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;//cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.8.2/angular-sanitize.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/angular-i18n/1.8.2/angular-locale_fr.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.js\&#34;\u003e\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;https://codelibrary.opendatasoft.com/js/platform-filters.js\&#34;\u003e\u003c/script\u003e\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;https://codelibrary.opendatasoft.com/js/ods-catalog-card.js\&#34;\u003e\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34;\u003e\n    angular.module(&#39;ods-widgets&#39;).config(function (ODSWidgetsConfigProvider) {\n        ODSWidgetsConfigProvider.setConfig({\n            \&#34;defaultDomain\&#34;: \&#34;https://userclub.opendatasoft.com/\&#34;,\n            \&#34;basemaps\&#34;: [\n                {\n                    \&#34;provider\&#34;: \&#34;jawg.light\&#34;,\n                    \&#34;label\&#34;: \&#34;Jawg Light\&#34;,\n                    \&#34;jawg_apikey\&#34;: \&#34;opendatasoft-community\&#34;\n                },\n                {\n                    \&#34;provider\&#34;: \&#34;jawg.streets\&#34;,\n                    \&#34;label\&#34;: \&#34;Jawg Streets\&#34;,\n                    \&#34;jawg_apikey\&#34;: \&#34;opendatasoft-community\&#34;,\n                    \&#34;id\&#34;: \&#34;streets\&#34;\n                }\n            ],\n            \&#34;themes\&#34;: {\n                &#39;default&#39;: {\n                    &#39;url&#39;: &#39;/img/ods.svg&#39;\n                },\n                &#39;Santé&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/doctors.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Culture, Patrimoine&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/culture.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Éducation, Formation, Recherche, Enseignement&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/college.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Environment&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/leaf.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Transports, Déplacements&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/train_station.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Aménagement du territoire, Urbanisme, Bâtiments, Équipements, Logement&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/townplanning.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Économie, Business, PME, Développement économique, Emploi&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/economy.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Administration, Gouvernement, Finances publiques, Citoyenneté&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/administration.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Justice, Sécurité, Police, Crime&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/court.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Sport, Loisirs&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/soccer.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Hébergement, Restauration&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/accommodation.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Services, Social&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/social.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Checklist&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/copyshop.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                },\n                &#39;Usages&#39;: {\n                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/bike.svg&#39;,\n                    &#39;color&#39;: &#39;#1446A0&#39;\n                }\n            },\n            \&#34;mapPrependAttribution\&#34;: \&#34;Jawg apikey NOT suitable for production\&#34;\n        });\n    });\n\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34;\u003e\n    document.addEventListener(\&#34;DOMContentLoaded\&#34;, function () {\n        document.querySelectorAll(&#39;a[href=\&#34;#\&#34;]&#39;).forEach((el) =\u003e {\n            el.addEventListener(&#39;click&#39;, (event) =\u003e {\n                event.preventDefault();\n            });\n        })\n    });\n\u003c/script\u003e\n&#34;,
               "editors": 110,
               "html": &#34;\u003cdiv ng-app=\&#34;ods-widgets\&#34;\u003e\n\u003cdiv class=\&#34;container\&#34;\u003e\n    \u003csection\u003e\n        \u003ch2 class=\&#34;text-primary text-center mb-4\&#34;\u003e\n            COVID-19 epidemiologic status in Castilla y León\n        \u003c/h2\u003e\n    \u003c/section\u003e\n    \u003c!-- The data used here are from the first dashboard of the kind on ODS made by Junta de Castilla y Leone.\n    See the page here : https://analisis.datosabiertos.jcyl.es/pages/coronavirus/\n    See the data here : https://analisis.datosabiertos.jcyl.es/explore/dataset/situacion-epidemiologica-coronavirus-en-castilla-y-leon/table/?disjunctive.provincia\u0026dataChart=eyJxdWVyaWVzIjpbeyJjaGFydHMiOlt7InR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJjYXNvc19jb25maXJtYWRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiM2NmMyYTUifSx7ImFsaWduTW9udGgiOnRydWUsInR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJmYWxsZWNpbWllbnRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiNmYzhkNjIifV0sInhBeGlzIjoiZmVjaGEiLCJtYXhwb2ludHMiOiIiLCJ0aW1lc2NhbGUiOiJkYXkiLCJzb3J0IjoiIiwiY29uZmlnIjp7ImRhdGFzZXQiOiJzaXR1YWNpb24tZXBpZGVtaW9sb2dpY2EtY29yb25hdmlydXMtZW4tY2FzdGlsbGEteS1sZW9uIiwib3B0aW9ucyI6eyJkaXNqdW5jdGl2ZS5wcm92aW5jaWEiOnRydWV9fX1dLCJkaXNwbGF5TGVnZW5kIjp0cnVlLCJhbGlnbk1vbnRoIjp0cnVlLCJ0aW1lc2NhbGUiOiIiLCJzaW5nbGVBeGlzIjp0cnVlfQ%3D%3D\u0026location=8,41.64954,-4.33333\u0026basemap=jawg.streets --\u003e\n    \u003cods-dataset-context context=\&#34;regions, cases, selected\&#34; cases-domain=\&#34;jcyl\&#34; cases-dataset=\&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon\&#34; selected-domain=\&#34;jcyl\&#34;\n                         selected-dataset=\&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon\&#34; selected-parameters=\&#34;{&#39;disjunctive.provincia&#39;:true}\&#34; regions-dataset=\&#34;limites-provinciales-de-castilla-y-leon-recintos\&#34;\n                         regions-domain=\&#34;https://analisis.datosabiertos.jcyl.es\&#34;\u003e\n        \u003cspan ods-analysis=\&#34;byDate\&#34; ods-analysis-context=\&#34;cases\&#34; ods-analysis-max=\&#34;0\&#34; ods-analysis-x=\&#34;fecha\&#34; ods-analysis-serie-confirmados=\&#34;SUM(casos_confirmados)\&#34; ods-analysis-serie-nuevos=\&#34;SUM(nuevos_positivos)\&#34; ods-analysis-serie-altas=\&#34;SUM(altas)\&#34;\n              ods-analysis-serie-fallecimientos=\&#34;SUM(fallecimientos)\&#34; ods-analysis-sort=\&#34;fecha\&#34;\u003e\n        \u003c/span\u003e\n        {{ nbRecords = byDate.results.length - 1; \&#34;\&#34; }}\n        \u003c!-- This code will refine results for latest date present in the datafield. The data on a given date must then already have the cumulative total at a given day avalaible.\n      If you only have daily increments, you need one more context that is not refined by the last date, on which you do the ODS analysis with SUM --\u003e\n        \u003cspan ods-results=\&#34;list\&#34; ods-results-context=\&#34;cases\&#34; ods-results-max=\&#34;-1\&#34; ods-results-sort=\&#34;fecha\&#34;\u003e\n            {{ lastDate = list[list.length-1].fields.fecha; \&#34;\&#34; }}\n            {{ cases.parameters[&#39;refine.fecha&#39;] = lastDate;\&#34;\&#34;}}\n        \u003c/span\u003e\n        \u003cspan ods-analysis=\&#34;byPostcode\&#34; ods-analysis-context=\&#34;cases\&#34; ods-analysis-max=\&#34;0\&#34; ods-analysis-x-provincia=\&#34;provincia\&#34; ods-analysis-serie-confirmados=\&#34;SUM(casos_confirmados)\&#34; ods-analysis-serie-nuevos=\&#34;SUM(nuevos_positivos)\&#34;\n              ods-analysis-serie-altas=\&#34;SUM(altas)\&#34; ods-analysis-serie-fallecimientos=\&#34;SUM(fallecimientos)\&#34; ods-analysis-serie-codigos=\&#34;SUM(codigo_ine)\&#34; ods-analysis-sort=\&#34;-codigos\&#34;\u003e\n        \u003c/span\u003e\n        \u003cspan ods-analysis=\&#34;byRegion\&#34; ods-analysis-context=\&#34;cases\&#34; ods-analysis-x=\&#34;provincia\&#34; ods-analysis-max=\&#34;0\&#34; ods-analysis-serie-confirmados=\&#34;SUM(casos_confirmados)\&#34; ods-analysis-serie-nuevos=\&#34;SUM(nuevos_positivos)\&#34;\n              ods-analysis-serie-altas=\&#34;SUM(altas)\&#34; ods-analysis-serie-fallecimientos=\&#34;SUM(fallecimientos)\&#34; ods-analysis-sort=\&#34;confirmados\&#34;\u003e\n        \u003c/span\u003e\n\n        \u003c!-- These are a few examples key figures you may want to put. You can add as many as you want, they will warp to multiple lines if you have a lot (but consider not putting too many) --\u003e\n        \u003csection\u003e\n            \u003cdiv class=\&#34;row\&#34;\u003e\n                \u003cdiv class=\&#34;col-md-3\&#34;\u003e\n                    \u003cdiv class=\&#34;insight-card\&#34;\u003e\n                        \u003ch3 class=\&#34;text-highlight insight-figure\&#34;\u003e{{ byDate.results[nbRecords].confirmados }}\u003c/h3\u003e\n                        \u003cp class=\&#34;text-light\&#34;\u003eCases\u003c/p\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\&#34;col-md-3\&#34;\u003e\n                    \u003cdiv class=\&#34;insight-card\&#34;\u003e\n                        \u003ch3 class=\&#34;text-highlight insight-figure\&#34;\u003e{{ byDate.results[nbRecords].nuevos }}\u003c/h3\u003e\n                        \u003cp class=\&#34;text-light\&#34;\u003eNew-cases today\u003c/p\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\&#34;col-md-3\&#34;\u003e\n                    \u003cdiv class=\&#34;insight-card\&#34;\u003e\n                        \u003ch3 class=\&#34;text-highlight insight-figure\&#34;\u003e{{ byDate.results[nbRecords].altas }}\u003c/h3\u003e\n                        \u003cp class=\&#34;text-light\&#34;\u003eRecovered\u003c/p\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\&#34;col-md-3\&#34;\u003e\n                    \u003cdiv class=\&#34;insight-card\&#34;\u003e\n                        \u003ch3 class=\&#34;text-highlight insight-figure\&#34;\u003e{{ byDate.results[nbRecords].fallecimientos }}\u003c/h3\u003e\n                        \u003cp class=\&#34;text-light\&#34;\u003eDeaths\u003c/p\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n        \u003c/section\u003e\n        \u003cp ods-resluts=\&#34;items\&#34; ods-results-context=\&#34;cases\&#34; ods-results-max=\&#34;0\&#34;\u003e{{ items }}\u003c/p\u003e\n        \u003c!-- The example shows two tabs, you may add as many as you want for deaths etc. (but we strongly recommend not adding too many)\n    The subagregation here is only needed for colors--\u003e\n        \u003csection\u003e\n            \u003cdiv class=\&#34;row feature-box\&#34; ng-init=\&#34;tabselector = &#39;firsttab&#39;\&#34;\u003e\n                \u003cdiv class=\&#34;col-xs-12\&#34;\u003e\n                    \u003cdiv class=\&#34;tabs\&#34;\u003e\n                        \u003ca class=\&#34;tab\&#34; ng-click=\&#34;tabselector = &#39;firsttab&#39;\&#34; ng-class=\&#34;{&#39;activetab&#39; : tabselector == &#39;firsttab&#39;}\&#34;\u003e\n                            Total cases\n                        \u003c/a\u003e\n                        \u003ca class=\&#34;tab\&#34; ng-click=\&#34;tabselector = &#39;secondtab&#39;\&#34; ng-class=\&#34;{&#39;activetab&#39; : tabselector == &#39;secondtab&#39;}\&#34;\u003e\n                            New cases today\n                        \u003c/a\u003e\n                    \u003c/div\u003e\n                    \u003cdiv class=\&#34;col-xs-12\&#34; ng-if=\&#34;tabselector == &#39;firsttab&#39;\&#34;\u003e\n                        \u003cdiv ng-init=\&#34;colors = {};\&#34;\u003e\n                            \u003c!-- Put serie you want to color regions with in \&#34;maxval/minval\&#34; res.\&#34;nameofserie\&#34;. Replace res.codigos with your ZIP code field name --\u003e\n                            \u003cdiv ods-subaggregation=\&#34;byPostcode.results\&#34; ods-subaggregation-serie-maxval=\&#34;MAX(confirmados)\&#34; ods-subaggregation-serie-minval=\&#34;MIN(confirmados)\&#34;\u003e\n                                \u003cspan ng-repeat=\&#34;res in byPostcode.results\&#34;\u003e\n                                    \u003c!-- This is a little trick to have 5 digit ZIP code match 2 digit region code --\u003e\n                                    {{reg_code = res.codigos \u003e 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); \&#34;\&#34;}}\n                                    {{colors[reg_code] = \&#34;hsl(220,75%,\&#34; &#43; (75 - ((res.confirmados - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; \&#34;%,1)\&#34;; \&#34;\&#34; }}\n                                \u003c/span\u003e\n                            \u003c/div\u003e\n                            \u003cods-map basemap=\&#34;jawg.light\&#34; no-refit=\&#34;false\&#34; scroll-wheel-zoom=\&#34;false\&#34; display-control=\&#34;false\&#34; toolbar-drawing=\&#34;false\&#34;\u003e\n                                \u003c!-- Put the serie you want as numbers on the map in \&#34;expresion\&#34; --\u003e\n                                \u003cods-map-layer context=\&#34;cases\&#34; color=\&#34;#142e7b\&#34; picto=\&#34;ods-circle\&#34; display=\&#34;clusters\&#34; function=\&#34;SUM\&#34; expression=\&#34;casos_confirmados\&#34; shape-opacity=\&#34;0.5\&#34; point-opacity=\&#34;1\&#34; caption=\&#34;false\&#34;\n                                               title=\&#34;Epidimioliogic satutus in Castilla dy Leon\&#34; size-min=\&#34;3\&#34; size-max=\&#34;5\&#34; size-function=\&#34;linear\&#34;\u003e\u003c/ods-map-layer\u003e\n                                \u003cods-map-layer context=\&#34;regions\&#34; color-categories=\&#34;colors\&#34; color-by-field=\&#34;cod_ine_prov\&#34; color-categories-other=\&#34;lightgrey\&#34; display=\&#34;categories\&#34; shape-opacity=\&#34;0.7\&#34; tooltip-disabled=\&#34;true\&#34;\u003e\u003c/ods-map-layer\u003e\n                            \u003c/ods-map\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                    \u003cdiv class=\&#34;col-xs-12\&#34; ng-if=\&#34;tabselector == &#39;secondtab&#39;\&#34;\u003e\n                        \u003cdiv ng-init=\&#34;colors = {};\&#34;\u003e\n                            \u003c!-- Put serie you want to color regions with in maxval/min --\u003e\n                            \u003cdiv ods-subaggregation=\&#34;byPostcode.results\&#34; ods-subaggregation-serie-maxval=\&#34;MAX(nuevos)\&#34; ods-subaggregation-serie-minval=\&#34;MIN(nuevos)\&#34;\u003e\n                                \u003cspan ng-repeat=\&#34;res in byPostcode.results\&#34;\u003e\n                                    {{reg_code = res.codigos \u003e 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); \&#34;\&#34;}}\n                                    {{colors[reg_code] = \&#34;hsl(220,75%,\&#34; &#43; (75 - ((res.nuevos - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; \&#34;%,1)\&#34;; \&#34;\&#34; }}\n                                \u003c/span\u003e\n                            \u003c/div\u003e\n                        \u003c/div\u003e\n                        \u003cods-map basemap=\&#34;jawg.light\&#34; no-refit=\&#34;false\&#34; scroll-wheel-zoom=\&#34;false\&#34; display-control=\&#34;false\&#34; toolbar-drawing=\&#34;false\&#34;\u003e\n                            \u003cods-map-layer context=\&#34;cases\&#34; color=\&#34;#142e7b\&#34; picto=\&#34;ods-circle\&#34; display=\&#34;clusters\&#34; function=\&#34;SUM\&#34; expression=\&#34;nuevos_positivos\&#34; shape-opacity=\&#34;0.5\&#34; point-opacity=\&#34;1\&#34; caption=\&#34;false\&#34; title=\&#34;Epidimioliogic satutus in Castilla dy Leon\&#34;\n                                           size-min=\&#34;3\&#34; size-max=\&#34;5\&#34; size-function=\&#34;linear\&#34;\u003e\u003c/ods-map-layer\u003e\n                            \u003cods-map-layer context=\&#34;regions\&#34; color-categories=\&#34;colors\&#34; color-by-field=\&#34;cod_ine_prov\&#34; color-categories-other=\&#34;lightgrey\&#34; display=\&#34;categories\&#34; shape-opacity=\&#34;0.7\&#34; tooltip-disabled=\&#34;true\&#34;\u003e\u003c/ods-map-layer\u003e\n                        \u003c/ods-map\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n        \u003c/section\u003e\n\n        \u003csection\u003e\n            \u003c!-- Row of this section a selectable, to stack by filtering the \&#34;selected\&#34; context. That is why we use the same context twice (otherwise the map and KPIs would also be filtered) --\u003e\n            \u003cdiv class=\&#34;row feature-box\&#34;\u003e\n                \u003cdiv class=\&#34;col-xs-12\&#34; title=\&#34;Click on a row to add it to the charts below\&#34;\u003e\n                    \u003ctable class=\&#34;summary-table\&#34;\u003e\n                        \u003cthead\u003e\n                        \u003c!-- Replace with your own headings. You may add more fields. --\u003e\n                        \u003cth\u003eRegion\u003c/th\u003e\n                        \u003cth\u003eConfirmed\u003c/th\u003e\n                        \u003cth\u003eRecovered\u003c/th\u003e\n                        \u003cth\u003eDeaths\u003c/th\u003e\n                        \u003c/thead\u003e\n                        \u003ctbody\u003e\n                        \u003ctr ng-repeat=\&#34;region in byRegion.results\&#34; ng-class=\&#34;{&#39;toggled&#39;: toggled}\&#34;\u003e\n                            \u003ctd\u003e\n                                \u003cdiv\u003e\n                                    \u003c!-- The custom checkbox is made by using the label and hiding the checkbox. Regular checkboxes will work perfectly as wall (but cannot be styled) --\u003e\n                                    \u003cinput id=\&#34;{{ region.x }}\&#34; type=\&#34;checkbox\&#34; class=\&#34;hidden-checkbox\&#34; ods-toggle-model=\&#34;$parent.selected.parameters\&#34; ods-toggle-key=\&#34;refine.provincia\&#34; ods-toggle-value=\&#34;{{ region.x }}\&#34; /\u003e\n                                    \u003clabel for=\&#34;{{ region.x }}\&#34; class=\&#34;fake-checkbox\&#34; ng-click=\&#34;toggled = !toggled\&#34;\u003e\u003c/label\u003e\n                                    {{ region.x }}\n                                \u003c/div\u003e\n                            \u003c/td\u003e\n                            \u003c!-- Replace with corresponding data fields --\u003e\n                            \u003ctd\u003e{{ region.confirmados }}\u003c/td\u003e\n                            \u003ctd\u003e{{ region.altas }}\u003c/td\u003e\n                            \u003ctd\u003e{{ region.fallecimientos }}\u003c/td\u003e\n                        \u003c/tr\u003e\n                        \u003c/tbody\u003e\n                    \u003c/table\u003e\n                \u003c/div\u003e\n                \u003c!-- Those charts will react to selected rows. Only change the expression-y. --\u003e\n                \u003cdiv class=\&#34;col-md-6\&#34;\u003e\n                    \u003ch4 class=\&#34;text-primary text-center\&#34;\u003eEvolution\u003c/h4\u003e\n                    \u003cods-chart timescale=\&#34;year\&#34; single-y-axis=\&#34;true\&#34; scientific-display=\&#34;false\&#34; align-month=\&#34;true\&#34;\u003e\n                        \u003cods-chart-query context=\&#34;selected\&#34; field-x=\&#34;fecha\&#34; maxpoints=\&#34;0\&#34; timescale=\&#34;day\&#34;\u003e\n                            \u003cods-chart-serie expression-y=\&#34;casos_confirmados\&#34; chart-type=\&#34;spline\&#34; function-y=\&#34;SUM\&#34; label-y=\&#34;Confirmed cases\&#34; color=\&#34;#00c7b1\&#34; scientific-display=\&#34;true\&#34; display-values=\&#34;true\&#34;\u003e\n                            \u003c/ods-chart-serie\u003e\n                            \u003cods-chart-serie expression-y=\&#34;fallecimientos\&#34; chart-type=\&#34;line\&#34; function-y=\&#34;SUM\&#34; label-y=\&#34;Deceased\&#34; color=\&#34;#fc8d62\&#34; scientific-display=\&#34;true\&#34; display-values=\&#34;true\&#34;\u003e\n                            \u003c/ods-chart-serie\u003e\n                        \u003c/ods-chart-query\u003e\n                    \u003c/ods-chart\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\&#34;col-md-6\&#34;\u003e\n                    \u003ch4 class=\&#34;text-primary text-center\&#34;\u003eDaily Increment\u003c/h4\u003e\n                    \u003cods-chart timescale=\&#34;year\&#34; align-month=\&#34;true\&#34;\u003e\n                        \u003cods-chart-query context=\&#34;selected\&#34; field-x=\&#34;fecha\&#34; maxpoints=\&#34;0\&#34; timescale=\&#34;day\&#34;\u003e\n                            \u003cods-chart-serie expression-y=\&#34;nuevos_positivos\&#34; chart-type=\&#34;column\&#34; function-y=\&#34;SUM\&#34; label-y=\&#34;New positives\&#34; color=\&#34;#00c7b1\&#34; display-values=\&#34;true\&#34; display-stack-values=\&#34;false\&#34; scientific-display=\&#34;true\&#34;\u003e\n                            \u003c/ods-chart-serie\u003e\n                        \u003c/ods-chart-query\u003e\n                    \u003c/ods-chart\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n        \u003c/section\u003e\n    \u003c/ods-dataset-context\u003e\n\u003c/div\u003e\n\n\u003c/div\u003e&#34;,
               "css": &#34;/* General settings */\nbody {\n    background-color: #f6f8fb;\n}\n\n.feature-box {\n    margin: 21px 0px;\n    padding: 13px;\n    background: white;\n    border-radius: 4px;\n    background-color: #ffffff;\n    background-size: cover;\n    box-shadow: 0 1px 3px rgba(0,0,0,0.13);\n}\n/* Table design */\n.summary-table {\n    table-layout: fixed;\n    white-space: nowrap;\n    width: 100%;\n    margin-bottom: 21px;\n}\n\n.summary-table thead {\n    background: #f6f8fb;\n    color: #142e7b;\n}\n\n.summary-table td,\nth {\n    padding: 1rem;\n}\n\n.summary-table td {\n    border-top: 1px solid;\n    border-color: #dee5ef;\n}\n\n.summary-table tr:hover {\n    background: #f6f8fb;\n}\n\n.summary-table .toggled {\n    background: #f6f8fb;\n}\n\n.hidden-checkbox {\n    visibility: hidden;\n}\n\n.fake-checkbox {\n    width: 21px;\n    height: 21px;\n    background: white;\n    border: 1px solid #142e7b;\n    border-radius: 4px;\n    font-weight: normal;\n}\n\n.fake-checkbox:after {\n    content: \&#34;\\f00c\&#34;;\n    opacity: 0;\n    font-family: FontAwesome;\n    color: #142e7b;\n    margin-left: 3px;\n}\n\n.hidden-checkbox:checked ~ .fake-checkbox:after {\n    content: \&#34;\\f00c\&#34;;\n    opacity: 1;\n    font-family: FontAwesome;\n    color: #142e7b;\n    margin-left: 3px;\n}\n\n/* cards */\n.insight-card {\n    margin: 13px;\n    border: 1px dotted #142e7b;\n    border-radius: 4px;\n    color: #565656;\n    text-decoration: rgb(86, 86, 86);\n    box-shadow: 0px 0px 0px rgba(0,0,0,0);\n    text-align: center;\n    padding: 21px;\n    height: 100%;\n}\n\n.insight-figure {\n    font-size: 34px;\n}\n/* tabs */\n.tabs {\n    margin: 1em;\n    /* Adds lots of space around the tabs, to avoid the border to fall into the tab content area */\n}\n\n.tab {\n    padding: 10px 20px;\n    /* Gives some space to tab titles */\n    color: gray;\n    /* Colors the text in gray */\n}\n/* Only visible when the mouse is on a tab title */\n.tab:hover {\n    color: black;\n    /* Colors the text in black to highlight the possible selection */\n    text-decoration: none;\n    /* Removes the hyperlink underline style */\n}\n\n.activetab {\n    color: black;\n    /* Colors the text in black */\n    border-bottom: 3px solid #2d2d2d;\n    /* Underlines the text with a bold dark border */\n}\n\n/* Utilities */\n.mb-4 {\n    margin-bottom: 55px;\n}\n\n.text-primary {\n    color: #142e7b;\n}\n\n.text-highlight {\n    color: #00c7b1;\n}\n\n.text-center {\n    text-align: center;\n}\n\n.text-light {\n    color: #898D92;\n}\n\n.justify-content-left {\n    display: flex;\n    justify-content: flex-start;\n}\n&#34; }'>
    </form>
</div>

<div class="ods-content">
    <section class="box box-live-example">
      <iframe id="iframe-regional-covid-dashboard"
              width="100%" height="100%"
              src="about:blank"
              srcdoc="
        <head>&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.css&#34;&gt;

&lt;!-- ODS Platform CSS - must be hosted on static : WIP --&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://codelibrary.opendatasoft.com/css/theme.css&#34;&gt;

&lt;script src=&#34;//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;//cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.0/angular.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;//cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.8.2/angular-sanitize.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/angular-i18n/1.8.2/angular-locale_fr.min.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.js&#34;&gt;&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34; src=&#34;https://codelibrary.opendatasoft.com/js/platform-filters.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;https://codelibrary.opendatasoft.com/js/ods-catalog-card.js&#34;&gt;&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
    angular.module(&#39;ods-widgets&#39;).config(function (ODSWidgetsConfigProvider) {
        ODSWidgetsConfigProvider.setConfig({
            &#34;defaultDomain&#34;: &#34;https://userclub.opendatasoft.com/&#34;,
            &#34;basemaps&#34;: [
                {
                    &#34;provider&#34;: &#34;jawg.light&#34;,
                    &#34;label&#34;: &#34;Jawg Light&#34;,
                    &#34;jawg_apikey&#34;: &#34;opendatasoft-community&#34;
                },
                {
                    &#34;provider&#34;: &#34;jawg.streets&#34;,
                    &#34;label&#34;: &#34;Jawg Streets&#34;,
                    &#34;jawg_apikey&#34;: &#34;opendatasoft-community&#34;,
                    &#34;id&#34;: &#34;streets&#34;
                }
            ],
            &#34;themes&#34;: {
                &#39;default&#39;: {
                    &#39;url&#39;: &#39;/img/ods.svg&#39;
                },
                &#39;Santé&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/doctors.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Culture, Patrimoine&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/culture.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Éducation, Formation, Recherche, Enseignement&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/college.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Environment&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/leaf.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Transports, Déplacements&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/train_station.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Aménagement du territoire, Urbanisme, Bâtiments, Équipements, Logement&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/townplanning.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Économie, Business, PME, Développement économique, Emploi&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/economy.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Administration, Gouvernement, Finances publiques, Citoyenneté&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/administration.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Justice, Sécurité, Police, Crime&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/court.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Sport, Loisirs&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/soccer.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Hébergement, Restauration&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/accommodation.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Services, Social&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/social.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Checklist&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/copyshop.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                },
                &#39;Usages&#39;: {
                    &#39;url&#39;: &#39;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/bike.svg&#39;,
                    &#39;color&#39;: &#39;#1446A0&#39;
                }
            },
            &#34;mapPrependAttribution&#34;: &#34;Jawg apikey NOT suitable for production&#34;
        });
    });
&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
    document.addEventListener(&#34;DOMContentLoaded&#34;, function () {
        document.querySelectorAll(&#39;a[href=&#34;#&#34;]&#39;).forEach((el) =&gt; {
            el.addEventListener(&#39;click&#39;, (event) =&gt; {
                event.preventDefault();
            });
        })
    });
&lt;/script&gt;

        </head>
        <body>
        <div ng-app='ods-widgets'>
            &lt;div class=&#34;container&#34;&gt;
    &lt;section&gt;
        &lt;h2 class=&#34;text-primary text-center mb-4&#34;&gt;
            COVID-19 epidemiologic status in Castilla y León
        &lt;/h2&gt;
    &lt;/section&gt;
    &lt;!-- The data used here are from the first dashboard of the kind on ODS made by Junta de Castilla y Leone.
    See the page here : https://analisis.datosabiertos.jcyl.es/pages/coronavirus/
    See the data here : https://analisis.datosabiertos.jcyl.es/explore/dataset/situacion-epidemiologica-coronavirus-en-castilla-y-leon/table/?disjunctive.provincia&amp;dataChart=eyJxdWVyaWVzIjpbeyJjaGFydHMiOlt7InR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJjYXNvc19jb25maXJtYWRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiM2NmMyYTUifSx7ImFsaWduTW9udGgiOnRydWUsInR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJmYWxsZWNpbWllbnRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiNmYzhkNjIifV0sInhBeGlzIjoiZmVjaGEiLCJtYXhwb2ludHMiOiIiLCJ0aW1lc2NhbGUiOiJkYXkiLCJzb3J0IjoiIiwiY29uZmlnIjp7ImRhdGFzZXQiOiJzaXR1YWNpb24tZXBpZGVtaW9sb2dpY2EtY29yb25hdmlydXMtZW4tY2FzdGlsbGEteS1sZW9uIiwib3B0aW9ucyI6eyJkaXNqdW5jdGl2ZS5wcm92aW5jaWEiOnRydWV9fX1dLCJkaXNwbGF5TGVnZW5kIjp0cnVlLCJhbGlnbk1vbnRoIjp0cnVlLCJ0aW1lc2NhbGUiOiIiLCJzaW5nbGVBeGlzIjp0cnVlfQ%3D%3D&amp;location=8,41.64954,-4.33333&amp;basemap=jawg.streets --&gt;
    &lt;ods-dataset-context context=&#34;regions, cases, selected&#34; cases-domain=&#34;jcyl&#34; cases-dataset=&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon&#34; selected-domain=&#34;jcyl&#34;
                         selected-dataset=&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon&#34; selected-parameters=&#34;{&#39;disjunctive.provincia&#39;:true}&#34; regions-dataset=&#34;limites-provinciales-de-castilla-y-leon-recintos&#34;
                         regions-domain=&#34;https://analisis.datosabiertos.jcyl.es&#34;&gt;
        &lt;span ods-analysis=&#34;byDate&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-max=&#34;0&#34; ods-analysis-x=&#34;fecha&#34; ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34; ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34; ods-analysis-serie-altas=&#34;SUM(altas)&#34;
              ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34; ods-analysis-sort=&#34;fecha&#34;&gt;
        &lt;/span&gt;
        {{ nbRecords = byDate.results.length - 1; &#34;&#34; }}
        &lt;!-- This code will refine results for latest date present in the datafield. The data on a given date must then already have the cumulative total at a given day avalaible.
      If you only have daily increments, you need one more context that is not refined by the last date, on which you do the ODS analysis with SUM --&gt;
        &lt;span ods-results=&#34;list&#34; ods-results-context=&#34;cases&#34; ods-results-max=&#34;-1&#34; ods-results-sort=&#34;fecha&#34;&gt;
            {{ lastDate = list[list.length-1].fields.fecha; &#34;&#34; }}
            {{ cases.parameters[&#39;refine.fecha&#39;] = lastDate;&#34;&#34;}}
        &lt;/span&gt;
        &lt;span ods-analysis=&#34;byPostcode&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-max=&#34;0&#34; ods-analysis-x-provincia=&#34;provincia&#34; ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34; ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34; ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34; ods-analysis-serie-codigos=&#34;SUM(codigo_ine)&#34; ods-analysis-sort=&#34;-codigos&#34;&gt;
        &lt;/span&gt;
        &lt;span ods-analysis=&#34;byRegion&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-x=&#34;provincia&#34; ods-analysis-max=&#34;0&#34; ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34; ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34; ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34; ods-analysis-sort=&#34;confirmados&#34;&gt;
        &lt;/span&gt;

        &lt;!-- These are a few examples key figures you may want to put. You can add as many as you want, they will warp to multiple lines if you have a lot (but consider not putting too many) --&gt;
        &lt;section&gt;
            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].confirmados }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Cases&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].nuevos }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;New-cases today&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].altas }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Recovered&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].fallecimientos }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Deaths&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;
        &lt;p ods-resluts=&#34;items&#34; ods-results-context=&#34;cases&#34; ods-results-max=&#34;0&#34;&gt;{{ items }}&lt;/p&gt;
        &lt;!-- The example shows two tabs, you may add as many as you want for deaths etc. (but we strongly recommend not adding too many)
    The subagregation here is only needed for colors--&gt;
        &lt;section&gt;
            &lt;div class=&#34;row feature-box&#34; ng-init=&#34;tabselector = &#39;firsttab&#39;&#34;&gt;
                &lt;div class=&#34;col-xs-12&#34;&gt;
                    &lt;div class=&#34;tabs&#34;&gt;
                        &lt;a class=&#34;tab&#34; ng-click=&#34;tabselector = &#39;firsttab&#39;&#34; ng-class=&#34;{&#39;activetab&#39; : tabselector == &#39;firsttab&#39;}&#34;&gt;
                            Total cases
                        &lt;/a&gt;
                        &lt;a class=&#34;tab&#34; ng-click=&#34;tabselector = &#39;secondtab&#39;&#34; ng-class=&#34;{&#39;activetab&#39; : tabselector == &#39;secondtab&#39;}&#34;&gt;
                            New cases today
                        &lt;/a&gt;
                    &lt;/div&gt;
                    &lt;div class=&#34;col-xs-12&#34; ng-if=&#34;tabselector == &#39;firsttab&#39;&#34;&gt;
                        &lt;div ng-init=&#34;colors = {};&#34;&gt;
                            &lt;!-- Put serie you want to color regions with in &#34;maxval/minval&#34; res.&#34;nameofserie&#34;. Replace res.codigos with your ZIP code field name --&gt;
                            &lt;div ods-subaggregation=&#34;byPostcode.results&#34; ods-subaggregation-serie-maxval=&#34;MAX(confirmados)&#34; ods-subaggregation-serie-minval=&#34;MIN(confirmados)&#34;&gt;
                                &lt;span ng-repeat=&#34;res in byPostcode.results&#34;&gt;
                                    &lt;!-- This is a little trick to have 5 digit ZIP code match 2 digit region code --&gt;
                                    {{reg_code = res.codigos &gt; 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); &#34;&#34;}}
                                    {{colors[reg_code] = &#34;hsl(220,75%,&#34; &#43; (75 - ((res.confirmados - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; &#34;%,1)&#34;; &#34;&#34; }}
                                &lt;/span&gt;
                            &lt;/div&gt;
                            &lt;ods-map basemap=&#34;jawg.light&#34; no-refit=&#34;false&#34; scroll-wheel-zoom=&#34;false&#34; display-control=&#34;false&#34; toolbar-drawing=&#34;false&#34;&gt;
                                &lt;!-- Put the serie you want as numbers on the map in &#34;expresion&#34; --&gt;
                                &lt;ods-map-layer context=&#34;cases&#34; color=&#34;#142e7b&#34; picto=&#34;ods-circle&#34; display=&#34;clusters&#34; function=&#34;SUM&#34; expression=&#34;casos_confirmados&#34; shape-opacity=&#34;0.5&#34; point-opacity=&#34;1&#34; caption=&#34;false&#34;
                                               title=&#34;Epidimioliogic satutus in Castilla dy Leon&#34; size-min=&#34;3&#34; size-max=&#34;5&#34; size-function=&#34;linear&#34;&gt;&lt;/ods-map-layer&gt;
                                &lt;ods-map-layer context=&#34;regions&#34; color-categories=&#34;colors&#34; color-by-field=&#34;cod_ine_prov&#34; color-categories-other=&#34;lightgrey&#34; display=&#34;categories&#34; shape-opacity=&#34;0.7&#34; tooltip-disabled=&#34;true&#34;&gt;&lt;/ods-map-layer&gt;
                            &lt;/ods-map&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class=&#34;col-xs-12&#34; ng-if=&#34;tabselector == &#39;secondtab&#39;&#34;&gt;
                        &lt;div ng-init=&#34;colors = {};&#34;&gt;
                            &lt;!-- Put serie you want to color regions with in maxval/min --&gt;
                            &lt;div ods-subaggregation=&#34;byPostcode.results&#34; ods-subaggregation-serie-maxval=&#34;MAX(nuevos)&#34; ods-subaggregation-serie-minval=&#34;MIN(nuevos)&#34;&gt;
                                &lt;span ng-repeat=&#34;res in byPostcode.results&#34;&gt;
                                    {{reg_code = res.codigos &gt; 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); &#34;&#34;}}
                                    {{colors[reg_code] = &#34;hsl(220,75%,&#34; &#43; (75 - ((res.nuevos - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; &#34;%,1)&#34;; &#34;&#34; }}
                                &lt;/span&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;ods-map basemap=&#34;jawg.light&#34; no-refit=&#34;false&#34; scroll-wheel-zoom=&#34;false&#34; display-control=&#34;false&#34; toolbar-drawing=&#34;false&#34;&gt;
                            &lt;ods-map-layer context=&#34;cases&#34; color=&#34;#142e7b&#34; picto=&#34;ods-circle&#34; display=&#34;clusters&#34; function=&#34;SUM&#34; expression=&#34;nuevos_positivos&#34; shape-opacity=&#34;0.5&#34; point-opacity=&#34;1&#34; caption=&#34;false&#34; title=&#34;Epidimioliogic satutus in Castilla dy Leon&#34;
                                           size-min=&#34;3&#34; size-max=&#34;5&#34; size-function=&#34;linear&#34;&gt;&lt;/ods-map-layer&gt;
                            &lt;ods-map-layer context=&#34;regions&#34; color-categories=&#34;colors&#34; color-by-field=&#34;cod_ine_prov&#34; color-categories-other=&#34;lightgrey&#34; display=&#34;categories&#34; shape-opacity=&#34;0.7&#34; tooltip-disabled=&#34;true&#34;&gt;&lt;/ods-map-layer&gt;
                        &lt;/ods-map&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;

        &lt;section&gt;
            &lt;!-- Row of this section a selectable, to stack by filtering the &#34;selected&#34; context. That is why we use the same context twice (otherwise the map and KPIs would also be filtered) --&gt;
            &lt;div class=&#34;row feature-box&#34;&gt;
                &lt;div class=&#34;col-xs-12&#34; title=&#34;Click on a row to add it to the charts below&#34;&gt;
                    &lt;table class=&#34;summary-table&#34;&gt;
                        &lt;thead&gt;
                        &lt;!-- Replace with your own headings. You may add more fields. --&gt;
                        &lt;th&gt;Region&lt;/th&gt;
                        &lt;th&gt;Confirmed&lt;/th&gt;
                        &lt;th&gt;Recovered&lt;/th&gt;
                        &lt;th&gt;Deaths&lt;/th&gt;
                        &lt;/thead&gt;
                        &lt;tbody&gt;
                        &lt;tr ng-repeat=&#34;region in byRegion.results&#34; ng-class=&#34;{&#39;toggled&#39;: toggled}&#34;&gt;
                            &lt;td&gt;
                                &lt;div&gt;
                                    &lt;!-- The custom checkbox is made by using the label and hiding the checkbox. Regular checkboxes will work perfectly as wall (but cannot be styled) --&gt;
                                    &lt;input id=&#34;{{ region.x }}&#34; type=&#34;checkbox&#34; class=&#34;hidden-checkbox&#34; ods-toggle-model=&#34;$parent.selected.parameters&#34; ods-toggle-key=&#34;refine.provincia&#34; ods-toggle-value=&#34;{{ region.x }}&#34; /&gt;
                                    &lt;label for=&#34;{{ region.x }}&#34; class=&#34;fake-checkbox&#34; ng-click=&#34;toggled = !toggled&#34;&gt;&lt;/label&gt;
                                    {{ region.x }}
                                &lt;/div&gt;
                            &lt;/td&gt;
                            &lt;!-- Replace with corresponding data fields --&gt;
                            &lt;td&gt;{{ region.confirmados }}&lt;/td&gt;
                            &lt;td&gt;{{ region.altas }}&lt;/td&gt;
                            &lt;td&gt;{{ region.fallecimientos }}&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
                &lt;!-- Those charts will react to selected rows. Only change the expression-y. --&gt;
                &lt;div class=&#34;col-md-6&#34;&gt;
                    &lt;h4 class=&#34;text-primary text-center&#34;&gt;Evolution&lt;/h4&gt;
                    &lt;ods-chart timescale=&#34;year&#34; single-y-axis=&#34;true&#34; scientific-display=&#34;false&#34; align-month=&#34;true&#34;&gt;
                        &lt;ods-chart-query context=&#34;selected&#34; field-x=&#34;fecha&#34; maxpoints=&#34;0&#34; timescale=&#34;day&#34;&gt;
                            &lt;ods-chart-serie expression-y=&#34;casos_confirmados&#34; chart-type=&#34;spline&#34; function-y=&#34;SUM&#34; label-y=&#34;Confirmed cases&#34; color=&#34;#00c7b1&#34; scientific-display=&#34;true&#34; display-values=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                            &lt;ods-chart-serie expression-y=&#34;fallecimientos&#34; chart-type=&#34;line&#34; function-y=&#34;SUM&#34; label-y=&#34;Deceased&#34; color=&#34;#fc8d62&#34; scientific-display=&#34;true&#34; display-values=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                        &lt;/ods-chart-query&gt;
                    &lt;/ods-chart&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-6&#34;&gt;
                    &lt;h4 class=&#34;text-primary text-center&#34;&gt;Daily Increment&lt;/h4&gt;
                    &lt;ods-chart timescale=&#34;year&#34; align-month=&#34;true&#34;&gt;
                        &lt;ods-chart-query context=&#34;selected&#34; field-x=&#34;fecha&#34; maxpoints=&#34;0&#34; timescale=&#34;day&#34;&gt;
                            &lt;ods-chart-serie expression-y=&#34;nuevos_positivos&#34; chart-type=&#34;column&#34; function-y=&#34;SUM&#34; label-y=&#34;New positives&#34; color=&#34;#00c7b1&#34; display-values=&#34;true&#34; display-stack-values=&#34;false&#34; scientific-display=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                        &lt;/ods-chart-query&gt;
                    &lt;/ods-chart&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;
    &lt;/ods-dataset-context&gt;
&lt;/div&gt;


        </div>
        <style type='text/css'>
            /* General settings */
body {
    background-color: #f6f8fb;
}

.feature-box {
    margin: 21px 0px;
    padding: 13px;
    background: white;
    border-radius: 4px;
    background-color: #ffffff;
    background-size: cover;
    box-shadow: 0 1px 3px rgba(0,0,0,0.13);
}
/* Table design */
.summary-table {
    table-layout: fixed;
    white-space: nowrap;
    width: 100%;
    margin-bottom: 21px;
}

.summary-table thead {
    background: #f6f8fb;
    color: #142e7b;
}

.summary-table td,
th {
    padding: 1rem;
}

.summary-table td {
    border-top: 1px solid;
    border-color: #dee5ef;
}

.summary-table tr:hover {
    background: #f6f8fb;
}

.summary-table .toggled {
    background: #f6f8fb;
}

.hidden-checkbox {
    visibility: hidden;
}

.fake-checkbox {
    width: 21px;
    height: 21px;
    background: white;
    border: 1px solid #142e7b;
    border-radius: 4px;
    font-weight: normal;
}

.fake-checkbox:after {
    content: &#34;\f00c&#34;;
    opacity: 0;
    font-family: FontAwesome;
    color: #142e7b;
    margin-left: 3px;
}

.hidden-checkbox:checked ~ .fake-checkbox:after {
    content: &#34;\f00c&#34;;
    opacity: 1;
    font-family: FontAwesome;
    color: #142e7b;
    margin-left: 3px;
}

/* cards */
.insight-card {
    margin: 13px;
    border: 1px dotted #142e7b;
    border-radius: 4px;
    color: #565656;
    text-decoration: rgb(86, 86, 86);
    box-shadow: 0px 0px 0px rgba(0,0,0,0);
    text-align: center;
    padding: 21px;
    height: 100%;
}

.insight-figure {
    font-size: 34px;
}
/* tabs */
.tabs {
    margin: 1em;
    /* Adds lots of space around the tabs, to avoid the border to fall into the tab content area */
}

.tab {
    padding: 10px 20px;
    /* Gives some space to tab titles */
    color: gray;
    /* Colors the text in gray */
}
/* Only visible when the mouse is on a tab title */
.tab:hover {
    color: black;
    /* Colors the text in black to highlight the possible selection */
    text-decoration: none;
    /* Removes the hyperlink underline style */
}

.activetab {
    color: black;
    /* Colors the text in black */
    border-bottom: 3px solid #2d2d2d;
    /* Underlines the text with a bold dark border */
}

/* Utilities */
.mb-4 {
    margin-bottom: 55px;
}

.text-primary {
    color: #142e7b;
}

.text-highlight {
    color: #00c7b1;
}

.text-center {
    text-align: center;
}

.text-light {
    color: #898D92;
}

.justify-content-left {
    display: flex;
    justify-content: flex-start;
}

        </style>
        </body>
        ">
      </iframe>
    </section>

    <section class="box box-code js-tabs">
        <nav class="level is-flex">
            <div class="level-left">
                <div class="level-item">
                    <ul class="buttons has-addons js-tablist">
                        <li class="button is-secondary is-outlined js-tablist__item">
                            <a class="js-tablist__link"
                               href="#code-regional-covid-dashboard-html-content">
                                HTML
                            </a>
                        </li>
                        
                        <li class="button is-secondary is-outlined js-tablist__item">
                            <a class="js-tablist__link"
                               href="#code-regional-covid-dashboard-css-content">
                                CSS
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </div>
            <div class="level-right mt-0">
                <a class="button is-secondary is-outlined edit-on-codepen has-tooltip-left"
                   data-tooltip="Edit on CodePen"
                   target="_blank"
                   aria-role="link"
                   rel="noopener"
                   title="Edit on CodePen, open a new tab"
                   onclick="document.getElementById('form-regional-covid-dashboard').submit()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-edit">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                </a>
            </div>
        </nav>

        <div class="tab-content">
            <div class="js-tabcontent"
                 id="code-regional-covid-dashboard-html-content">
                <div class="highlight">
                    <pre class="language-html" data-lang="html"><code>&lt;div class=&#34;container&#34;&gt;
    &lt;section&gt;
        &lt;h2 class=&#34;text-primary text-center mb-4&#34;&gt;
            COVID-19 epidemiologic status in Castilla y León
        &lt;/h2&gt;
    &lt;/section&gt;
    &lt;!-- The data used here are from the first dashboard of the kind on ODS made by Junta de Castilla y Leone.
    See the page here : https://analisis.datosabiertos.jcyl.es/pages/coronavirus/
    See the data here : https://analisis.datosabiertos.jcyl.es/explore/dataset/situacion-epidemiologica-coronavirus-en-castilla-y-leon/table/?disjunctive.provincia&amp;dataChart=eyJxdWVyaWVzIjpbeyJjaGFydHMiOlt7InR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJjYXNvc19jb25maXJtYWRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiM2NmMyYTUifSx7ImFsaWduTW9udGgiOnRydWUsInR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJmYWxsZWNpbWllbnRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiNmYzhkNjIifV0sInhBeGlzIjoiZmVjaGEiLCJtYXhwb2ludHMiOiIiLCJ0aW1lc2NhbGUiOiJkYXkiLCJzb3J0IjoiIiwiY29uZmlnIjp7ImRhdGFzZXQiOiJzaXR1YWNpb24tZXBpZGVtaW9sb2dpY2EtY29yb25hdmlydXMtZW4tY2FzdGlsbGEteS1sZW9uIiwib3B0aW9ucyI6eyJkaXNqdW5jdGl2ZS5wcm92aW5jaWEiOnRydWV9fX1dLCJkaXNwbGF5TGVnZW5kIjp0cnVlLCJhbGlnbk1vbnRoIjp0cnVlLCJ0aW1lc2NhbGUiOiIiLCJzaW5nbGVBeGlzIjp0cnVlfQ%3D%3D&amp;location=8,41.64954,-4.33333&amp;basemap=jawg.streets --&gt;
    &lt;ods-dataset-context context=&#34;regions, cases, selected&#34; cases-domain=&#34;jcyl&#34; cases-dataset=&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon&#34; selected-domain=&#34;jcyl&#34;
                         selected-dataset=&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon&#34; selected-parameters=&#34;{&#39;disjunctive.provincia&#39;:true}&#34; regions-dataset=&#34;limites-provinciales-de-castilla-y-leon-recintos&#34;
                         regions-domain=&#34;https://analisis.datosabiertos.jcyl.es&#34;&gt;
        &lt;span ods-analysis=&#34;byDate&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-max=&#34;0&#34; ods-analysis-x=&#34;fecha&#34; ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34; ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34; ods-analysis-serie-altas=&#34;SUM(altas)&#34;
              ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34; ods-analysis-sort=&#34;fecha&#34;&gt;
        &lt;/span&gt;
        {{ nbRecords = byDate.results.length - 1; &#34;&#34; }}
        &lt;!-- This code will refine results for latest date present in the datafield. The data on a given date must then already have the cumulative total at a given day avalaible.
      If you only have daily increments, you need one more context that is not refined by the last date, on which you do the ODS analysis with SUM --&gt;
        &lt;span ods-results=&#34;list&#34; ods-results-context=&#34;cases&#34; ods-results-max=&#34;-1&#34; ods-results-sort=&#34;fecha&#34;&gt;
            {{ lastDate = list[list.length-1].fields.fecha; &#34;&#34; }}
            {{ cases.parameters[&#39;refine.fecha&#39;] = lastDate;&#34;&#34;}}
        &lt;/span&gt;
        &lt;span ods-analysis=&#34;byPostcode&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-max=&#34;0&#34; ods-analysis-x-provincia=&#34;provincia&#34; ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34; ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34; ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34; ods-analysis-serie-codigos=&#34;SUM(codigo_ine)&#34; ods-analysis-sort=&#34;-codigos&#34;&gt;
        &lt;/span&gt;
        &lt;span ods-analysis=&#34;byRegion&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-x=&#34;provincia&#34; ods-analysis-max=&#34;0&#34; ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34; ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34; ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34; ods-analysis-sort=&#34;confirmados&#34;&gt;
        &lt;/span&gt;

        &lt;!-- These are a few examples key figures you may want to put. You can add as many as you want, they will warp to multiple lines if you have a lot (but consider not putting too many) --&gt;
        &lt;section&gt;
            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].confirmados }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Cases&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].nuevos }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;New-cases today&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].altas }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Recovered&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].fallecimientos }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Deaths&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;
        &lt;p ods-resluts=&#34;items&#34; ods-results-context=&#34;cases&#34; ods-results-max=&#34;0&#34;&gt;{{ items }}&lt;/p&gt;
        &lt;!-- The example shows two tabs, you may add as many as you want for deaths etc. (but we strongly recommend not adding too many)
    The subagregation here is only needed for colors--&gt;
        &lt;section&gt;
            &lt;div class=&#34;row feature-box&#34; ng-init=&#34;tabselector = &#39;firsttab&#39;&#34;&gt;
                &lt;div class=&#34;col-xs-12&#34;&gt;
                    &lt;div class=&#34;tabs&#34;&gt;
                        &lt;a class=&#34;tab&#34; ng-click=&#34;tabselector = &#39;firsttab&#39;&#34; ng-class=&#34;{&#39;activetab&#39; : tabselector == &#39;firsttab&#39;}&#34;&gt;
                            Total cases
                        &lt;/a&gt;
                        &lt;a class=&#34;tab&#34; ng-click=&#34;tabselector = &#39;secondtab&#39;&#34; ng-class=&#34;{&#39;activetab&#39; : tabselector == &#39;secondtab&#39;}&#34;&gt;
                            New cases today
                        &lt;/a&gt;
                    &lt;/div&gt;
                    &lt;div class=&#34;col-xs-12&#34; ng-if=&#34;tabselector == &#39;firsttab&#39;&#34;&gt;
                        &lt;div ng-init=&#34;colors = {};&#34;&gt;
                            &lt;!-- Put serie you want to color regions with in &#34;maxval/minval&#34; res.&#34;nameofserie&#34;. Replace res.codigos with your ZIP code field name --&gt;
                            &lt;div ods-subaggregation=&#34;byPostcode.results&#34; ods-subaggregation-serie-maxval=&#34;MAX(confirmados)&#34; ods-subaggregation-serie-minval=&#34;MIN(confirmados)&#34;&gt;
                                &lt;span ng-repeat=&#34;res in byPostcode.results&#34;&gt;
                                    &lt;!-- This is a little trick to have 5 digit ZIP code match 2 digit region code --&gt;
                                    {{reg_code = res.codigos &gt; 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); &#34;&#34;}}
                                    {{colors[reg_code] = &#34;hsl(220,75%,&#34; &#43; (75 - ((res.confirmados - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; &#34;%,1)&#34;; &#34;&#34; }}
                                &lt;/span&gt;
                            &lt;/div&gt;
                            &lt;ods-map basemap=&#34;jawg.light&#34; no-refit=&#34;false&#34; scroll-wheel-zoom=&#34;false&#34; display-control=&#34;false&#34; toolbar-drawing=&#34;false&#34;&gt;
                                &lt;!-- Put the serie you want as numbers on the map in &#34;expresion&#34; --&gt;
                                &lt;ods-map-layer context=&#34;cases&#34; color=&#34;#142e7b&#34; picto=&#34;ods-circle&#34; display=&#34;clusters&#34; function=&#34;SUM&#34; expression=&#34;casos_confirmados&#34; shape-opacity=&#34;0.5&#34; point-opacity=&#34;1&#34; caption=&#34;false&#34;
                                               title=&#34;Epidimioliogic satutus in Castilla dy Leon&#34; size-min=&#34;3&#34; size-max=&#34;5&#34; size-function=&#34;linear&#34;&gt;&lt;/ods-map-layer&gt;
                                &lt;ods-map-layer context=&#34;regions&#34; color-categories=&#34;colors&#34; color-by-field=&#34;cod_ine_prov&#34; color-categories-other=&#34;lightgrey&#34; display=&#34;categories&#34; shape-opacity=&#34;0.7&#34; tooltip-disabled=&#34;true&#34;&gt;&lt;/ods-map-layer&gt;
                            &lt;/ods-map&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class=&#34;col-xs-12&#34; ng-if=&#34;tabselector == &#39;secondtab&#39;&#34;&gt;
                        &lt;div ng-init=&#34;colors = {};&#34;&gt;
                            &lt;!-- Put serie you want to color regions with in maxval/min --&gt;
                            &lt;div ods-subaggregation=&#34;byPostcode.results&#34; ods-subaggregation-serie-maxval=&#34;MAX(nuevos)&#34; ods-subaggregation-serie-minval=&#34;MIN(nuevos)&#34;&gt;
                                &lt;span ng-repeat=&#34;res in byPostcode.results&#34;&gt;
                                    {{reg_code = res.codigos &gt; 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); &#34;&#34;}}
                                    {{colors[reg_code] = &#34;hsl(220,75%,&#34; &#43; (75 - ((res.nuevos - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; &#34;%,1)&#34;; &#34;&#34; }}
                                &lt;/span&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;ods-map basemap=&#34;jawg.light&#34; no-refit=&#34;false&#34; scroll-wheel-zoom=&#34;false&#34; display-control=&#34;false&#34; toolbar-drawing=&#34;false&#34;&gt;
                            &lt;ods-map-layer context=&#34;cases&#34; color=&#34;#142e7b&#34; picto=&#34;ods-circle&#34; display=&#34;clusters&#34; function=&#34;SUM&#34; expression=&#34;nuevos_positivos&#34; shape-opacity=&#34;0.5&#34; point-opacity=&#34;1&#34; caption=&#34;false&#34; title=&#34;Epidimioliogic satutus in Castilla dy Leon&#34;
                                           size-min=&#34;3&#34; size-max=&#34;5&#34; size-function=&#34;linear&#34;&gt;&lt;/ods-map-layer&gt;
                            &lt;ods-map-layer context=&#34;regions&#34; color-categories=&#34;colors&#34; color-by-field=&#34;cod_ine_prov&#34; color-categories-other=&#34;lightgrey&#34; display=&#34;categories&#34; shape-opacity=&#34;0.7&#34; tooltip-disabled=&#34;true&#34;&gt;&lt;/ods-map-layer&gt;
                        &lt;/ods-map&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;

        &lt;section&gt;
            &lt;!-- Row of this section a selectable, to stack by filtering the &#34;selected&#34; context. That is why we use the same context twice (otherwise the map and KPIs would also be filtered) --&gt;
            &lt;div class=&#34;row feature-box&#34;&gt;
                &lt;div class=&#34;col-xs-12&#34; title=&#34;Click on a row to add it to the charts below&#34;&gt;
                    &lt;table class=&#34;summary-table&#34;&gt;
                        &lt;thead&gt;
                        &lt;!-- Replace with your own headings. You may add more fields. --&gt;
                        &lt;th&gt;Region&lt;/th&gt;
                        &lt;th&gt;Confirmed&lt;/th&gt;
                        &lt;th&gt;Recovered&lt;/th&gt;
                        &lt;th&gt;Deaths&lt;/th&gt;
                        &lt;/thead&gt;
                        &lt;tbody&gt;
                        &lt;tr ng-repeat=&#34;region in byRegion.results&#34; ng-class=&#34;{&#39;toggled&#39;: toggled}&#34;&gt;
                            &lt;td&gt;
                                &lt;div&gt;
                                    &lt;!-- The custom checkbox is made by using the label and hiding the checkbox. Regular checkboxes will work perfectly as wall (but cannot be styled) --&gt;
                                    &lt;input id=&#34;{{ region.x }}&#34; type=&#34;checkbox&#34; class=&#34;hidden-checkbox&#34; ods-toggle-model=&#34;$parent.selected.parameters&#34; ods-toggle-key=&#34;refine.provincia&#34; ods-toggle-value=&#34;{{ region.x }}&#34; /&gt;
                                    &lt;label for=&#34;{{ region.x }}&#34; class=&#34;fake-checkbox&#34; ng-click=&#34;toggled = !toggled&#34;&gt;&lt;/label&gt;
                                    {{ region.x }}
                                &lt;/div&gt;
                            &lt;/td&gt;
                            &lt;!-- Replace with corresponding data fields --&gt;
                            &lt;td&gt;{{ region.confirmados }}&lt;/td&gt;
                            &lt;td&gt;{{ region.altas }}&lt;/td&gt;
                            &lt;td&gt;{{ region.fallecimientos }}&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
                &lt;!-- Those charts will react to selected rows. Only change the expression-y. --&gt;
                &lt;div class=&#34;col-md-6&#34;&gt;
                    &lt;h4 class=&#34;text-primary text-center&#34;&gt;Evolution&lt;/h4&gt;
                    &lt;ods-chart timescale=&#34;year&#34; single-y-axis=&#34;true&#34; scientific-display=&#34;false&#34; align-month=&#34;true&#34;&gt;
                        &lt;ods-chart-query context=&#34;selected&#34; field-x=&#34;fecha&#34; maxpoints=&#34;0&#34; timescale=&#34;day&#34;&gt;
                            &lt;ods-chart-serie expression-y=&#34;casos_confirmados&#34; chart-type=&#34;spline&#34; function-y=&#34;SUM&#34; label-y=&#34;Confirmed cases&#34; color=&#34;#00c7b1&#34; scientific-display=&#34;true&#34; display-values=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                            &lt;ods-chart-serie expression-y=&#34;fallecimientos&#34; chart-type=&#34;line&#34; function-y=&#34;SUM&#34; label-y=&#34;Deceased&#34; color=&#34;#fc8d62&#34; scientific-display=&#34;true&#34; display-values=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                        &lt;/ods-chart-query&gt;
                    &lt;/ods-chart&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-6&#34;&gt;
                    &lt;h4 class=&#34;text-primary text-center&#34;&gt;Daily Increment&lt;/h4&gt;
                    &lt;ods-chart timescale=&#34;year&#34; align-month=&#34;true&#34;&gt;
                        &lt;ods-chart-query context=&#34;selected&#34; field-x=&#34;fecha&#34; maxpoints=&#34;0&#34; timescale=&#34;day&#34;&gt;
                            &lt;ods-chart-serie expression-y=&#34;nuevos_positivos&#34; chart-type=&#34;column&#34; function-y=&#34;SUM&#34; label-y=&#34;New positives&#34; color=&#34;#00c7b1&#34; display-values=&#34;true&#34; display-stack-values=&#34;false&#34; scientific-display=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                        &lt;/ods-chart-query&gt;
                    &lt;/ods-chart&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;
    &lt;/ods-dataset-context&gt;
&lt;/div&gt;

</code></pre>
                </div>
            </div>
            
            <div class="js-tabcontent"
                 id="code-regional-covid-dashboard-css-content">
                <div class="highlight">
                    <pre class="language-css" data-lang="css"><code>/* General settings */
body {
    background-color: #f6f8fb;
}

.feature-box {
    margin: 21px 0px;
    padding: 13px;
    background: white;
    border-radius: 4px;
    background-color: #ffffff;
    background-size: cover;
    box-shadow: 0 1px 3px rgba(0,0,0,0.13);
}
/* Table design */
.summary-table {
    table-layout: fixed;
    white-space: nowrap;
    width: 100%;
    margin-bottom: 21px;
}

.summary-table thead {
    background: #f6f8fb;
    color: #142e7b;
}

.summary-table td,
th {
    padding: 1rem;
}

.summary-table td {
    border-top: 1px solid;
    border-color: #dee5ef;
}

.summary-table tr:hover {
    background: #f6f8fb;
}

.summary-table .toggled {
    background: #f6f8fb;
}

.hidden-checkbox {
    visibility: hidden;
}

.fake-checkbox {
    width: 21px;
    height: 21px;
    background: white;
    border: 1px solid #142e7b;
    border-radius: 4px;
    font-weight: normal;
}

.fake-checkbox:after {
    content: &#34;\f00c&#34;;
    opacity: 0;
    font-family: FontAwesome;
    color: #142e7b;
    margin-left: 3px;
}

.hidden-checkbox:checked ~ .fake-checkbox:after {
    content: &#34;\f00c&#34;;
    opacity: 1;
    font-family: FontAwesome;
    color: #142e7b;
    margin-left: 3px;
}

/* cards */
.insight-card {
    margin: 13px;
    border: 1px dotted #142e7b;
    border-radius: 4px;
    color: #565656;
    text-decoration: rgb(86, 86, 86);
    box-shadow: 0px 0px 0px rgba(0,0,0,0);
    text-align: center;
    padding: 21px;
    height: 100%;
}

.insight-figure {
    font-size: 34px;
}
/* tabs */
.tabs {
    margin: 1em;
    /* Adds lots of space around the tabs, to avoid the border to fall into the tab content area */
}

.tab {
    padding: 10px 20px;
    /* Gives some space to tab titles */
    color: gray;
    /* Colors the text in gray */
}
/* Only visible when the mouse is on a tab title */
.tab:hover {
    color: black;
    /* Colors the text in black to highlight the possible selection */
    text-decoration: none;
    /* Removes the hyperlink underline style */
}

.activetab {
    color: black;
    /* Colors the text in black */
    border-bottom: 3px solid #2d2d2d;
    /* Underlines the text with a bold dark border */
}

/* Utilities */
.mb-4 {
    margin-bottom: 55px;
}

.text-primary {
    color: #142e7b;
}

.text-highlight {
    color: #00c7b1;
}

.text-center {
    text-align: center;
}

.text-light {
    color: #898D92;
}

.justify-content-left {
    display: flex;
    justify-content: flex-start;
}
</code></pre>
                </div>
            </div>
            
        </div>
    </section>
</div>

<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {
        var loopId = setInterval(() => {
            iframeId = "iframe-regional-covid-dashboard";
            iframe = document.getElementById(iframeId);
             
            size =  null 
             
            if (iframe != undefined && iframe.contentWindow.document.body != undefined){
                scrollHeight = parseInt(iframe.contentWindow.document.body.scrollHeight);
                if (iframe.height == size) {
                    clearInterval(loopId);
                } else {
                    iframe.height = size > 1 ? size : scrollHeight;
                }
            }
        }, 1000);
    });
</script>


<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {
        var loopId = setInterval(() => {
            iframeId = "iframe-regional-covid-dashboard";
            iframe = document.getElementById(iframeId);

            if (iframe != undefined && iframe.contentWindow.document.body != undefined){
                scrollHeight = parseInt(iframe.contentWindow.document.body.scrollHeight);
            }
        }, 1000);
    });
</script>

      </div>
    </div>
    
  </section>

    </div>
</div>

<footer class="footer">
    <a href="https://www.opendatasoft.com"
       class="footer-link"
       title="Opendatasoft website">
        <img src="/img/ods-logo.svg"
             class="footer-logo"
             alt="Opendatasoft logo"
        />
    </a>
    <span class="footer-copyright">
        &copy; Copyright 2020
    </span>
</footer>







<script>var process = { "env": { "NODE_ENV": "production" } }</script>
<script type="text/javascript"
        src="/index.min.b578de44f698a91563b90f2ecc0c28035f0c107283d051402d98d66d154bc072.js"
        defer></script>

</body>
</html>
