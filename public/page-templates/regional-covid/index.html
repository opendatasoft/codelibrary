<!DOCTYPE html>
<html class="has-navbar-fixed-top">
  <head>
    <meta charset="utf-8" />
    <title>
       Regional COVID-19 Dashboard &ndash; Codelibrary 
    </title>

    
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-41201218-21"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-41201218-21");
    </script>

    
    

    
    
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/instantsearch.css@7.3.1/themes/algolia-min.css"
      integrity="sha256-HB49n/BZjuqiCtQQf49OdZn63XuKFaxcIHWf0HNKte8="
      crossorigin="anonymous"
    />

    
    <link rel="stylesheet" type="text/css" href="/scss/main.css" />
    
    
    <link rel="shortcut icon" href="/ods-favicon.ico" />
  </head>

  <body>
    <div class="is-hidden">
      <svg>
  <defs>
    <g id="link-2">
      <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
      <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
    </g>

    <g id="check">
      <polyline points="20 6 9 17 4 12"></polyline>
    </g>

    <g id="copy">
      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
    </g>

    <g id="external">
      <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
      <polyline points="15 3 21 3 21 9"></polyline>
      <line x1="10" y1="14" x2="21" y2="3"></line>
    </g>

  </defs>
</svg>

    </div>

    <nav class="ods-header navbar is-fixed-top"
     role="navigation"
     aria-label="Main navigation">

   <button type="button"
           class="menu-button navbar-burger burger"
           id="nav-button"
           data-target="sidebarNavbar"
           aria-controls="sidebarNavbar"
           aria-expanded="false"
           aria-label="Main menu">
        <img class="ods-header__menu-toggle__openlogo" src="/img/menu-fill.svg" alt="Open documentation menu">
    </button>

    <a class="ods-header-logo ods-header-logo-link"
       href="https://help.opendatasoft.com/">
        <img src="/img/ods-logo-noir.svg" alt="Opendatasoft logo">
        <span class="ods-header__brandname">
           Help Center
        </span>
    </a>

    <div class="ods-header__nav">
        <a class="ods-header__nav-item-link"
           href="https://userguide.opendatasoft.com/">
            User guide
        </a>
        <a class="ods-header__nav-item-link"
           href="https://academy.opendatasoft.com/page/homepage">
            Academy
        </a>
        <a class="ods-header__nav-item-link is-active"
           href="https://codelibrary.opendatasoft.com">
            Code Library
        </a>
        <a class="ods-header__nav-item-link"
           href="https://help.opendatasoft.com/widgets/">
            Widgets
        </a>
        <a class="ods-header__nav-item-link"
           href="https://help.opendatasoft.com/en/apis/">
            APIs
        </a>
        <a class="ods-header__nav-item-link"
           href="https://changes.opendatasoft.com/en">
            Release Notes
        </a>
    </div>
    <button type="button"
            class="menu-button navbar-burger burger"
            id="nav-button"
            data-target="helphubNavbar"
            aria-controls="helphubNavbar"
            aria-expanded="false"
            aria-label="Main menu">
        <img class="ods-header__menu-toggle__openlogo" src="/img/apps-custo.svg" alt="Open documentation menu">
    </button>
    <div class="navbar-menu" id="helphubNavbar">
        <a class="ods-header__nav-item-link"
           href="https://userguide.opendatasoft.com/">
            User guide
        </a>
        <a class="ods-header__nav-item-link"
           href="https://academy.opendatasoft.com/page/homepage">
            Academy
        </a>
        <a class="ods-header__nav-item-link is-active"
           href="https://codelibrary.opendatasoft.com">
            Code Library
        </a>
        <a class="ods-header__nav-item-link"
           href="https://help.opendatasoft.com/widgets/">
            Widgets
        </a>
        <a class="ods-header__nav-item-link"
           href="https://help.opendatasoft.com/en/apis/">
            APIs
        </a>
        <a class="ods-header__nav-item-link"
           href="https://changes.opendatasoft.com/en">
            Release Notes
        </a>
    </div>
</nav>


    <div class="columns is-desktop codelibrary mb-0">
      <div class="column is-narrow pb-0">
        <div class="sidebar-search is-hidden-touch">
  <div class="block search-wrapper">
    <div id="algolia-box"></div>
    <div class="search-results-wrapper">
      <div id="algolia-results"></div>
    </div>
  </div>
</div>
<aside class="sidebar"
       id="sidebarNavbar">
  
  <div class="sidebar-header">
    <div class="block">
      <ul class="menu-list">
        <p class="menu-label">On this page</p>
        <li>
          <a href="#">
            Top
          </a>
        </li>
        
        <li>
          <a href="#regional-covid-dashboard">
            Regional covid dashboard
          </a>
        </li>
        
      </ul>
    </div>
  </div>
  
  <div class="sidebar-body">
    
    
    <ul class="menu-list">
      <li>
        <a class="sidebar-subtitle"
          href="https://codelibrary.opendatasoft.com">
          Home
        </a>
      </li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li>
        <a href="/apps/"
        class="sidebar-subtitle">
        Apps
        
      </a>
    </li>
    
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li>
        <a href="/components/"
        class="sidebar-subtitle">
        Components
        
      </a>
    </li>
    
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li>
        <a href="/custom-views/"
        class="sidebar-subtitle">
        Custom views
        
      </a>
    </li>
    
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li>
        <a href="/generators/"
        class="sidebar-subtitle">
        Generators
        
      </a>
    </li>
    
    
      
      <li>
        <a class="sidebar-subtitle " href="/page-templates/">
          Page templates
        </a>
        <ul>
          
          <li>
            <a class="" href="/page-templates/css-grid-framework/">
              <div>
                CSS Grid Framework
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/dashboard/">
              <div>
                Dashboard
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/dashboard-layouts/">
              <div>
                Dashboard layouts
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/dashboard-filter/">
              <div>
                Dashboard with filters
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/datastory/">
              <div>
                Data Story
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/dataviz-gallery/">
              <div>
                Dataviz gallery page
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/fullscreen-map/">
              <div>
                Fullscreen map with filters
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/home-1/">
              <div>
                Home page 1
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/home-2/">
              <div>
                Home page 2
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/home-3/">
              <div>
                Home page 3
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/home-4-access-cards/">
              <div>
                Home page 4 with access cards
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/listing-page/">
              <div>
                Listing page
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/map-refine/">
              <div>
                Map &amp; Refine
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/monitoring-dashboard/">
              <div>
                Monitoring Dashboard
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/observatory/">
              <div>
                Observatory
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/ods-layout-over-ride/">
              <div>
                ODS Layout over-ride
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="is-active" href="/page-templates/regional-covid/">
              <div>
                Regional COVID-19 Dashboard
                
                
              </div>
            </a>
          </li>
          
          <li>
            <a class="" href="/page-templates/timeline/">
              <div>
                Timeline
                
                
              </div>
            </a>
          </li>
          
        </ul>
      </li>
      
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li>
        <a href="/portal-themes/"
        class="sidebar-subtitle">
        Portal themes
        
      </a>
    </li>
    
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li>
        <a href="/widget-tricks/"
        class="sidebar-subtitle">
        Widget tricks
        
      </a>
    </li>
    
    
  </ul>
  <p class="menu-label">
    Tags
  </p>
  <div class="tags">
    
    <a class="tag" href="/tags/aggregation/">
      aggregation
    </a>
    
    <a class="tag" href="/tags/card/">
      card
    </a>
    
    <a class="tag" href="/tags/chart/">
      chart
    </a>
    
    <a class="tag" href="/tags/date/">
      date
    </a>
    
    <a class="tag" href="/tags/display/">
      display
    </a>
    
    <a class="tag" href="/tags/filter/">
      filter
    </a>
    
    <a class="tag" href="/tags/geo/">
      geo
    </a>
    
    <a class="tag" href="/tags/list/">
      list
    </a>
    
    <a class="tag" href="/tags/map/">
      map
    </a>
    
    <a class="tag" href="/tags/navigation/">
      navigation
    </a>
    
    <a class="tag" href="/tags/ods-adv-analysis/">
      ods-adv-analysis
    </a>
    
    <a class="tag" href="/tags/ods-aggregation/">
      ods-aggregation
    </a>
    
    <a class="tag" href="/tags/ods-analysis/">
      ods-analysis
    </a>
    
    <a class="tag" href="/tags/ods-maps/">
      ods-maps
    </a>
    
    <a class="tag" href="/tags/ods-subaggregation/">
      ods-subaggregation
    </a>
    
    <a class="tag" href="/tags/redirection/">
      redirection
    </a>
    
  </div>
</div>
</aside>

      </div>
      <div class="column codelibrary-content">
        
<section class="section resources">
    <div class="container is-max-widescreen">
        <h1 class="title is-1">Page Templates - Regional COVID-19 Dashboard</h1>
        <div class="content">
            
        </div>
        
        <article class="block">
            <h2 class="title is-2" id="regional-covid-dashboard">
                Regional covid dashboard 
                <a class="is-link anchor" href="#regional-covid-dashboard">
            <span class="icon">
              <img src="/img/fas-link.svg"/>
            </span>
                </a>
            </h2>
            <div class="content">
                <p>A dedicated dashboard for local COVID-19 data.</p>

            </div>
            
            
                <div class="box">
                    






    




    







<div class="codepen">
    <form id="form-regional-covid-dashboard"
          action="https://codepen.io/pen/define"
          method="POST"
          target="_blank">
        <input type="hidden"
               name="data"
               value='{
                 "title": "New Pen!",
                 "head": &#34;\u003clink\n  rel=\&#34;stylesheet\&#34;\n  href=\&#34;https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css\&#34;\n/\u003e\n\u003clink\n  rel=\&#34;stylesheet\&#34;\n  href=\&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\&#34;\n/\u003e\n\u003clink\n  rel=\&#34;stylesheet\&#34;\n  href=\&#34;https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.css\&#34;\n/\u003e\n\n\u003c!-- ODS Platform CSS - must be hosted on static : WIP --\u003e\n\u003clink\n  rel=\&#34;stylesheet\&#34;\n  href=\&#34;https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css\&#34;\n/\u003e\n\u003clink\n  rel=\&#34;stylesheet\&#34;\n  href=\&#34;https://codelibrary.opendatasoft.com/css/theme.css\&#34;\n/\u003e\n\n\u003cscript src=\&#34;//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;//cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.0/angular.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;//cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.8.2/angular-sanitize.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript\n  type=\&#34;text/javascript\&#34;\n  src=\&#34;https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.js\&#34;\n\u003e\u003c/script\u003e\n\n\u003cscript\n  type=\&#34;text/javascript\&#34;\n  src=\&#34;https://codelibrary.opendatasoft.com/js/platform-filters.js\&#34;\n\u003e\u003c/script\u003e\n\u003cscript\n  type=\&#34;text/javascript\&#34;\n  src=\&#34;https://codelibrary.opendatasoft.com/js/ods-catalog-card.js\&#34;\n\u003e\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34;\u003e\n  const sourceMonitoringInterceptor = $q =\u003e {\n    return {\n      request: config =\u003e {\n        console.log(config.url);\n        if (config.params)\n          if (config.params.source) delete config.params.source;\n\n        config.url = config.url.replace(\n          \&#34;ods-api-monitoring\&#34;,\n          \&#34;monitoring-copy\&#34;\n        );\n        return config;\n      }\n    };\n  };\n\n  angular\n    .module(\&#34;ods-widgets\&#34;)\n    .config(function(ODSWidgetsConfigProvider, $httpProvider) {\n      ODSWidgetsConfigProvider.setConfig({\n        defaultDomain: \&#34;https://userclub.opendatasoft.com/\&#34;,\n        basemaps: [\n          {\n            provider: \&#34;jawg.light\&#34;,\n            label: \&#34;Jawg Light\&#34;,\n            jawg_apikey: \&#34;opendatasoft-community\&#34;\n          },\n          {\n            provider: \&#34;jawg.streets\&#34;,\n            label: \&#34;Jawg Streets\&#34;,\n            jawg_apikey: \&#34;opendatasoft-community\&#34;,\n            id: \&#34;streets\&#34;\n          }\n        ],\n        themes: {\n          default: {\n            url: \&#34;/img/ods.svg\&#34;\n          },\n          Santé: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/doctors.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          \&#34;Culture, Patrimoine\&#34;: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/culture.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          \&#34;Éducation, Formation, Recherche, Enseignement\&#34;: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/college.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          Environment: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/leaf.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          \&#34;Transports, Déplacements\&#34;: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/train_station.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          \&#34;Aménagement du territoire, Urbanisme, Bâtiments, Équipements, Logement\&#34;: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/townplanning.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          \&#34;Économie, Business, PME, Développement économique, Emploi\&#34;: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/economy.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          \&#34;Administration, Gouvernement, Finances publiques, Citoyenneté\&#34;: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/administration.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          \&#34;Justice, Sécurité, Police, Crime\&#34;: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/court.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          \&#34;Sport, Loisirs\&#34;: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/soccer.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          \&#34;Hébergement, Restauration\&#34;: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/accommodation.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          \&#34;Services, Social\&#34;: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/social.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          Checklist: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/copyshop.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          },\n          Usages: {\n            url:\n              \&#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/bike.svg\&#34;,\n            color: \&#34;#1446A0\&#34;\n          }\n        },\n        mapPrependAttribution: \&#34;Jawg apikey NOT suitable for production\&#34;\n      });\n      $httpProvider.interceptors.push(sourceMonitoringInterceptor);\n    });\n\u003c/script\u003e\n&#34;,
                 "editors": 110,
                 "html": &#34;\u003cdiv ng-app=\&#34;ods-widgets\&#34;\u003e\n\u003cdiv class=\&#34;container\&#34;\u003e\n    \u003csection\u003e\n        \u003ch2 class=\&#34;text-primary text-center mb-4\&#34;\u003e\n            COVID-19 epidemiologic status in Castilla y León\n        \u003c/h2\u003e\n    \u003c/section\u003e\n    \u003c!-- The data used here are from the first dashboard of the kind on ODS made by Junta de Castilla y Leone.\n    See the page here : https://analisis.datosabiertos.jcyl.es/pages/coronavirus/\n    See the data here : https://analisis.datosabiertos.jcyl.es/explore/dataset/situacion-epidemiologica-coronavirus-en-castilla-y-leon/table/?disjunctive.provincia\u0026dataChart=eyJxdWVyaWVzIjpbeyJjaGFydHMiOlt7InR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJjYXNvc19jb25maXJtYWRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiM2NmMyYTUifSx7ImFsaWduTW9udGgiOnRydWUsInR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJmYWxsZWNpbWllbnRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiNmYzhkNjIifV0sInhBeGlzIjoiZmVjaGEiLCJtYXhwb2ludHMiOiIiLCJ0aW1lc2NhbGUiOiJkYXkiLCJzb3J0IjoiIiwiY29uZmlnIjp7ImRhdGFzZXQiOiJzaXR1YWNpb24tZXBpZGVtaW9sb2dpY2EtY29yb25hdmlydXMtZW4tY2FzdGlsbGEteS1sZW9uIiwib3B0aW9ucyI6eyJkaXNqdW5jdGl2ZS5wcm92aW5jaWEiOnRydWV9fX1dLCJkaXNwbGF5TGVnZW5kIjp0cnVlLCJhbGlnbk1vbnRoIjp0cnVlLCJ0aW1lc2NhbGUiOiIiLCJzaW5nbGVBeGlzIjp0cnVlfQ%3D%3D\u0026location=8,41.64954,-4.33333\u0026basemap=jawg.streets --\u003e\n    \u003cods-dataset-context context=\&#34;regions, cases, selected\&#34;\n                         cases-domain=\&#34;jcyl\&#34;\n                         cases-dataset=\&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon\&#34;\n                         selected-domain=\&#34;jcyl\&#34;\n                         selected-dataset=\&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon\&#34;\n                         selected-parameters=\&#34;{&#39;disjunctive.provincia&#39;:true}\&#34;\n                         regions-dataset=\&#34;limites-provinciales-de-castilla-y-leon-recintos\&#34;\n                         regions-domain=\&#34;https://analisis.datosabiertos.jcyl.es\&#34;\u003e\n        \u003cspan ods-analysis=\&#34;byDate\&#34; ods-analysis-context=\&#34;cases\&#34; ods-analysis-max=\&#34;0\&#34; ods-analysis-x=\&#34;fecha\&#34;\n              ods-analysis-serie-confirmados=\&#34;SUM(casos_confirmados)\&#34; ods-analysis-serie-nuevos=\&#34;SUM(nuevos_positivos)\&#34;\n              ods-analysis-serie-altas=\&#34;SUM(altas)\&#34;\n              ods-analysis-serie-fallecimientos=\&#34;SUM(fallecimientos)\&#34; ods-analysis-sort=\&#34;fecha\&#34;\u003e\n        \u003c/span\u003e\n        {{ nbRecords = byDate.results.length - 1; \&#34;\&#34; }}\n        \u003c!-- This code will refine results for latest date present in the datafield. The data on a given date must then already have the cumulative total at a given day avalaible.\n      If you only have daily increments, you need one more context that is not refined by the last date, on which you do the ODS analysis with SUM --\u003e\n        \u003cspan ods-results=\&#34;list\&#34; ods-results-context=\&#34;cases\&#34; ods-results-max=\&#34;-1\&#34; ods-results-sort=\&#34;fecha\&#34;\u003e\n            {{ lastDate = list[list.length-1].fields.fecha; \&#34;\&#34; }}\n            {{ cases.parameters[&#39;refine.fecha&#39;] = lastDate;\&#34;\&#34;}}\n        \u003c/span\u003e\n        \u003cspan ods-analysis=\&#34;byPostcode\&#34; ods-analysis-context=\&#34;cases\&#34; ods-analysis-max=\&#34;0\&#34;\n              ods-analysis-x-provincia=\&#34;provincia\&#34; ods-analysis-serie-confirmados=\&#34;SUM(casos_confirmados)\&#34;\n              ods-analysis-serie-nuevos=\&#34;SUM(nuevos_positivos)\&#34;\n              ods-analysis-serie-altas=\&#34;SUM(altas)\&#34; ods-analysis-serie-fallecimientos=\&#34;SUM(fallecimientos)\&#34;\n              ods-analysis-serie-codigos=\&#34;SUM(codigo_ine)\&#34; ods-analysis-sort=\&#34;-codigos\&#34;\u003e\n        \u003c/span\u003e\n        \u003cspan ods-analysis=\&#34;byRegion\&#34; ods-analysis-context=\&#34;cases\&#34; ods-analysis-x=\&#34;provincia\&#34; ods-analysis-max=\&#34;0\&#34;\n              ods-analysis-serie-confirmados=\&#34;SUM(casos_confirmados)\&#34; ods-analysis-serie-nuevos=\&#34;SUM(nuevos_positivos)\&#34;\n              ods-analysis-serie-altas=\&#34;SUM(altas)\&#34; ods-analysis-serie-fallecimientos=\&#34;SUM(fallecimientos)\&#34;\n              ods-analysis-sort=\&#34;confirmados\&#34;\u003e\n        \u003c/span\u003e\n\n        \u003c!-- These are a few examples key figures you may want to put. You can add as many as you want, they will warp to multiple lines if you have a lot (but consider not putting too many) --\u003e\n        \u003csection\u003e\n            \u003cdiv class=\&#34;row\&#34;\u003e\n                \u003cdiv class=\&#34;col-md-3\&#34;\u003e\n                    \u003cdiv class=\&#34;insight-card\&#34;\u003e\n                        \u003ch3 class=\&#34;text-highlight insight-figure\&#34;\u003e{{ byDate.results[nbRecords].confirmados }}\u003c/h3\u003e\n                        \u003cp class=\&#34;text-light\&#34;\u003eCases\u003c/p\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\&#34;col-md-3\&#34;\u003e\n                    \u003cdiv class=\&#34;insight-card\&#34;\u003e\n                        \u003ch3 class=\&#34;text-highlight insight-figure\&#34;\u003e{{ byDate.results[nbRecords].nuevos }}\u003c/h3\u003e\n                        \u003cp class=\&#34;text-light\&#34;\u003eNew-cases today\u003c/p\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\&#34;col-md-3\&#34;\u003e\n                    \u003cdiv class=\&#34;insight-card\&#34;\u003e\n                        \u003ch3 class=\&#34;text-highlight insight-figure\&#34;\u003e{{ byDate.results[nbRecords].altas }}\u003c/h3\u003e\n                        \u003cp class=\&#34;text-light\&#34;\u003eRecovered\u003c/p\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\&#34;col-md-3\&#34;\u003e\n                    \u003cdiv class=\&#34;insight-card\&#34;\u003e\n                        \u003ch3 class=\&#34;text-highlight insight-figure\&#34;\u003e{{ byDate.results[nbRecords].fallecimientos }}\u003c/h3\u003e\n                        \u003cp class=\&#34;text-light\&#34;\u003eDeaths\u003c/p\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n        \u003c/section\u003e\n        \u003cp ods-resluts=\&#34;items\&#34; ods-results-context=\&#34;cases\&#34; ods-results-max=\&#34;0\&#34;\u003e{{ items }}\u003c/p\u003e\n        \u003c!-- The example shows two tabs, you may add as many as you want for deaths etc. (but we strongly recommend not adding too many)\n    The subagregation here is only needed for colors--\u003e\n        \u003csection\u003e\n            \u003cdiv class=\&#34;row feature-box\&#34; ng-init=\&#34;tabselector = &#39;firsttab&#39;\&#34;\u003e\n                \u003cdiv class=\&#34;col-xs-12\&#34;\u003e\n                    \u003cdiv class=\&#34;tabs\&#34;\u003e\n                        \u003ca class=\&#34;tab\&#34; ng-click=\&#34;tabselector = &#39;firsttab&#39;\&#34;\n                           ng-class=\&#34;{&#39;activetab&#39; : tabselector == &#39;firsttab&#39;}\&#34;\u003e\n                            Total cases\n                        \u003c/a\u003e\n                        \u003ca class=\&#34;tab\&#34; ng-click=\&#34;tabselector = &#39;secondtab&#39;\&#34;\n                           ng-class=\&#34;{&#39;activetab&#39; : tabselector == &#39;secondtab&#39;}\&#34;\u003e\n                            New cases today\n                        \u003c/a\u003e\n                    \u003c/div\u003e\n                    \u003cdiv class=\&#34;col-xs-12\&#34; ng-if=\&#34;tabselector == &#39;firsttab&#39;\&#34;\u003e\n                        \u003cdiv ng-init=\&#34;colors = {};\&#34;\u003e\n                            \u003c!-- Put serie you want to color regions with in \&#34;maxval/minval\&#34; res.\&#34;nameofserie\&#34;. Replace res.codigos with your ZIP code field name --\u003e\n                            \u003cdiv ods-subaggregation=\&#34;byPostcode.results\&#34;\n                                 ods-subaggregation-serie-maxval=\&#34;MAX(confirmados)\&#34;\n                                 ods-subaggregation-serie-minval=\&#34;MIN(confirmados)\&#34;\u003e\n                                \u003cspan ng-repeat=\&#34;res in byPostcode.results\&#34;\u003e\n                                    \u003c!-- This is a little trick to have 5 digit ZIP code match 2 digit region code --\u003e\n                                    {{reg_code = res.codigos \u003e 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); \&#34;\&#34;}}\n                                    {{colors[reg_code] = \&#34;hsl(220,75%,\&#34; &#43; (75 - ((res.confirmados - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; \&#34;%,1)\&#34;; \&#34;\&#34; }}\n                                \u003c/span\u003e\n                            \u003c/div\u003e\n                            \u003cods-map basemap=\&#34;jawg.light\&#34; no-refit=\&#34;false\&#34; scroll-wheel-zoom=\&#34;false\&#34;\n                                     display-control=\&#34;false\&#34; toolbar-drawing=\&#34;false\&#34;\u003e\n                                \u003c!-- Put the serie you want as numbers on the map in \&#34;expresion\&#34; --\u003e\n                                \u003cods-map-layer context=\&#34;cases\&#34; color=\&#34;#142e7b\&#34; picto=\&#34;ods-circle\&#34; display=\&#34;clusters\&#34;\n                                               function=\&#34;SUM\&#34; expression=\&#34;casos_confirmados\&#34; shape-opacity=\&#34;0.5\&#34;\n                                               point-opacity=\&#34;1\&#34; caption=\&#34;false\&#34;\n                                               title=\&#34;Epidimioliogic satutus in Castilla dy Leon\&#34; size-min=\&#34;3\&#34;\n                                               size-max=\&#34;5\&#34; size-function=\&#34;linear\&#34;\u003e\u003c/ods-map-layer\u003e\n                                \u003cods-map-layer context=\&#34;regions\&#34; color-categories=\&#34;colors\&#34; color-by-field=\&#34;cod_ine_prov\&#34;\n                                               color-categories-other=\&#34;lightgrey\&#34; display=\&#34;categories\&#34;\n                                               shape-opacity=\&#34;0.7\&#34; tooltip-disabled=\&#34;true\&#34;\u003e\u003c/ods-map-layer\u003e\n                            \u003c/ods-map\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                    \u003cdiv class=\&#34;col-xs-12\&#34; ng-if=\&#34;tabselector == &#39;secondtab&#39;\&#34;\u003e\n                        \u003cdiv ng-init=\&#34;colors = {};\&#34;\u003e\n                            \u003c!-- Put serie you want to color regions with in maxval/min --\u003e\n                            \u003cdiv ods-subaggregation=\&#34;byPostcode.results\&#34; ods-subaggregation-serie-maxval=\&#34;MAX(nuevos)\&#34;\n                                 ods-subaggregation-serie-minval=\&#34;MIN(nuevos)\&#34;\u003e\n                                \u003cspan ng-repeat=\&#34;res in byPostcode.results\&#34;\u003e\n                                    {{reg_code = res.codigos \u003e 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); \&#34;\&#34;}}\n                                    {{colors[reg_code] = \&#34;hsl(220,75%,\&#34; &#43; (75 - ((res.nuevos - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; \&#34;%,1)\&#34;; \&#34;\&#34; }}\n                                \u003c/span\u003e\n                            \u003c/div\u003e\n                        \u003c/div\u003e\n                        \u003cods-map basemap=\&#34;jawg.light\&#34; no-refit=\&#34;false\&#34; scroll-wheel-zoom=\&#34;false\&#34; display-control=\&#34;false\&#34;\n                                 toolbar-drawing=\&#34;false\&#34;\u003e\n                            \u003cods-map-layer context=\&#34;cases\&#34; color=\&#34;#142e7b\&#34; picto=\&#34;ods-circle\&#34; display=\&#34;clusters\&#34;\n                                           function=\&#34;SUM\&#34; expression=\&#34;nuevos_positivos\&#34; shape-opacity=\&#34;0.5\&#34;\n                                           point-opacity=\&#34;1\&#34; caption=\&#34;false\&#34;\n                                           title=\&#34;Epidimioliogic satutus in Castilla dy Leon\&#34;\n                                           size-min=\&#34;3\&#34; size-max=\&#34;5\&#34; size-function=\&#34;linear\&#34;\u003e\u003c/ods-map-layer\u003e\n                            \u003cods-map-layer context=\&#34;regions\&#34; color-categories=\&#34;colors\&#34; color-by-field=\&#34;cod_ine_prov\&#34;\n                                           color-categories-other=\&#34;lightgrey\&#34; display=\&#34;categories\&#34; shape-opacity=\&#34;0.7\&#34;\n                                           tooltip-disabled=\&#34;true\&#34;\u003e\u003c/ods-map-layer\u003e\n                        \u003c/ods-map\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n        \u003c/section\u003e\n\n        \u003csection\u003e\n            \u003c!-- Row of this section a selectable, to stack by filtering the \&#34;selected\&#34; context. That is why we use the same context twice (otherwise the map and KPIs would also be filtered) --\u003e\n            \u003cdiv class=\&#34;row feature-box\&#34;\u003e\n                \u003cdiv class=\&#34;col-xs-12\&#34; title=\&#34;Click on a row to add it to the charts below\&#34;\u003e\n                    \u003ctable class=\&#34;summary-table\&#34;\u003e\n                        \u003cthead\u003e\n                        \u003c!-- Replace with your own headings. You may add more fields. --\u003e\n                        \u003cth\u003eRegion\u003c/th\u003e\n                        \u003cth\u003eConfirmed\u003c/th\u003e\n                        \u003cth\u003eRecovered\u003c/th\u003e\n                        \u003cth\u003eDeaths\u003c/th\u003e\n                        \u003c/thead\u003e\n                        \u003ctbody\u003e\n                        \u003ctr ng-repeat=\&#34;region in byRegion.results\&#34; ng-class=\&#34;{&#39;toggled&#39;: toggled}\&#34;\u003e\n                            \u003ctd\u003e\n                                \u003cdiv\u003e\n                                    \u003c!-- The custom checkbox is made by using the label and hiding the checkbox. Regular checkboxes will work perfectly as wall (but cannot be styled) --\u003e\n                                    \u003cinput id=\&#34;{{ region.x }}\&#34; type=\&#34;checkbox\&#34; class=\&#34;hidden-checkbox\&#34;\n                                           ods-toggle-model=\&#34;$parent.selected.parameters\&#34;\n                                           ods-toggle-key=\&#34;refine.provincia\&#34; ods-toggle-value=\&#34;{{ region.x }}\&#34;/\u003e\n                                    \u003clabel for=\&#34;{{ region.x }}\&#34; class=\&#34;fake-checkbox\&#34;\n                                           ng-click=\&#34;toggled = !toggled\&#34;\u003e\u003c/label\u003e\n                                    {{ region.x }}\n                                \u003c/div\u003e\n                            \u003c/td\u003e\n                            \u003c!-- Replace with corresponding data fields --\u003e\n                            \u003ctd\u003e{{ region.confirmados }}\u003c/td\u003e\n                            \u003ctd\u003e{{ region.altas }}\u003c/td\u003e\n                            \u003ctd\u003e{{ region.fallecimientos }}\u003c/td\u003e\n                        \u003c/tr\u003e\n                        \u003c/tbody\u003e\n                    \u003c/table\u003e\n                \u003c/div\u003e\n                \u003c!-- Those charts will react to selected rows. Only change the expression-y. --\u003e\n                \u003cdiv class=\&#34;col-md-6\&#34;\u003e\n                    \u003ch4 class=\&#34;text-primary text-center\&#34;\u003eEvolution\u003c/h4\u003e\n                    \u003cods-chart timescale=\&#34;year\&#34; single-y-axis=\&#34;true\&#34; scientific-display=\&#34;false\&#34; align-month=\&#34;true\&#34;\u003e\n                        \u003cods-chart-query context=\&#34;selected\&#34; field-x=\&#34;fecha\&#34; maxpoints=\&#34;0\&#34; timescale=\&#34;day\&#34;\u003e\n                            \u003cods-chart-serie expression-y=\&#34;casos_confirmados\&#34; chart-type=\&#34;spline\&#34; function-y=\&#34;SUM\&#34;\n                                             label-y=\&#34;Confirmed cases\&#34; color=\&#34;#00c7b1\&#34; scientific-display=\&#34;true\&#34;\n                                             display-values=\&#34;true\&#34;\u003e\n                            \u003c/ods-chart-serie\u003e\n                            \u003cods-chart-serie expression-y=\&#34;fallecimientos\&#34; chart-type=\&#34;line\&#34; function-y=\&#34;SUM\&#34;\n                                             label-y=\&#34;Deceased\&#34; color=\&#34;#fc8d62\&#34; scientific-display=\&#34;true\&#34;\n                                             display-values=\&#34;true\&#34;\u003e\n                            \u003c/ods-chart-serie\u003e\n                        \u003c/ods-chart-query\u003e\n                    \u003c/ods-chart\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\&#34;col-md-6\&#34;\u003e\n                    \u003ch4 class=\&#34;text-primary text-center\&#34;\u003eDaily Increment\u003c/h4\u003e\n                    \u003cods-chart timescale=\&#34;year\&#34; align-month=\&#34;true\&#34;\u003e\n                        \u003cods-chart-query context=\&#34;selected\&#34; field-x=\&#34;fecha\&#34; maxpoints=\&#34;0\&#34; timescale=\&#34;day\&#34;\u003e\n                            \u003cods-chart-serie expression-y=\&#34;nuevos_positivos\&#34; chart-type=\&#34;column\&#34; function-y=\&#34;SUM\&#34;\n                                             label-y=\&#34;New positives\&#34; color=\&#34;#00c7b1\&#34; display-values=\&#34;true\&#34;\n                                             display-stack-values=\&#34;false\&#34; scientific-display=\&#34;true\&#34;\u003e\n                            \u003c/ods-chart-serie\u003e\n                        \u003c/ods-chart-query\u003e\n                    \u003c/ods-chart\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n        \u003c/section\u003e\n    \u003c/ods-dataset-context\u003e\n\u003c/div\u003e\n\n\u003c/div\u003e&#34;,
                 "css": &#34;/* General settings */\nbody {\n    background-color: #f6f8fb;\n}\n\n.feature-box {\n    margin: 21px 0px;\n    padding: 13px;\n    background: white;\n    border-radius: 4px;\n    background-color: #ffffff;\n    background-size: cover;\n    box-shadow: 0 1px 3px rgba(0,0,0,0.13);\n}\n/* Table design */\n.summary-table {\n    table-layout: fixed;\n    white-space: nowrap;\n    width: 100%;\n    margin-bottom: 21px;\n}\n\n.summary-table thead {\n    background: #f6f8fb;\n    color: #142e7b;\n}\n\n.summary-table td,\nth {\n    padding: 1rem;\n}\n\n.summary-table td {\n    border-top: 1px solid;\n    border-color: #dee5ef;\n}\n\n.summary-table tr:hover {\n    background: #f6f8fb;\n}\n\n.summary-table .toggled {\n    background: #f6f8fb;\n}\n\n.hidden-checkbox {\n    visibility: hidden;\n}\n\n.fake-checkbox {\n    width: 21px;\n    height: 21px;\n    background: white;\n    border: 1px solid #142e7b;\n    border-radius: 4px;\n    font-weight: normal;\n}\n\n.fake-checkbox:after {\n    content: \&#34;\\f00c\&#34;;\n    opacity: 0;\n    font-family: FontAwesome;\n    color: #142e7b;\n    margin-left: 3px;\n}\n\n.hidden-checkbox:checked ~ .fake-checkbox:after {\n    content: \&#34;\\f00c\&#34;;\n    opacity: 1;\n    font-family: FontAwesome;\n    color: #142e7b;\n    margin-left: 3px;\n}\n\n/* cards */\n.insight-card {\n    margin: 13px;\n    border: 1px dotted #142e7b;\n    border-radius: 4px;\n    color: #565656;\n    text-decoration: rgb(86, 86, 86);\n    box-shadow: 0px 0px 0px rgba(0,0,0,0);\n    text-align: center;\n    padding: 21px;\n    height: 100%;\n}\n\n.insight-figure {\n    font-size: 34px;\n}\n/* tabs */\n.tabs {\n    margin: 1em;\n    /* Adds lots of space around the tabs, to avoid the border to fall into the tab content area */\n}\n\n.tab {\n    padding: 10px 20px;\n    /* Gives some space to tab titles */\n    color: gray;\n    /* Colors the text in gray */\n}\n/* Only visible when the mouse is on a tab title */\n.tab:hover {\n    color: black;\n    /* Colors the text in black to highlight the possible selection */\n    text-decoration: none;\n    /* Removes the hyperlink underline style */\n}\n\n.activetab {\n    color: black;\n    /* Colors the text in black */\n    border-bottom: 3px solid #2d2d2d;\n    /* Underlines the text with a bold dark border */\n}\n\n/* Utilities */\n.mb-4 {\n    margin-bottom: 55px;\n}\n\n.text-primary {\n    color: #142e7b;\n}\n\n.text-highlight {\n    color: #00c7b1;\n}\n\n.text-center {\n    text-align: center;\n}\n\n.text-light {\n    color: #898D92;\n}\n\n.justify-content-left {\n    display: flex;\n    justify-content: flex-start;\n}\n&#34;
               }'>
    </form>
</div>
<div class="ods-content">
    <div class="box-live-example"
      style="height: 800px;">
      <iframe id="iframe-regional-covid-dashboard"
              width="100%" height="100%"
              src="about:blank"
              srcdoc="
                <head>
                    &lt;link
  rel=&#34;stylesheet&#34;
  href=&#34;https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css&#34;
/&gt;
&lt;link
  rel=&#34;stylesheet&#34;
  href=&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css&#34;
/&gt;
&lt;link
  rel=&#34;stylesheet&#34;
  href=&#34;https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.css&#34;
/&gt;

&lt;!-- ODS Platform CSS - must be hosted on static : WIP --&gt;
&lt;link
  rel=&#34;stylesheet&#34;
  href=&#34;https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css&#34;
/&gt;
&lt;link
  rel=&#34;stylesheet&#34;
  href=&#34;https://codelibrary.opendatasoft.com/css/theme.css&#34;
/&gt;

&lt;script src=&#34;//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;//cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.0/angular.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;//cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.8.2/angular-sanitize.min.js&#34;&gt;&lt;/script&gt;
&lt;script
  type=&#34;text/javascript&#34;
  src=&#34;https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.js&#34;
&gt;&lt;/script&gt;

&lt;script
  type=&#34;text/javascript&#34;
  src=&#34;https://codelibrary.opendatasoft.com/js/platform-filters.js&#34;
&gt;&lt;/script&gt;
&lt;script
  type=&#34;text/javascript&#34;
  src=&#34;https://codelibrary.opendatasoft.com/js/ods-catalog-card.js&#34;
&gt;&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
  const sourceMonitoringInterceptor = $q =&gt; {
    return {
      request: config =&gt; {
        console.log(config.url);
        if (config.params)
          if (config.params.source) delete config.params.source;

        config.url = config.url.replace(
          &#34;ods-api-monitoring&#34;,
          &#34;monitoring-copy&#34;
        );
        return config;
      }
    };
  };

  angular
    .module(&#34;ods-widgets&#34;)
    .config(function(ODSWidgetsConfigProvider, $httpProvider) {
      ODSWidgetsConfigProvider.setConfig({
        defaultDomain: &#34;https://userclub.opendatasoft.com/&#34;,
        basemaps: [
          {
            provider: &#34;jawg.light&#34;,
            label: &#34;Jawg Light&#34;,
            jawg_apikey: &#34;opendatasoft-community&#34;
          },
          {
            provider: &#34;jawg.streets&#34;,
            label: &#34;Jawg Streets&#34;,
            jawg_apikey: &#34;opendatasoft-community&#34;,
            id: &#34;streets&#34;
          }
        ],
        themes: {
          default: {
            url: &#34;/img/ods.svg&#34;
          },
          Santé: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/doctors.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          &#34;Culture, Patrimoine&#34;: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/culture.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          &#34;Éducation, Formation, Recherche, Enseignement&#34;: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/college.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          Environment: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/leaf.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          &#34;Transports, Déplacements&#34;: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/train_station.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          &#34;Aménagement du territoire, Urbanisme, Bâtiments, Équipements, Logement&#34;: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/townplanning.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          &#34;Économie, Business, PME, Développement économique, Emploi&#34;: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/economy.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          &#34;Administration, Gouvernement, Finances publiques, Citoyenneté&#34;: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/administration.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          &#34;Justice, Sécurité, Police, Crime&#34;: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/court.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          &#34;Sport, Loisirs&#34;: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/soccer.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          &#34;Hébergement, Restauration&#34;: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/accommodation.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          &#34;Services, Social&#34;: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/social.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          Checklist: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/copyshop.svg&#34;,
            color: &#34;#1446A0&#34;
          },
          Usages: {
            url:
              &#34;https://userclub.opendatasoft.com/static/pictos/img/set-v3/pictos/bike.svg&#34;,
            color: &#34;#1446A0&#34;
          }
        },
        mapPrependAttribution: &#34;Jawg apikey NOT suitable for production&#34;
      });
      $httpProvider.interceptors.push(sourceMonitoringInterceptor);
    });
&lt;/script&gt;

                    
                </head>
                <base href='https://userclub.opendatasoft.com/'>
                <body>
                <div ng-app='ods-widgets'>&lt;div ng-app=&#34;ods-widgets&#34;&gt;
&lt;div class=&#34;container&#34;&gt;
    &lt;section&gt;
        &lt;h2 class=&#34;text-primary text-center mb-4&#34;&gt;
            COVID-19 epidemiologic status in Castilla y León
        &lt;/h2&gt;
    &lt;/section&gt;
    &lt;!-- The data used here are from the first dashboard of the kind on ODS made by Junta de Castilla y Leone.
    See the page here : https://analisis.datosabiertos.jcyl.es/pages/coronavirus/
    See the data here : https://analisis.datosabiertos.jcyl.es/explore/dataset/situacion-epidemiologica-coronavirus-en-castilla-y-leon/table/?disjunctive.provincia&amp;dataChart=eyJxdWVyaWVzIjpbeyJjaGFydHMiOlt7InR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJjYXNvc19jb25maXJtYWRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiM2NmMyYTUifSx7ImFsaWduTW9udGgiOnRydWUsInR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJmYWxsZWNpbWllbnRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiNmYzhkNjIifV0sInhBeGlzIjoiZmVjaGEiLCJtYXhwb2ludHMiOiIiLCJ0aW1lc2NhbGUiOiJkYXkiLCJzb3J0IjoiIiwiY29uZmlnIjp7ImRhdGFzZXQiOiJzaXR1YWNpb24tZXBpZGVtaW9sb2dpY2EtY29yb25hdmlydXMtZW4tY2FzdGlsbGEteS1sZW9uIiwib3B0aW9ucyI6eyJkaXNqdW5jdGl2ZS5wcm92aW5jaWEiOnRydWV9fX1dLCJkaXNwbGF5TGVnZW5kIjp0cnVlLCJhbGlnbk1vbnRoIjp0cnVlLCJ0aW1lc2NhbGUiOiIiLCJzaW5nbGVBeGlzIjp0cnVlfQ%3D%3D&amp;location=8,41.64954,-4.33333&amp;basemap=jawg.streets --&gt;
    &lt;ods-dataset-context context=&#34;regions, cases, selected&#34;
                         cases-domain=&#34;jcyl&#34;
                         cases-dataset=&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon&#34;
                         selected-domain=&#34;jcyl&#34;
                         selected-dataset=&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon&#34;
                         selected-parameters=&#34;{&#39;disjunctive.provincia&#39;:true}&#34;
                         regions-dataset=&#34;limites-provinciales-de-castilla-y-leon-recintos&#34;
                         regions-domain=&#34;https://analisis.datosabiertos.jcyl.es&#34;&gt;
        &lt;span ods-analysis=&#34;byDate&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-max=&#34;0&#34; ods-analysis-x=&#34;fecha&#34;
              ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34; ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34;
              ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34; ods-analysis-sort=&#34;fecha&#34;&gt;
        &lt;/span&gt;
        {{ nbRecords = byDate.results.length - 1; &#34;&#34; }}
        &lt;!-- This code will refine results for latest date present in the datafield. The data on a given date must then already have the cumulative total at a given day avalaible.
      If you only have daily increments, you need one more context that is not refined by the last date, on which you do the ODS analysis with SUM --&gt;
        &lt;span ods-results=&#34;list&#34; ods-results-context=&#34;cases&#34; ods-results-max=&#34;-1&#34; ods-results-sort=&#34;fecha&#34;&gt;
            {{ lastDate = list[list.length-1].fields.fecha; &#34;&#34; }}
            {{ cases.parameters[&#39;refine.fecha&#39;] = lastDate;&#34;&#34;}}
        &lt;/span&gt;
        &lt;span ods-analysis=&#34;byPostcode&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-max=&#34;0&#34;
              ods-analysis-x-provincia=&#34;provincia&#34; ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34;
              ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34; ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34;
              ods-analysis-serie-codigos=&#34;SUM(codigo_ine)&#34; ods-analysis-sort=&#34;-codigos&#34;&gt;
        &lt;/span&gt;
        &lt;span ods-analysis=&#34;byRegion&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-x=&#34;provincia&#34; ods-analysis-max=&#34;0&#34;
              ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34; ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34; ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34;
              ods-analysis-sort=&#34;confirmados&#34;&gt;
        &lt;/span&gt;

        &lt;!-- These are a few examples key figures you may want to put. You can add as many as you want, they will warp to multiple lines if you have a lot (but consider not putting too many) --&gt;
        &lt;section&gt;
            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].confirmados }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Cases&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].nuevos }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;New-cases today&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].altas }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Recovered&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].fallecimientos }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Deaths&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;
        &lt;p ods-resluts=&#34;items&#34; ods-results-context=&#34;cases&#34; ods-results-max=&#34;0&#34;&gt;{{ items }}&lt;/p&gt;
        &lt;!-- The example shows two tabs, you may add as many as you want for deaths etc. (but we strongly recommend not adding too many)
    The subagregation here is only needed for colors--&gt;
        &lt;section&gt;
            &lt;div class=&#34;row feature-box&#34; ng-init=&#34;tabselector = &#39;firsttab&#39;&#34;&gt;
                &lt;div class=&#34;col-xs-12&#34;&gt;
                    &lt;div class=&#34;tabs&#34;&gt;
                        &lt;a class=&#34;tab&#34; ng-click=&#34;tabselector = &#39;firsttab&#39;&#34;
                           ng-class=&#34;{&#39;activetab&#39; : tabselector == &#39;firsttab&#39;}&#34;&gt;
                            Total cases
                        &lt;/a&gt;
                        &lt;a class=&#34;tab&#34; ng-click=&#34;tabselector = &#39;secondtab&#39;&#34;
                           ng-class=&#34;{&#39;activetab&#39; : tabselector == &#39;secondtab&#39;}&#34;&gt;
                            New cases today
                        &lt;/a&gt;
                    &lt;/div&gt;
                    &lt;div class=&#34;col-xs-12&#34; ng-if=&#34;tabselector == &#39;firsttab&#39;&#34;&gt;
                        &lt;div ng-init=&#34;colors = {};&#34;&gt;
                            &lt;!-- Put serie you want to color regions with in &#34;maxval/minval&#34; res.&#34;nameofserie&#34;. Replace res.codigos with your ZIP code field name --&gt;
                            &lt;div ods-subaggregation=&#34;byPostcode.results&#34;
                                 ods-subaggregation-serie-maxval=&#34;MAX(confirmados)&#34;
                                 ods-subaggregation-serie-minval=&#34;MIN(confirmados)&#34;&gt;
                                &lt;span ng-repeat=&#34;res in byPostcode.results&#34;&gt;
                                    &lt;!-- This is a little trick to have 5 digit ZIP code match 2 digit region code --&gt;
                                    {{reg_code = res.codigos &gt; 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); &#34;&#34;}}
                                    {{colors[reg_code] = &#34;hsl(220,75%,&#34; &#43; (75 - ((res.confirmados - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; &#34;%,1)&#34;; &#34;&#34; }}
                                &lt;/span&gt;
                            &lt;/div&gt;
                            &lt;ods-map basemap=&#34;jawg.light&#34; no-refit=&#34;false&#34; scroll-wheel-zoom=&#34;false&#34;
                                     display-control=&#34;false&#34; toolbar-drawing=&#34;false&#34;&gt;
                                &lt;!-- Put the serie you want as numbers on the map in &#34;expresion&#34; --&gt;
                                &lt;ods-map-layer context=&#34;cases&#34; color=&#34;#142e7b&#34; picto=&#34;ods-circle&#34; display=&#34;clusters&#34;
                                               function=&#34;SUM&#34; expression=&#34;casos_confirmados&#34; shape-opacity=&#34;0.5&#34;
                                               point-opacity=&#34;1&#34; caption=&#34;false&#34;
                                               title=&#34;Epidimioliogic satutus in Castilla dy Leon&#34; size-min=&#34;3&#34;
                                               size-max=&#34;5&#34; size-function=&#34;linear&#34;&gt;&lt;/ods-map-layer&gt;
                                &lt;ods-map-layer context=&#34;regions&#34; color-categories=&#34;colors&#34; color-by-field=&#34;cod_ine_prov&#34;
                                               color-categories-other=&#34;lightgrey&#34; display=&#34;categories&#34;
                                               shape-opacity=&#34;0.7&#34; tooltip-disabled=&#34;true&#34;&gt;&lt;/ods-map-layer&gt;
                            &lt;/ods-map&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class=&#34;col-xs-12&#34; ng-if=&#34;tabselector == &#39;secondtab&#39;&#34;&gt;
                        &lt;div ng-init=&#34;colors = {};&#34;&gt;
                            &lt;!-- Put serie you want to color regions with in maxval/min --&gt;
                            &lt;div ods-subaggregation=&#34;byPostcode.results&#34; ods-subaggregation-serie-maxval=&#34;MAX(nuevos)&#34;
                                 ods-subaggregation-serie-minval=&#34;MIN(nuevos)&#34;&gt;
                                &lt;span ng-repeat=&#34;res in byPostcode.results&#34;&gt;
                                    {{reg_code = res.codigos &gt; 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); &#34;&#34;}}
                                    {{colors[reg_code] = &#34;hsl(220,75%,&#34; &#43; (75 - ((res.nuevos - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; &#34;%,1)&#34;; &#34;&#34; }}
                                &lt;/span&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;ods-map basemap=&#34;jawg.light&#34; no-refit=&#34;false&#34; scroll-wheel-zoom=&#34;false&#34; display-control=&#34;false&#34;
                                 toolbar-drawing=&#34;false&#34;&gt;
                            &lt;ods-map-layer context=&#34;cases&#34; color=&#34;#142e7b&#34; picto=&#34;ods-circle&#34; display=&#34;clusters&#34;
                                           function=&#34;SUM&#34; expression=&#34;nuevos_positivos&#34; shape-opacity=&#34;0.5&#34;
                                           point-opacity=&#34;1&#34; caption=&#34;false&#34;
                                           title=&#34;Epidimioliogic satutus in Castilla dy Leon&#34;
                                           size-min=&#34;3&#34; size-max=&#34;5&#34; size-function=&#34;linear&#34;&gt;&lt;/ods-map-layer&gt;
                            &lt;ods-map-layer context=&#34;regions&#34; color-categories=&#34;colors&#34; color-by-field=&#34;cod_ine_prov&#34;
                                           color-categories-other=&#34;lightgrey&#34; display=&#34;categories&#34; shape-opacity=&#34;0.7&#34;
                                           tooltip-disabled=&#34;true&#34;&gt;&lt;/ods-map-layer&gt;
                        &lt;/ods-map&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;

        &lt;section&gt;
            &lt;!-- Row of this section a selectable, to stack by filtering the &#34;selected&#34; context. That is why we use the same context twice (otherwise the map and KPIs would also be filtered) --&gt;
            &lt;div class=&#34;row feature-box&#34;&gt;
                &lt;div class=&#34;col-xs-12&#34; title=&#34;Click on a row to add it to the charts below&#34;&gt;
                    &lt;table class=&#34;summary-table&#34;&gt;
                        &lt;thead&gt;
                        &lt;!-- Replace with your own headings. You may add more fields. --&gt;
                        &lt;th&gt;Region&lt;/th&gt;
                        &lt;th&gt;Confirmed&lt;/th&gt;
                        &lt;th&gt;Recovered&lt;/th&gt;
                        &lt;th&gt;Deaths&lt;/th&gt;
                        &lt;/thead&gt;
                        &lt;tbody&gt;
                        &lt;tr ng-repeat=&#34;region in byRegion.results&#34; ng-class=&#34;{&#39;toggled&#39;: toggled}&#34;&gt;
                            &lt;td&gt;
                                &lt;div&gt;
                                    &lt;!-- The custom checkbox is made by using the label and hiding the checkbox. Regular checkboxes will work perfectly as wall (but cannot be styled) --&gt;
                                    &lt;input id=&#34;{{ region.x }}&#34; type=&#34;checkbox&#34; class=&#34;hidden-checkbox&#34;
                                           ods-toggle-model=&#34;$parent.selected.parameters&#34;
                                           ods-toggle-key=&#34;refine.provincia&#34; ods-toggle-value=&#34;{{ region.x }}&#34;/&gt;
                                    &lt;label for=&#34;{{ region.x }}&#34; class=&#34;fake-checkbox&#34;
                                           ng-click=&#34;toggled = !toggled&#34;&gt;&lt;/label&gt;
                                    {{ region.x }}
                                &lt;/div&gt;
                            &lt;/td&gt;
                            &lt;!-- Replace with corresponding data fields --&gt;
                            &lt;td&gt;{{ region.confirmados }}&lt;/td&gt;
                            &lt;td&gt;{{ region.altas }}&lt;/td&gt;
                            &lt;td&gt;{{ region.fallecimientos }}&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
                &lt;!-- Those charts will react to selected rows. Only change the expression-y. --&gt;
                &lt;div class=&#34;col-md-6&#34;&gt;
                    &lt;h4 class=&#34;text-primary text-center&#34;&gt;Evolution&lt;/h4&gt;
                    &lt;ods-chart timescale=&#34;year&#34; single-y-axis=&#34;true&#34; scientific-display=&#34;false&#34; align-month=&#34;true&#34;&gt;
                        &lt;ods-chart-query context=&#34;selected&#34; field-x=&#34;fecha&#34; maxpoints=&#34;0&#34; timescale=&#34;day&#34;&gt;
                            &lt;ods-chart-serie expression-y=&#34;casos_confirmados&#34; chart-type=&#34;spline&#34; function-y=&#34;SUM&#34;
                                             label-y=&#34;Confirmed cases&#34; color=&#34;#00c7b1&#34; scientific-display=&#34;true&#34;
                                             display-values=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                            &lt;ods-chart-serie expression-y=&#34;fallecimientos&#34; chart-type=&#34;line&#34; function-y=&#34;SUM&#34;
                                             label-y=&#34;Deceased&#34; color=&#34;#fc8d62&#34; scientific-display=&#34;true&#34;
                                             display-values=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                        &lt;/ods-chart-query&gt;
                    &lt;/ods-chart&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-6&#34;&gt;
                    &lt;h4 class=&#34;text-primary text-center&#34;&gt;Daily Increment&lt;/h4&gt;
                    &lt;ods-chart timescale=&#34;year&#34; align-month=&#34;true&#34;&gt;
                        &lt;ods-chart-query context=&#34;selected&#34; field-x=&#34;fecha&#34; maxpoints=&#34;0&#34; timescale=&#34;day&#34;&gt;
                            &lt;ods-chart-serie expression-y=&#34;nuevos_positivos&#34; chart-type=&#34;column&#34; function-y=&#34;SUM&#34;
                                             label-y=&#34;New positives&#34; color=&#34;#00c7b1&#34; display-values=&#34;true&#34;
                                             display-stack-values=&#34;false&#34; scientific-display=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                        &lt;/ods-chart-query&gt;
                    &lt;/ods-chart&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;
    &lt;/ods-dataset-context&gt;
&lt;/div&gt;

&lt;/div&gt;</div>
                <style type='text/css'>
                    /* General settings */
body {
    background-color: #f6f8fb;
}

.feature-box {
    margin: 21px 0px;
    padding: 13px;
    background: white;
    border-radius: 4px;
    background-color: #ffffff;
    background-size: cover;
    box-shadow: 0 1px 3px rgba(0,0,0,0.13);
}
/* Table design */
.summary-table {
    table-layout: fixed;
    white-space: nowrap;
    width: 100%;
    margin-bottom: 21px;
}

.summary-table thead {
    background: #f6f8fb;
    color: #142e7b;
}

.summary-table td,
th {
    padding: 1rem;
}

.summary-table td {
    border-top: 1px solid;
    border-color: #dee5ef;
}

.summary-table tr:hover {
    background: #f6f8fb;
}

.summary-table .toggled {
    background: #f6f8fb;
}

.hidden-checkbox {
    visibility: hidden;
}

.fake-checkbox {
    width: 21px;
    height: 21px;
    background: white;
    border: 1px solid #142e7b;
    border-radius: 4px;
    font-weight: normal;
}

.fake-checkbox:after {
    content: &#34;\f00c&#34;;
    opacity: 0;
    font-family: FontAwesome;
    color: #142e7b;
    margin-left: 3px;
}

.hidden-checkbox:checked ~ .fake-checkbox:after {
    content: &#34;\f00c&#34;;
    opacity: 1;
    font-family: FontAwesome;
    color: #142e7b;
    margin-left: 3px;
}

/* cards */
.insight-card {
    margin: 13px;
    border: 1px dotted #142e7b;
    border-radius: 4px;
    color: #565656;
    text-decoration: rgb(86, 86, 86);
    box-shadow: 0px 0px 0px rgba(0,0,0,0);
    text-align: center;
    padding: 21px;
    height: 100%;
}

.insight-figure {
    font-size: 34px;
}
/* tabs */
.tabs {
    margin: 1em;
    /* Adds lots of space around the tabs, to avoid the border to fall into the tab content area */
}

.tab {
    padding: 10px 20px;
    /* Gives some space to tab titles */
    color: gray;
    /* Colors the text in gray */
}
/* Only visible when the mouse is on a tab title */
.tab:hover {
    color: black;
    /* Colors the text in black to highlight the possible selection */
    text-decoration: none;
    /* Removes the hyperlink underline style */
}

.activetab {
    color: black;
    /* Colors the text in black */
    border-bottom: 3px solid #2d2d2d;
    /* Underlines the text with a bold dark border */
}

/* Utilities */
.mb-4 {
    margin-bottom: 55px;
}

.text-primary {
    color: #142e7b;
}

.text-highlight {
    color: #00c7b1;
}

.text-center {
    text-align: center;
}

.text-light {
    color: #898D92;
}

.justify-content-left {
    display: flex;
    justify-content: flex-start;
}

                </style>
                </body>
              ">
      </iframe>
      <div class="buttons has-addons">
          
              <button id="tab-show-schema" aria-controls="panel-show-schema"
                      class="show-schema button is-light"
                      title="Show the data schema of the dataset used in this resource">
                  <span>See fields in use</span>
              </button>
          
          <button id="tab-show-code" aria-controls="panel-show-code"
                  class="show-code button is-light">
            <span>Show code</span>
          </button>
          <button class="button is-light"
             target="_blank"
             aria-role="link"
             rel="noopener"
             title="Edit on CodePen, open a new tab"
             onclick="document.getElementById('form-regional-covid-dashboard').submit()">
              <span>Edit on Codepen</span>
              <span class="icon is-small">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
                  <use xlink:href="#external"></use>
                </svg>
              </span>
          </button>
      </div>
    </div>
    
        <div id="panel-show-schema" aria-labelledby="tab-show-schema" aria-hidden
             class="box-schema is-hidden">
            <div class="content">
                <p><strong>Dataset in use:</strong> <code>situacion-epidemiologica-coronavirus-en-castilla-y-leon</code> <a href="https://jcyl.opendatasoft.com/explore/dataset/situacion-epidemiologica-coronavirus-en-castilla-y-leon/table/">(See it on jcyl domain)</a></p>
<p><strong>Fields in use:</strong></p>
<table>
<thead>
<tr>
<th>fecha (date)</th>
<th>nuevos_positivos (numeric)</th>
<th>casos_confirmados (numeric)</th>
<th>altas</th>
<th>fallecimientos</th>
<th>provincia</th>
<th>codigo_ine</th>
</tr>
</thead>
<tbody>
<tr>
<td>2021-12-13</td>
<td>66</td>
<td>18896</td>
<td>2040</td>
<td>398</td>
<td>Ávila</td>
<td>5019</td>
</tr>
<tr>
<td>2021-12-13</td>
<td>161</td>
<td>55934</td>
<td>5097</td>
<td>816</td>
<td>Burgos</td>
<td>9059</td>
</tr>
<tr>
<td>2021-12-13</td>
<td>62</td>
<td>26348</td>
<td>2596</td>
<td>509</td>
<td>Palencia</td>
<td>34120</td>
</tr>
<tr>
<td>2021-12-13</td>
<td>54</td>
<td>42320</td>
<td>4456</td>
<td>901</td>
<td>Salamanca</td>
<td>37274</td>
</tr>
</tbody>
</table>
<p><strong>Dataset in use:</strong> <code>limites-provinciales-de-castilla-y-leon-recintos</code> <a href="https://jcyl.opendatasoft.com/explore/dataset/limites-provinciales-de-castilla-y-leon-recintos/table/">(See it on jcyl domain)</a></p>
<p><strong>Fields in use:</strong></p>
<table>
<thead>
<tr>
<th>cod_ine_prov</th>
</tr>
</thead>
<tbody>
<tr>
<td>5</td>
</tr>
<tr>
<td>40</td>
</tr>
<tr>
<td>37</td>
</tr>
<tr>
<td>9</td>
</tr>
</tbody>
</table>

            </div>
        </div>
    
    <div id="panel-show-code" aria-labelledby="tab-show-code" aria-hidden
         class="box-code js-tabs is-hidden">
        <nav class="level is-mobile">
            <div class="level-left">
                <div class="level-item">
                    <div class="buttons has-addons js-tablist">
                        <a
                          class="button is-primary is-outlined js-tablist__item js-tablist__link"
                          href="#code-regional-covid-dashboard-html-content"
                        >
                          HTML
                        </a>
                        
                        <a
                          class="button is-primary is-outlined js-tablist__item js-tablist__link"
                          href="#code-regional-covid-dashboard-css-content"
                        >
                          CSS
                        </a>
                        
                    </div>
                </div>
            </div>
            <div class="level-right">
                <button class="copy-to-cc button is-primary is-outlined is-rounded has-tooltip-left"
                  data-tooltip="Copy to clipboard"
                  aria-role="button"
                  title="Edit on CodePen, open a new tab"
                >
                  <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
                      <use xlink:href="#copy"></use>
                    </svg>
                  </span>
                </button>
                <button class="copied-to-cc button is-success is-outlined is-rounded has-tooltip-left is-hidden"
                  data-tooltip="Copied"
                  aria-role="button"
                  title="Copied"
                >
                  <figure class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
                      <use xlink:href="#check"></use>
                    </svg>
                  </figure>
                </button>
            </div>
        </nav>
        <div class="tab-content">
            <div class="js-tabcontent"
                 id="code-regional-covid-dashboard-html-content"
                 data-clipboard="&lt;div class=&#34;container&#34;&gt;
    &lt;section&gt;
        &lt;h2 class=&#34;text-primary text-center mb-4&#34;&gt;
            COVID-19 epidemiologic status in Castilla y León
        &lt;/h2&gt;
    &lt;/section&gt;
    &lt;!-- The data used here are from the first dashboard of the kind on ODS made by Junta de Castilla y Leone.
    See the page here : https://analisis.datosabiertos.jcyl.es/pages/coronavirus/
    See the data here : https://analisis.datosabiertos.jcyl.es/explore/dataset/situacion-epidemiologica-coronavirus-en-castilla-y-leon/table/?disjunctive.provincia&amp;dataChart=eyJxdWVyaWVzIjpbeyJjaGFydHMiOlt7InR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJjYXNvc19jb25maXJtYWRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiM2NmMyYTUifSx7ImFsaWduTW9udGgiOnRydWUsInR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJmYWxsZWNpbWllbnRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiNmYzhkNjIifV0sInhBeGlzIjoiZmVjaGEiLCJtYXhwb2ludHMiOiIiLCJ0aW1lc2NhbGUiOiJkYXkiLCJzb3J0IjoiIiwiY29uZmlnIjp7ImRhdGFzZXQiOiJzaXR1YWNpb24tZXBpZGVtaW9sb2dpY2EtY29yb25hdmlydXMtZW4tY2FzdGlsbGEteS1sZW9uIiwib3B0aW9ucyI6eyJkaXNqdW5jdGl2ZS5wcm92aW5jaWEiOnRydWV9fX1dLCJkaXNwbGF5TGVnZW5kIjp0cnVlLCJhbGlnbk1vbnRoIjp0cnVlLCJ0aW1lc2NhbGUiOiIiLCJzaW5nbGVBeGlzIjp0cnVlfQ%3D%3D&amp;location=8,41.64954,-4.33333&amp;basemap=jawg.streets --&gt;
    &lt;ods-dataset-context context=&#34;regions, cases, selected&#34;
                         cases-domain=&#34;jcyl&#34;
                         cases-dataset=&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon&#34;
                         selected-domain=&#34;jcyl&#34;
                         selected-dataset=&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon&#34;
                         selected-parameters=&#34;{&#39;disjunctive.provincia&#39;:true}&#34;
                         regions-dataset=&#34;limites-provinciales-de-castilla-y-leon-recintos&#34;
                         regions-domain=&#34;https://analisis.datosabiertos.jcyl.es&#34;&gt;
        &lt;span ods-analysis=&#34;byDate&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-max=&#34;0&#34; ods-analysis-x=&#34;fecha&#34;
              ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34; ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34;
              ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34; ods-analysis-sort=&#34;fecha&#34;&gt;
        &lt;/span&gt;
        {{ nbRecords = byDate.results.length - 1; &#34;&#34; }}
        &lt;!-- This code will refine results for latest date present in the datafield. The data on a given date must then already have the cumulative total at a given day avalaible.
      If you only have daily increments, you need one more context that is not refined by the last date, on which you do the ODS analysis with SUM --&gt;
        &lt;span ods-results=&#34;list&#34; ods-results-context=&#34;cases&#34; ods-results-max=&#34;-1&#34; ods-results-sort=&#34;fecha&#34;&gt;
            {{ lastDate = list[list.length-1].fields.fecha; &#34;&#34; }}
            {{ cases.parameters[&#39;refine.fecha&#39;] = lastDate;&#34;&#34;}}
        &lt;/span&gt;
        &lt;span ods-analysis=&#34;byPostcode&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-max=&#34;0&#34;
              ods-analysis-x-provincia=&#34;provincia&#34; ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34;
              ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34; ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34;
              ods-analysis-serie-codigos=&#34;SUM(codigo_ine)&#34; ods-analysis-sort=&#34;-codigos&#34;&gt;
        &lt;/span&gt;
        &lt;span ods-analysis=&#34;byRegion&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-x=&#34;provincia&#34; ods-analysis-max=&#34;0&#34;
              ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34; ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34; ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34;
              ods-analysis-sort=&#34;confirmados&#34;&gt;
        &lt;/span&gt;

        &lt;!-- These are a few examples key figures you may want to put. You can add as many as you want, they will warp to multiple lines if you have a lot (but consider not putting too many) --&gt;
        &lt;section&gt;
            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].confirmados }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Cases&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].nuevos }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;New-cases today&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].altas }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Recovered&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].fallecimientos }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Deaths&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;
        &lt;p ods-resluts=&#34;items&#34; ods-results-context=&#34;cases&#34; ods-results-max=&#34;0&#34;&gt;{{ items }}&lt;/p&gt;
        &lt;!-- The example shows two tabs, you may add as many as you want for deaths etc. (but we strongly recommend not adding too many)
    The subagregation here is only needed for colors--&gt;
        &lt;section&gt;
            &lt;div class=&#34;row feature-box&#34; ng-init=&#34;tabselector = &#39;firsttab&#39;&#34;&gt;
                &lt;div class=&#34;col-xs-12&#34;&gt;
                    &lt;div class=&#34;tabs&#34;&gt;
                        &lt;a class=&#34;tab&#34; ng-click=&#34;tabselector = &#39;firsttab&#39;&#34;
                           ng-class=&#34;{&#39;activetab&#39; : tabselector == &#39;firsttab&#39;}&#34;&gt;
                            Total cases
                        &lt;/a&gt;
                        &lt;a class=&#34;tab&#34; ng-click=&#34;tabselector = &#39;secondtab&#39;&#34;
                           ng-class=&#34;{&#39;activetab&#39; : tabselector == &#39;secondtab&#39;}&#34;&gt;
                            New cases today
                        &lt;/a&gt;
                    &lt;/div&gt;
                    &lt;div class=&#34;col-xs-12&#34; ng-if=&#34;tabselector == &#39;firsttab&#39;&#34;&gt;
                        &lt;div ng-init=&#34;colors = {};&#34;&gt;
                            &lt;!-- Put serie you want to color regions with in &#34;maxval/minval&#34; res.&#34;nameofserie&#34;. Replace res.codigos with your ZIP code field name --&gt;
                            &lt;div ods-subaggregation=&#34;byPostcode.results&#34;
                                 ods-subaggregation-serie-maxval=&#34;MAX(confirmados)&#34;
                                 ods-subaggregation-serie-minval=&#34;MIN(confirmados)&#34;&gt;
                                &lt;span ng-repeat=&#34;res in byPostcode.results&#34;&gt;
                                    &lt;!-- This is a little trick to have 5 digit ZIP code match 2 digit region code --&gt;
                                    {{reg_code = res.codigos &gt; 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); &#34;&#34;}}
                                    {{colors[reg_code] = &#34;hsl(220,75%,&#34; &#43; (75 - ((res.confirmados - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; &#34;%,1)&#34;; &#34;&#34; }}
                                &lt;/span&gt;
                            &lt;/div&gt;
                            &lt;ods-map basemap=&#34;jawg.light&#34; no-refit=&#34;false&#34; scroll-wheel-zoom=&#34;false&#34;
                                     display-control=&#34;false&#34; toolbar-drawing=&#34;false&#34;&gt;
                                &lt;!-- Put the serie you want as numbers on the map in &#34;expresion&#34; --&gt;
                                &lt;ods-map-layer context=&#34;cases&#34; color=&#34;#142e7b&#34; picto=&#34;ods-circle&#34; display=&#34;clusters&#34;
                                               function=&#34;SUM&#34; expression=&#34;casos_confirmados&#34; shape-opacity=&#34;0.5&#34;
                                               point-opacity=&#34;1&#34; caption=&#34;false&#34;
                                               title=&#34;Epidimioliogic satutus in Castilla dy Leon&#34; size-min=&#34;3&#34;
                                               size-max=&#34;5&#34; size-function=&#34;linear&#34;&gt;&lt;/ods-map-layer&gt;
                                &lt;ods-map-layer context=&#34;regions&#34; color-categories=&#34;colors&#34; color-by-field=&#34;cod_ine_prov&#34;
                                               color-categories-other=&#34;lightgrey&#34; display=&#34;categories&#34;
                                               shape-opacity=&#34;0.7&#34; tooltip-disabled=&#34;true&#34;&gt;&lt;/ods-map-layer&gt;
                            &lt;/ods-map&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class=&#34;col-xs-12&#34; ng-if=&#34;tabselector == &#39;secondtab&#39;&#34;&gt;
                        &lt;div ng-init=&#34;colors = {};&#34;&gt;
                            &lt;!-- Put serie you want to color regions with in maxval/min --&gt;
                            &lt;div ods-subaggregation=&#34;byPostcode.results&#34; ods-subaggregation-serie-maxval=&#34;MAX(nuevos)&#34;
                                 ods-subaggregation-serie-minval=&#34;MIN(nuevos)&#34;&gt;
                                &lt;span ng-repeat=&#34;res in byPostcode.results&#34;&gt;
                                    {{reg_code = res.codigos &gt; 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); &#34;&#34;}}
                                    {{colors[reg_code] = &#34;hsl(220,75%,&#34; &#43; (75 - ((res.nuevos - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; &#34;%,1)&#34;; &#34;&#34; }}
                                &lt;/span&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;ods-map basemap=&#34;jawg.light&#34; no-refit=&#34;false&#34; scroll-wheel-zoom=&#34;false&#34; display-control=&#34;false&#34;
                                 toolbar-drawing=&#34;false&#34;&gt;
                            &lt;ods-map-layer context=&#34;cases&#34; color=&#34;#142e7b&#34; picto=&#34;ods-circle&#34; display=&#34;clusters&#34;
                                           function=&#34;SUM&#34; expression=&#34;nuevos_positivos&#34; shape-opacity=&#34;0.5&#34;
                                           point-opacity=&#34;1&#34; caption=&#34;false&#34;
                                           title=&#34;Epidimioliogic satutus in Castilla dy Leon&#34;
                                           size-min=&#34;3&#34; size-max=&#34;5&#34; size-function=&#34;linear&#34;&gt;&lt;/ods-map-layer&gt;
                            &lt;ods-map-layer context=&#34;regions&#34; color-categories=&#34;colors&#34; color-by-field=&#34;cod_ine_prov&#34;
                                           color-categories-other=&#34;lightgrey&#34; display=&#34;categories&#34; shape-opacity=&#34;0.7&#34;
                                           tooltip-disabled=&#34;true&#34;&gt;&lt;/ods-map-layer&gt;
                        &lt;/ods-map&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;

        &lt;section&gt;
            &lt;!-- Row of this section a selectable, to stack by filtering the &#34;selected&#34; context. That is why we use the same context twice (otherwise the map and KPIs would also be filtered) --&gt;
            &lt;div class=&#34;row feature-box&#34;&gt;
                &lt;div class=&#34;col-xs-12&#34; title=&#34;Click on a row to add it to the charts below&#34;&gt;
                    &lt;table class=&#34;summary-table&#34;&gt;
                        &lt;thead&gt;
                        &lt;!-- Replace with your own headings. You may add more fields. --&gt;
                        &lt;th&gt;Region&lt;/th&gt;
                        &lt;th&gt;Confirmed&lt;/th&gt;
                        &lt;th&gt;Recovered&lt;/th&gt;
                        &lt;th&gt;Deaths&lt;/th&gt;
                        &lt;/thead&gt;
                        &lt;tbody&gt;
                        &lt;tr ng-repeat=&#34;region in byRegion.results&#34; ng-class=&#34;{&#39;toggled&#39;: toggled}&#34;&gt;
                            &lt;td&gt;
                                &lt;div&gt;
                                    &lt;!-- The custom checkbox is made by using the label and hiding the checkbox. Regular checkboxes will work perfectly as wall (but cannot be styled) --&gt;
                                    &lt;input id=&#34;{{ region.x }}&#34; type=&#34;checkbox&#34; class=&#34;hidden-checkbox&#34;
                                           ods-toggle-model=&#34;$parent.selected.parameters&#34;
                                           ods-toggle-key=&#34;refine.provincia&#34; ods-toggle-value=&#34;{{ region.x }}&#34;/&gt;
                                    &lt;label for=&#34;{{ region.x }}&#34; class=&#34;fake-checkbox&#34;
                                           ng-click=&#34;toggled = !toggled&#34;&gt;&lt;/label&gt;
                                    {{ region.x }}
                                &lt;/div&gt;
                            &lt;/td&gt;
                            &lt;!-- Replace with corresponding data fields --&gt;
                            &lt;td&gt;{{ region.confirmados }}&lt;/td&gt;
                            &lt;td&gt;{{ region.altas }}&lt;/td&gt;
                            &lt;td&gt;{{ region.fallecimientos }}&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
                &lt;!-- Those charts will react to selected rows. Only change the expression-y. --&gt;
                &lt;div class=&#34;col-md-6&#34;&gt;
                    &lt;h4 class=&#34;text-primary text-center&#34;&gt;Evolution&lt;/h4&gt;
                    &lt;ods-chart timescale=&#34;year&#34; single-y-axis=&#34;true&#34; scientific-display=&#34;false&#34; align-month=&#34;true&#34;&gt;
                        &lt;ods-chart-query context=&#34;selected&#34; field-x=&#34;fecha&#34; maxpoints=&#34;0&#34; timescale=&#34;day&#34;&gt;
                            &lt;ods-chart-serie expression-y=&#34;casos_confirmados&#34; chart-type=&#34;spline&#34; function-y=&#34;SUM&#34;
                                             label-y=&#34;Confirmed cases&#34; color=&#34;#00c7b1&#34; scientific-display=&#34;true&#34;
                                             display-values=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                            &lt;ods-chart-serie expression-y=&#34;fallecimientos&#34; chart-type=&#34;line&#34; function-y=&#34;SUM&#34;
                                             label-y=&#34;Deceased&#34; color=&#34;#fc8d62&#34; scientific-display=&#34;true&#34;
                                             display-values=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                        &lt;/ods-chart-query&gt;
                    &lt;/ods-chart&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-6&#34;&gt;
                    &lt;h4 class=&#34;text-primary text-center&#34;&gt;Daily Increment&lt;/h4&gt;
                    &lt;ods-chart timescale=&#34;year&#34; align-month=&#34;true&#34;&gt;
                        &lt;ods-chart-query context=&#34;selected&#34; field-x=&#34;fecha&#34; maxpoints=&#34;0&#34; timescale=&#34;day&#34;&gt;
                            &lt;ods-chart-serie expression-y=&#34;nuevos_positivos&#34; chart-type=&#34;column&#34; function-y=&#34;SUM&#34;
                                             label-y=&#34;New positives&#34; color=&#34;#00c7b1&#34; display-values=&#34;true&#34;
                                             display-stack-values=&#34;false&#34; scientific-display=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                        &lt;/ods-chart-query&gt;
                    &lt;/ods-chart&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;
    &lt;/ods-dataset-context&gt;
&lt;/div&gt;

"
                 role="tabpanel">
                <div class="highlight">
                    <pre class="language-html" data-lang="html"><code>&lt;div class=&#34;container&#34;&gt;
    &lt;section&gt;
        &lt;h2 class=&#34;text-primary text-center mb-4&#34;&gt;
            COVID-19 epidemiologic status in Castilla y León
        &lt;/h2&gt;
    &lt;/section&gt;
    &lt;!-- The data used here are from the first dashboard of the kind on ODS made by Junta de Castilla y Leone.
    See the page here : https://analisis.datosabiertos.jcyl.es/pages/coronavirus/
    See the data here : https://analisis.datosabiertos.jcyl.es/explore/dataset/situacion-epidemiologica-coronavirus-en-castilla-y-leon/table/?disjunctive.provincia&amp;dataChart=eyJxdWVyaWVzIjpbeyJjaGFydHMiOlt7InR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJjYXNvc19jb25maXJtYWRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiM2NmMyYTUifSx7ImFsaWduTW9udGgiOnRydWUsInR5cGUiOiJzcGxpbmUiLCJmdW5jIjoiU1VNIiwieUF4aXMiOiJmYWxsZWNpbWllbnRvcyIsInNjaWVudGlmaWNEaXNwbGF5Ijp0cnVlLCJjb2xvciI6IiNmYzhkNjIifV0sInhBeGlzIjoiZmVjaGEiLCJtYXhwb2ludHMiOiIiLCJ0aW1lc2NhbGUiOiJkYXkiLCJzb3J0IjoiIiwiY29uZmlnIjp7ImRhdGFzZXQiOiJzaXR1YWNpb24tZXBpZGVtaW9sb2dpY2EtY29yb25hdmlydXMtZW4tY2FzdGlsbGEteS1sZW9uIiwib3B0aW9ucyI6eyJkaXNqdW5jdGl2ZS5wcm92aW5jaWEiOnRydWV9fX1dLCJkaXNwbGF5TGVnZW5kIjp0cnVlLCJhbGlnbk1vbnRoIjp0cnVlLCJ0aW1lc2NhbGUiOiIiLCJzaW5nbGVBeGlzIjp0cnVlfQ%3D%3D&amp;location=8,41.64954,-4.33333&amp;basemap=jawg.streets --&gt;
    &lt;ods-dataset-context context=&#34;regions, cases, selected&#34;
                         cases-domain=&#34;jcyl&#34;
                         cases-dataset=&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon&#34;
                         selected-domain=&#34;jcyl&#34;
                         selected-dataset=&#34;situacion-epidemiologica-coronavirus-en-castilla-y-leon&#34;
                         selected-parameters=&#34;{&#39;disjunctive.provincia&#39;:true}&#34;
                         regions-dataset=&#34;limites-provinciales-de-castilla-y-leon-recintos&#34;
                         regions-domain=&#34;https://analisis.datosabiertos.jcyl.es&#34;&gt;
        &lt;span ods-analysis=&#34;byDate&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-max=&#34;0&#34; ods-analysis-x=&#34;fecha&#34;
              ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34; ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34;
              ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34; ods-analysis-sort=&#34;fecha&#34;&gt;
        &lt;/span&gt;
        {{ nbRecords = byDate.results.length - 1; &#34;&#34; }}
        &lt;!-- This code will refine results for latest date present in the datafield. The data on a given date must then already have the cumulative total at a given day avalaible.
      If you only have daily increments, you need one more context that is not refined by the last date, on which you do the ODS analysis with SUM --&gt;
        &lt;span ods-results=&#34;list&#34; ods-results-context=&#34;cases&#34; ods-results-max=&#34;-1&#34; ods-results-sort=&#34;fecha&#34;&gt;
            {{ lastDate = list[list.length-1].fields.fecha; &#34;&#34; }}
            {{ cases.parameters[&#39;refine.fecha&#39;] = lastDate;&#34;&#34;}}
        &lt;/span&gt;
        &lt;span ods-analysis=&#34;byPostcode&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-max=&#34;0&#34;
              ods-analysis-x-provincia=&#34;provincia&#34; ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34;
              ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34; ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34;
              ods-analysis-serie-codigos=&#34;SUM(codigo_ine)&#34; ods-analysis-sort=&#34;-codigos&#34;&gt;
        &lt;/span&gt;
        &lt;span ods-analysis=&#34;byRegion&#34; ods-analysis-context=&#34;cases&#34; ods-analysis-x=&#34;provincia&#34; ods-analysis-max=&#34;0&#34;
              ods-analysis-serie-confirmados=&#34;SUM(casos_confirmados)&#34; ods-analysis-serie-nuevos=&#34;SUM(nuevos_positivos)&#34;
              ods-analysis-serie-altas=&#34;SUM(altas)&#34; ods-analysis-serie-fallecimientos=&#34;SUM(fallecimientos)&#34;
              ods-analysis-sort=&#34;confirmados&#34;&gt;
        &lt;/span&gt;

        &lt;!-- These are a few examples key figures you may want to put. You can add as many as you want, they will warp to multiple lines if you have a lot (but consider not putting too many) --&gt;
        &lt;section&gt;
            &lt;div class=&#34;row&#34;&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].confirmados }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Cases&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].nuevos }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;New-cases today&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].altas }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Recovered&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-3&#34;&gt;
                    &lt;div class=&#34;insight-card&#34;&gt;
                        &lt;h3 class=&#34;text-highlight insight-figure&#34;&gt;{{ byDate.results[nbRecords].fallecimientos }}&lt;/h3&gt;
                        &lt;p class=&#34;text-light&#34;&gt;Deaths&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;
        &lt;p ods-resluts=&#34;items&#34; ods-results-context=&#34;cases&#34; ods-results-max=&#34;0&#34;&gt;{{ items }}&lt;/p&gt;
        &lt;!-- The example shows two tabs, you may add as many as you want for deaths etc. (but we strongly recommend not adding too many)
    The subagregation here is only needed for colors--&gt;
        &lt;section&gt;
            &lt;div class=&#34;row feature-box&#34; ng-init=&#34;tabselector = &#39;firsttab&#39;&#34;&gt;
                &lt;div class=&#34;col-xs-12&#34;&gt;
                    &lt;div class=&#34;tabs&#34;&gt;
                        &lt;a class=&#34;tab&#34; ng-click=&#34;tabselector = &#39;firsttab&#39;&#34;
                           ng-class=&#34;{&#39;activetab&#39; : tabselector == &#39;firsttab&#39;}&#34;&gt;
                            Total cases
                        &lt;/a&gt;
                        &lt;a class=&#34;tab&#34; ng-click=&#34;tabselector = &#39;secondtab&#39;&#34;
                           ng-class=&#34;{&#39;activetab&#39; : tabselector == &#39;secondtab&#39;}&#34;&gt;
                            New cases today
                        &lt;/a&gt;
                    &lt;/div&gt;
                    &lt;div class=&#34;col-xs-12&#34; ng-if=&#34;tabselector == &#39;firsttab&#39;&#34;&gt;
                        &lt;div ng-init=&#34;colors = {};&#34;&gt;
                            &lt;!-- Put serie you want to color regions with in &#34;maxval/minval&#34; res.&#34;nameofserie&#34;. Replace res.codigos with your ZIP code field name --&gt;
                            &lt;div ods-subaggregation=&#34;byPostcode.results&#34;
                                 ods-subaggregation-serie-maxval=&#34;MAX(confirmados)&#34;
                                 ods-subaggregation-serie-minval=&#34;MIN(confirmados)&#34;&gt;
                                &lt;span ng-repeat=&#34;res in byPostcode.results&#34;&gt;
                                    &lt;!-- This is a little trick to have 5 digit ZIP code match 2 digit region code --&gt;
                                    {{reg_code = res.codigos &gt; 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); &#34;&#34;}}
                                    {{colors[reg_code] = &#34;hsl(220,75%,&#34; &#43; (75 - ((res.confirmados - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; &#34;%,1)&#34;; &#34;&#34; }}
                                &lt;/span&gt;
                            &lt;/div&gt;
                            &lt;ods-map basemap=&#34;jawg.light&#34; no-refit=&#34;false&#34; scroll-wheel-zoom=&#34;false&#34;
                                     display-control=&#34;false&#34; toolbar-drawing=&#34;false&#34;&gt;
                                &lt;!-- Put the serie you want as numbers on the map in &#34;expresion&#34; --&gt;
                                &lt;ods-map-layer context=&#34;cases&#34; color=&#34;#142e7b&#34; picto=&#34;ods-circle&#34; display=&#34;clusters&#34;
                                               function=&#34;SUM&#34; expression=&#34;casos_confirmados&#34; shape-opacity=&#34;0.5&#34;
                                               point-opacity=&#34;1&#34; caption=&#34;false&#34;
                                               title=&#34;Epidimioliogic satutus in Castilla dy Leon&#34; size-min=&#34;3&#34;
                                               size-max=&#34;5&#34; size-function=&#34;linear&#34;&gt;&lt;/ods-map-layer&gt;
                                &lt;ods-map-layer context=&#34;regions&#34; color-categories=&#34;colors&#34; color-by-field=&#34;cod_ine_prov&#34;
                                               color-categories-other=&#34;lightgrey&#34; display=&#34;categories&#34;
                                               shape-opacity=&#34;0.7&#34; tooltip-disabled=&#34;true&#34;&gt;&lt;/ods-map-layer&gt;
                            &lt;/ods-map&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class=&#34;col-xs-12&#34; ng-if=&#34;tabselector == &#39;secondtab&#39;&#34;&gt;
                        &lt;div ng-init=&#34;colors = {};&#34;&gt;
                            &lt;!-- Put serie you want to color regions with in maxval/min --&gt;
                            &lt;div ods-subaggregation=&#34;byPostcode.results&#34; ods-subaggregation-serie-maxval=&#34;MAX(nuevos)&#34;
                                 ods-subaggregation-serie-minval=&#34;MIN(nuevos)&#34;&gt;
                                &lt;span ng-repeat=&#34;res in byPostcode.results&#34;&gt;
                                    {{reg_code = res.codigos &gt; 9999 ? (res.codigos | limitTo:2) : (res.codigos | limitTo:1); &#34;&#34;}}
                                    {{colors[reg_code] = &#34;hsl(220,75%,&#34; &#43; (75 - ((res.nuevos - results[0].minval) / (results[0].maxval - results[0].minval) * 50) | number : 0) &#43; &#34;%,1)&#34;; &#34;&#34; }}
                                &lt;/span&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;ods-map basemap=&#34;jawg.light&#34; no-refit=&#34;false&#34; scroll-wheel-zoom=&#34;false&#34; display-control=&#34;false&#34;
                                 toolbar-drawing=&#34;false&#34;&gt;
                            &lt;ods-map-layer context=&#34;cases&#34; color=&#34;#142e7b&#34; picto=&#34;ods-circle&#34; display=&#34;clusters&#34;
                                           function=&#34;SUM&#34; expression=&#34;nuevos_positivos&#34; shape-opacity=&#34;0.5&#34;
                                           point-opacity=&#34;1&#34; caption=&#34;false&#34;
                                           title=&#34;Epidimioliogic satutus in Castilla dy Leon&#34;
                                           size-min=&#34;3&#34; size-max=&#34;5&#34; size-function=&#34;linear&#34;&gt;&lt;/ods-map-layer&gt;
                            &lt;ods-map-layer context=&#34;regions&#34; color-categories=&#34;colors&#34; color-by-field=&#34;cod_ine_prov&#34;
                                           color-categories-other=&#34;lightgrey&#34; display=&#34;categories&#34; shape-opacity=&#34;0.7&#34;
                                           tooltip-disabled=&#34;true&#34;&gt;&lt;/ods-map-layer&gt;
                        &lt;/ods-map&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;

        &lt;section&gt;
            &lt;!-- Row of this section a selectable, to stack by filtering the &#34;selected&#34; context. That is why we use the same context twice (otherwise the map and KPIs would also be filtered) --&gt;
            &lt;div class=&#34;row feature-box&#34;&gt;
                &lt;div class=&#34;col-xs-12&#34; title=&#34;Click on a row to add it to the charts below&#34;&gt;
                    &lt;table class=&#34;summary-table&#34;&gt;
                        &lt;thead&gt;
                        &lt;!-- Replace with your own headings. You may add more fields. --&gt;
                        &lt;th&gt;Region&lt;/th&gt;
                        &lt;th&gt;Confirmed&lt;/th&gt;
                        &lt;th&gt;Recovered&lt;/th&gt;
                        &lt;th&gt;Deaths&lt;/th&gt;
                        &lt;/thead&gt;
                        &lt;tbody&gt;
                        &lt;tr ng-repeat=&#34;region in byRegion.results&#34; ng-class=&#34;{&#39;toggled&#39;: toggled}&#34;&gt;
                            &lt;td&gt;
                                &lt;div&gt;
                                    &lt;!-- The custom checkbox is made by using the label and hiding the checkbox. Regular checkboxes will work perfectly as wall (but cannot be styled) --&gt;
                                    &lt;input id=&#34;{{ region.x }}&#34; type=&#34;checkbox&#34; class=&#34;hidden-checkbox&#34;
                                           ods-toggle-model=&#34;$parent.selected.parameters&#34;
                                           ods-toggle-key=&#34;refine.provincia&#34; ods-toggle-value=&#34;{{ region.x }}&#34;/&gt;
                                    &lt;label for=&#34;{{ region.x }}&#34; class=&#34;fake-checkbox&#34;
                                           ng-click=&#34;toggled = !toggled&#34;&gt;&lt;/label&gt;
                                    {{ region.x }}
                                &lt;/div&gt;
                            &lt;/td&gt;
                            &lt;!-- Replace with corresponding data fields --&gt;
                            &lt;td&gt;{{ region.confirmados }}&lt;/td&gt;
                            &lt;td&gt;{{ region.altas }}&lt;/td&gt;
                            &lt;td&gt;{{ region.fallecimientos }}&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
                &lt;!-- Those charts will react to selected rows. Only change the expression-y. --&gt;
                &lt;div class=&#34;col-md-6&#34;&gt;
                    &lt;h4 class=&#34;text-primary text-center&#34;&gt;Evolution&lt;/h4&gt;
                    &lt;ods-chart timescale=&#34;year&#34; single-y-axis=&#34;true&#34; scientific-display=&#34;false&#34; align-month=&#34;true&#34;&gt;
                        &lt;ods-chart-query context=&#34;selected&#34; field-x=&#34;fecha&#34; maxpoints=&#34;0&#34; timescale=&#34;day&#34;&gt;
                            &lt;ods-chart-serie expression-y=&#34;casos_confirmados&#34; chart-type=&#34;spline&#34; function-y=&#34;SUM&#34;
                                             label-y=&#34;Confirmed cases&#34; color=&#34;#00c7b1&#34; scientific-display=&#34;true&#34;
                                             display-values=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                            &lt;ods-chart-serie expression-y=&#34;fallecimientos&#34; chart-type=&#34;line&#34; function-y=&#34;SUM&#34;
                                             label-y=&#34;Deceased&#34; color=&#34;#fc8d62&#34; scientific-display=&#34;true&#34;
                                             display-values=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                        &lt;/ods-chart-query&gt;
                    &lt;/ods-chart&gt;
                &lt;/div&gt;
                &lt;div class=&#34;col-md-6&#34;&gt;
                    &lt;h4 class=&#34;text-primary text-center&#34;&gt;Daily Increment&lt;/h4&gt;
                    &lt;ods-chart timescale=&#34;year&#34; align-month=&#34;true&#34;&gt;
                        &lt;ods-chart-query context=&#34;selected&#34; field-x=&#34;fecha&#34; maxpoints=&#34;0&#34; timescale=&#34;day&#34;&gt;
                            &lt;ods-chart-serie expression-y=&#34;nuevos_positivos&#34; chart-type=&#34;column&#34; function-y=&#34;SUM&#34;
                                             label-y=&#34;New positives&#34; color=&#34;#00c7b1&#34; display-values=&#34;true&#34;
                                             display-stack-values=&#34;false&#34; scientific-display=&#34;true&#34;&gt;
                            &lt;/ods-chart-serie&gt;
                        &lt;/ods-chart-query&gt;
                    &lt;/ods-chart&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;
    &lt;/ods-dataset-context&gt;
&lt;/div&gt;

</code></pre>
                </div>
            </div>
            
            <div class="js-tabcontent"
                 id="code-regional-covid-dashboard-css-content"
                 data-clipboard="/* General settings */
body {
    background-color: #f6f8fb;
}

.feature-box {
    margin: 21px 0px;
    padding: 13px;
    background: white;
    border-radius: 4px;
    background-color: #ffffff;
    background-size: cover;
    box-shadow: 0 1px 3px rgba(0,0,0,0.13);
}
/* Table design */
.summary-table {
    table-layout: fixed;
    white-space: nowrap;
    width: 100%;
    margin-bottom: 21px;
}

.summary-table thead {
    background: #f6f8fb;
    color: #142e7b;
}

.summary-table td,
th {
    padding: 1rem;
}

.summary-table td {
    border-top: 1px solid;
    border-color: #dee5ef;
}

.summary-table tr:hover {
    background: #f6f8fb;
}

.summary-table .toggled {
    background: #f6f8fb;
}

.hidden-checkbox {
    visibility: hidden;
}

.fake-checkbox {
    width: 21px;
    height: 21px;
    background: white;
    border: 1px solid #142e7b;
    border-radius: 4px;
    font-weight: normal;
}

.fake-checkbox:after {
    content: &#34;\f00c&#34;;
    opacity: 0;
    font-family: FontAwesome;
    color: #142e7b;
    margin-left: 3px;
}

.hidden-checkbox:checked ~ .fake-checkbox:after {
    content: &#34;\f00c&#34;;
    opacity: 1;
    font-family: FontAwesome;
    color: #142e7b;
    margin-left: 3px;
}

/* cards */
.insight-card {
    margin: 13px;
    border: 1px dotted #142e7b;
    border-radius: 4px;
    color: #565656;
    text-decoration: rgb(86, 86, 86);
    box-shadow: 0px 0px 0px rgba(0,0,0,0);
    text-align: center;
    padding: 21px;
    height: 100%;
}

.insight-figure {
    font-size: 34px;
}
/* tabs */
.tabs {
    margin: 1em;
    /* Adds lots of space around the tabs, to avoid the border to fall into the tab content area */
}

.tab {
    padding: 10px 20px;
    /* Gives some space to tab titles */
    color: gray;
    /* Colors the text in gray */
}
/* Only visible when the mouse is on a tab title */
.tab:hover {
    color: black;
    /* Colors the text in black to highlight the possible selection */
    text-decoration: none;
    /* Removes the hyperlink underline style */
}

.activetab {
    color: black;
    /* Colors the text in black */
    border-bottom: 3px solid #2d2d2d;
    /* Underlines the text with a bold dark border */
}

/* Utilities */
.mb-4 {
    margin-bottom: 55px;
}

.text-primary {
    color: #142e7b;
}

.text-highlight {
    color: #00c7b1;
}

.text-center {
    text-align: center;
}

.text-light {
    color: #898D92;
}

.justify-content-left {
    display: flex;
    justify-content: flex-start;
}
">
                <div class="highlight">
                    <pre class="language-css" data-lang="css"><code>/* General settings */
body {
    background-color: #f6f8fb;
}

.feature-box {
    margin: 21px 0px;
    padding: 13px;
    background: white;
    border-radius: 4px;
    background-color: #ffffff;
    background-size: cover;
    box-shadow: 0 1px 3px rgba(0,0,0,0.13);
}
/* Table design */
.summary-table {
    table-layout: fixed;
    white-space: nowrap;
    width: 100%;
    margin-bottom: 21px;
}

.summary-table thead {
    background: #f6f8fb;
    color: #142e7b;
}

.summary-table td,
th {
    padding: 1rem;
}

.summary-table td {
    border-top: 1px solid;
    border-color: #dee5ef;
}

.summary-table tr:hover {
    background: #f6f8fb;
}

.summary-table .toggled {
    background: #f6f8fb;
}

.hidden-checkbox {
    visibility: hidden;
}

.fake-checkbox {
    width: 21px;
    height: 21px;
    background: white;
    border: 1px solid #142e7b;
    border-radius: 4px;
    font-weight: normal;
}

.fake-checkbox:after {
    content: &#34;\f00c&#34;;
    opacity: 0;
    font-family: FontAwesome;
    color: #142e7b;
    margin-left: 3px;
}

.hidden-checkbox:checked ~ .fake-checkbox:after {
    content: &#34;\f00c&#34;;
    opacity: 1;
    font-family: FontAwesome;
    color: #142e7b;
    margin-left: 3px;
}

/* cards */
.insight-card {
    margin: 13px;
    border: 1px dotted #142e7b;
    border-radius: 4px;
    color: #565656;
    text-decoration: rgb(86, 86, 86);
    box-shadow: 0px 0px 0px rgba(0,0,0,0);
    text-align: center;
    padding: 21px;
    height: 100%;
}

.insight-figure {
    font-size: 34px;
}
/* tabs */
.tabs {
    margin: 1em;
    /* Adds lots of space around the tabs, to avoid the border to fall into the tab content area */
}

.tab {
    padding: 10px 20px;
    /* Gives some space to tab titles */
    color: gray;
    /* Colors the text in gray */
}
/* Only visible when the mouse is on a tab title */
.tab:hover {
    color: black;
    /* Colors the text in black to highlight the possible selection */
    text-decoration: none;
    /* Removes the hyperlink underline style */
}

.activetab {
    color: black;
    /* Colors the text in black */
    border-bottom: 3px solid #2d2d2d;
    /* Underlines the text with a bold dark border */
}

/* Utilities */
.mb-4 {
    margin-bottom: 55px;
}

.text-primary {
    color: #142e7b;
}

.text-highlight {
    color: #00c7b1;
}

.text-center {
    text-align: center;
}

.text-light {
    color: #898D92;
}

.justify-content-left {
    display: flex;
    justify-content: flex-start;
}
</code></pre>
                </div>
            </div>
            
        </div>
    </div>
</div>

                </div>
            
        </article>
        
    </div>
</section>

      </div>
    </div>

    <footer class="footer">
    <a href="https://www.opendatasoft.com"
       class="footer-link"
       title="Opendatasoft website">
        <img src="/img/ods-logo.svg"
             class="footer-logo"
             alt="Opendatasoft logo"
        />
    </a>
    <span class="footer-copyright">
        &copy; Copyright 2020
    </span>
</footer>
    
    
    

    <script>
      var process = { env: { NODE_ENV: "production" } };
    </script>
    <script
      type="text/javascript"
      src="/index.min.ba71bbe69583a06c1a20d50de7512f7cd7ee767a9fcdbe52935b11b762c22a39.js"
      defer
    ></script>
  </body>
</html>
